import{c,d}from"./chunk-MLGNVLFZ.js";import{signal as u,inject as p}from"@angular/core";import{RouterOutlet as b,RouterModule as M,Router as x}from"@angular/router";import{ActivatedRoute as C}from"@angular/router";import{CommonModule as g}from"@angular/common";import{FormsModule as h}from"@angular/forms";import*as t from"@angular/core";var m=class r{constructor(a){this.tenant=a}static \u0275fac=function(n){return new(n||r)(t.\u0275\u0275directiveInject(d))};static \u0275cmp=t.\u0275\u0275defineComponent({type:r,selectors:[["app-tenant-switcher"]],decls:6,vars:1,consts:[[1,"tenant-switcher"],[1,"tenant-header"],[1,"tenant-name"]],template:function(n,l){if(n&1&&(t.\u0275\u0275domElementStart(0,"div",0)(1,"div",1)(2,"div",2),t.\u0275\u0275text(3,"Constituency: "),t.\u0275\u0275domElementStart(4,"strong"),t.\u0275\u0275text(5),t.\u0275\u0275domElementEnd()()()()),n&2){let i;t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(((i=l.tenant.getCurrentTenant())==null?null:i.displayName)||"Default")}},dependencies:[g,h,c],styles:[".tenant-switcher[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid rgba(255,255,255,.08);background:#ffffff08;margin:0 0 8px}.tenant-header[_ngcontent-%COMP%]{display:flex;align-items:center}.tenant-name[_ngcontent-%COMP%]{font-size:13px;color:#cbd5e1}.tenant-name[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#fff;font-weight:600}.feature[_ngcontent-%COMP%]     .mdc-label{color:#cbd5e1;font-size:11px;padding-left:8px}"]})};import*as e from"@angular/core";import*as s from"@angular/router";import*as f from"@angular/material/list";import*as o from"@angular/material/sidenav";var v=class r{title=u("buildaq-politicianhub");router=p(x);route=p(C);constructor(){}ngOnInit(){let a=new URLSearchParams(window.location.search),n=a.get("authToken");if(n){localStorage.setItem("shellAuthToken",n),localStorage.setItem("auth_token",n),window.parent!==window&&window.parent.postMessage({type:"schools-ready",token:n},"*");let i=new URL(window.location.href);i.searchParams.delete("authToken"),window.history.replaceState({},"",i.pathname+i.hash)}let l=a.get("goto");if(l)try{setTimeout(()=>{try{this.router.navigate([l])}catch(i){console.warn("goto navigation failed",i)}},50)}catch(i){console.warn("Failed to process goto query param",i)}}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-root"]],decls:74,vars:0,consts:[[1,"app-shell"],[1,"app-sidenav-container"],["mode","side","opened","",1,"app-sidebar"],[1,"sidebar-header"],[1,"brand-logo"],["viewBox","0 0 24 24","fill","none",1,"logo-icon"],["d","M12 2L2 7v10c0 5.55 3.84 10.74 10 12 6.16-1.26 10-6.45 10-12V7l-10-5z","fill","currentColor"],[1,"brand-text"],[1,"brand-name"],[1,"brand-subtitle"],[1,"sidebar-nav"],[1,"nav-section"],[1,"nav-section-title"],["mat-list-item","","routerLink","/dashboard","routerLinkActive","active",1,"nav-item"],["viewBox","0 0 24 24",1,"nav-icon"],["d","M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z","fill","currentColor"],[1,"nav-label"],["mat-list-item","","routerLink","/grievances","routerLinkActive","active",1,"nav-item"],["d","M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z","fill","currentColor"],["mat-list-item","","routerLink","/voters","routerLinkActive","active",1,"nav-item"],["d","M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z","fill","currentColor"],["mat-list-item","","routerLink","/works","routerLinkActive","active",1,"nav-item"],["d","M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z","fill","currentColor"],["mat-list-item","","routerLink","/volunteers","routerLinkActive","active",1,"nav-item"],["mat-list-item","","routerLink","/communications","routerLinkActive","active",1,"nav-item"],["d","M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z","fill","currentColor"],["mat-list-item","","routerLink","/events","routerLinkActive","active",1,"nav-item"],["d","M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z","fill","currentColor"],["mat-list-item","","routerLink","/media","routerLinkActive","active",1,"nav-item"],["d","M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h18v14zM8.5 15l2.5-3.15L14.5 16l3-4L21 17H3z","fill","currentColor"],["mat-list-item","","routerLink","/analytics","routerLinkActive","active",1,"nav-item"],["d","M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z","fill","currentColor"],[1,"app-main"]],template:function(n,l){n&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"mat-sidenav-container",1)(2,"mat-sidenav",2)(3,"div",3)(4,"div",4),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(5,"svg",5),e.\u0275\u0275element(6,"path",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(7,"div",7)(8,"div",8),e.\u0275\u0275text(9,"BuildAQ"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",9),e.\u0275\u0275text(11,"PoliticianHub"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275element(12,"app-tenant-switcher"),e.\u0275\u0275elementStart(13,"nav",10)(14,"div",11)(15,"div",12),e.\u0275\u0275text(16,"Main"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"a",13),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(18,"svg",14),e.\u0275\u0275element(19,"path",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(20,"span",16),e.\u0275\u0275text(21,"Dashboard"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(22,"div",11)(23,"div",12),e.\u0275\u0275text(24,"Constituency Operations"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"a",17),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(26,"svg",14),e.\u0275\u0275element(27,"path",18),e.\u0275\u0275elementEnd(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(28,"span",16),e.\u0275\u0275text(29,"Grievances"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(30,"a",19),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(31,"svg",14),e.\u0275\u0275element(32,"path",20),e.\u0275\u0275elementEnd(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(33,"span",16),e.\u0275\u0275text(34,"Voters & Database"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(35,"a",21),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(36,"svg",14),e.\u0275\u0275element(37,"path",22),e.\u0275\u0275elementEnd(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(38,"span",16),e.\u0275\u0275text(39,"Development Works"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(40,"a",23),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(41,"svg",14),e.\u0275\u0275element(42,"path",20),e.\u0275\u0275elementEnd(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(43,"span",16),e.\u0275\u0275text(44,"Volunteers"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(45,"div",11)(46,"div",12),e.\u0275\u0275text(47,"Communications"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"a",24),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(49,"svg",14),e.\u0275\u0275element(50,"path",25),e.\u0275\u0275elementEnd(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(51,"span",16),e.\u0275\u0275text(52,"Broadcast Center"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(53,"a",26),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(54,"svg",14),e.\u0275\u0275element(55,"path",27),e.\u0275\u0275elementEnd(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(56,"span",16),e.\u0275\u0275text(57,"Events & Tours"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(58,"a",28),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(59,"svg",14),e.\u0275\u0275element(60,"path",29),e.\u0275\u0275elementEnd(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(61,"span",16),e.\u0275\u0275text(62,"Media & Social"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(63,"div",11)(64,"div",12),e.\u0275\u0275text(65,"Analytics"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(66,"a",30),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(67,"svg",14),e.\u0275\u0275element(68,"path",31),e.\u0275\u0275elementEnd(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(69,"span",16),e.\u0275\u0275text(70,"Reports & Insights"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(71,"mat-sidenav-content")(72,"main",32),e.\u0275\u0275element(73,"router-outlet"),e.\u0275\u0275elementEnd()()()())},dependencies:[b,M,s.RouterLink,s.RouterLinkActive,m,c,f.MatListItem,o.MatSidenav,o.MatSidenavContainer,o.MatSidenavContent],styles:['.app-shell[_ngcontent-%COMP%]{display:flex}.app-sidebar[_ngcontent-%COMP%]{width:260px;background:linear-gradient(180deg,#1a1f2e,#0f1419);color:#fff;min-height:100vh;padding:0;border-right:1px solid rgba(255,255,255,.08);box-shadow:2px 0 12px #00000026}.sidebar-header[_ngcontent-%COMP%]{padding:1.5rem 1.25rem;border-bottom:1px solid rgba(255,255,255,.08);margin-bottom:.5rem}.brand-logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.logo-icon[_ngcontent-%COMP%]{width:36px;height:36px;color:#60a5fa;filter:drop-shadow(0 0 8px rgba(96,165,250,.4))}.brand-text[_ngcontent-%COMP%]{display:flex;flex-direction:column}.brand-name[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#fff;letter-spacing:.02em}.brand-subtitle[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8;text-transform:uppercase;letter-spacing:.08em;font-weight:600}.sidebar-nav[_ngcontent-%COMP%]{padding:.5rem 0;overflow-y:auto;max-height:calc(100vh - 180px)}.nav-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.nav-section-title[_ngcontent-%COMP%]{padding:.5rem 1.25rem;font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.1em;color:#64748b;margin-bottom:.25rem}.nav-item[_ngcontent-%COMP%]{display:flex!important;align-items:center;gap:12px;padding:.75rem 1.25rem!important;color:#cbd5e1;text-decoration:none;transition:all .2s ease;border-left:3px solid transparent;margin:2px 0;cursor:pointer;position:relative}.nav-item[_ngcontent-%COMP%]:hover{background:#ffffff0f;color:#fff;border-left-color:#60a5fa4d}.nav-item.active[_ngcontent-%COMP%]{background:#60a5fa26;color:#fff;border-left-color:#60a5fa;box-shadow:inset 0 0 0 1px #60a5fa33}.nav-item.active[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:50%;transform:translateY(-50%);width:3px;height:60%;background:#60a5fa;box-shadow:0 0 8px #60a5fa99}.nav-icon[_ngcontent-%COMP%]{width:20px;height:20px;flex-shrink:0;opacity:.8}.nav-item[_ngcontent-%COMP%]:hover   .nav-icon[_ngcontent-%COMP%], .nav-item.active[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{opacity:1;color:#60a5fa}.nav-label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;letter-spacing:.01em}.app-main[_ngcontent-%COMP%]{flex:1;padding:1rem;background:#f3f4f6;min-height:100vh}.page[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:10px;box-shadow:0 4px 12px #0206170f}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-bottom:1px solid #eee;text-align:left}.class-card[_ngcontent-%COMP%]{background:#f8fafc;padding:.75rem;border-radius:8px;margin-bottom:.5rem}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff0d}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff3;border-radius:3px}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ffffff4d}']})};export{v as App};
