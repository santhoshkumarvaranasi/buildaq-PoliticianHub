import{a as U,b as yt,c as L,d as In}from"./chunk-MLGNVLFZ.js";import{CommonModule as A1}from"@angular/common";import{RouterModule as R1}from"@angular/router";import{provideHttpClient as N1}from"@angular/common/http";import{CommonModule as Tr}from"@angular/common";import{FormsModule as Dr}from"@angular/forms";import{MatPaginator as Ir}from"@angular/material/paginator";import{MatSort as Fr}from"@angular/material/sort";import{MatTableDataSource as Ar}from"@angular/material/table";import{CommonModule as wr}from"@angular/common";import{FormsModule as Pr}from"@angular/forms";import{MAT_DIALOG_DATA as Or}from"@angular/material/dialog";import*as R from"@angular/core";import*as Dt from"@angular/material/dialog";import*as ca from"@angular/common";import*as Qt from"@angular/forms";import*as da from"@angular/material/button";import*as Yt from"@angular/material/input";import*as Fn from"@angular/material/select";function Sr(i,e){if(i&1&&(R.\u0275\u0275elementStart(0,"mat-option",16),R.\u0275\u0275text(1),R.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;R.\u0275\u0275property("value",t),R.\u0275\u0275advance(),R.\u0275\u0275textInterpolate(t)}}var Ze=class i{constructor(e,t){this.data=e;this.dialogRef=t;this.form=Object.assign({class:"",section:"",rollNo:"",email:"",status:"active",enrollmentDate:new Date().toISOString().slice(0,10)},e.student||{}),e.student?this.form.name=`${e.student.firstName||""} ${e.student.lastName||""}`.trim()||this.form.name:this.form.name=this.form.name||""}form;save(){this.form.name?.trim()&&this.dialogRef.close(this.form)}close(){this.dialogRef.close()}static \u0275fac=function(t){return new(t||i)(R.\u0275\u0275directiveInject(Or),R.\u0275\u0275directiveInject(Dt.MatDialogRef))};static \u0275cmp=R.\u0275\u0275defineComponent({type:i,selectors:[["app-add-student-dialog"]],decls:44,vars:10,consts:[["mat-dialog-title",""],[1,"dialog-body"],[1,"form-grid"],["appearance","fill"],["matInput","","placeholder","Jane Doe",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["matInput","",3,"ngModelChange","ngModel"],["matInput","","type","email",3,"ngModelChange","ngModel"],["value","active"],["value","inactive"],["value","transferred"],["matInput","","type","date",3,"ngModelChange","ngModel"],["align","end"],["mat-button","",3,"click"],["mat-flat-button","","color","primary",3,"click","disabled"],[3,"value"]],template:function(t,n){t&1&&(R.\u0275\u0275elementStart(0,"h2",0),R.\u0275\u0275text(1),R.\u0275\u0275elementEnd(),R.\u0275\u0275elementStart(2,"mat-dialog-content",1)(3,"div",2)(4,"mat-form-field",3)(5,"mat-label"),R.\u0275\u0275text(6,"Full name"),R.\u0275\u0275elementEnd(),R.\u0275\u0275elementStart(7,"input",4),R.\u0275\u0275twoWayListener("ngModelChange",function(o){return R.\u0275\u0275twoWayBindingSet(n.form.name,o)||(n.form.name=o),o}),R.\u0275\u0275elementEnd()(),R.\u0275\u0275elementStart(8,"mat-form-field",3)(9,"mat-label"),R.\u0275\u0275text(10,"Class"),R.\u0275\u0275elementEnd(),R.\u0275\u0275elementStart(11,"mat-select",5),R.\u0275\u0275twoWayListener("ngModelChange",function(o){return R.\u0275\u0275twoWayBindingSet(n.form.class,o)||(n.form.class=o),o}),R.\u0275\u0275template(12,Sr,2,2,"mat-option",6),R.\u0275\u0275elementEnd()(),R.\u0275\u0275elementStart(13,"mat-form-field",3)(14,"mat-label"),R.\u0275\u0275text(15,"Section"),R.\u0275\u0275elementEnd(),R.\u0275\u0275elementStart(16,"input",7),R.\u0275\u0275twoWayListener("ngModelChange",function(o){return R.\u0275\u0275twoWayBindingSet(n.form.section,o)||(n.form.section=o),o}),R.\u0275\u0275elementEnd()(),R.\u0275\u0275elementStart(17,"mat-form-field",3)(18,"mat-label"),R.\u0275\u0275text(19,"Roll No"),R.\u0275\u0275elementEnd(),R.\u0275\u0275elementStart(20,"input",7),R.\u0275\u0275twoWayListener("ngModelChange",function(o){return R.\u0275\u0275twoWayBindingSet(n.form.rollNo,o)||(n.form.rollNo=o),o}),R.\u0275\u0275elementEnd()(),R.\u0275\u0275elementStart(21,"mat-form-field",3)(22,"mat-label"),R.\u0275\u0275text(23,"Email"),R.\u0275\u0275elementEnd(),R.\u0275\u0275elementStart(24,"input",8),R.\u0275\u0275twoWayListener("ngModelChange",function(o){return R.\u0275\u0275twoWayBindingSet(n.form.email,o)||(n.form.email=o),o}),R.\u0275\u0275elementEnd()(),R.\u0275\u0275elementStart(25,"mat-form-field",3)(26,"mat-label"),R.\u0275\u0275text(27,"Status"),R.\u0275\u0275elementEnd(),R.\u0275\u0275elementStart(28,"mat-select",5),R.\u0275\u0275twoWayListener("ngModelChange",function(o){return R.\u0275\u0275twoWayBindingSet(n.form.status,o)||(n.form.status=o),o}),R.\u0275\u0275elementStart(29,"mat-option",9),R.\u0275\u0275text(30,"Active"),R.\u0275\u0275elementEnd(),R.\u0275\u0275elementStart(31,"mat-option",10),R.\u0275\u0275text(32,"Inactive"),R.\u0275\u0275elementEnd(),R.\u0275\u0275elementStart(33,"mat-option",11),R.\u0275\u0275text(34,"Transferred"),R.\u0275\u0275elementEnd()()(),R.\u0275\u0275elementStart(35,"mat-form-field",3)(36,"mat-label"),R.\u0275\u0275text(37,"Enrollment date"),R.\u0275\u0275elementEnd(),R.\u0275\u0275elementStart(38,"input",12),R.\u0275\u0275twoWayListener("ngModelChange",function(o){return R.\u0275\u0275twoWayBindingSet(n.form.enrollmentDate,o)||(n.form.enrollmentDate=o),o}),R.\u0275\u0275elementEnd()()()(),R.\u0275\u0275elementStart(39,"mat-dialog-actions",13)(40,"button",14),R.\u0275\u0275listener("click",function(){return n.close()}),R.\u0275\u0275text(41,"Cancel"),R.\u0275\u0275elementEnd(),R.\u0275\u0275elementStart(42,"button",15),R.\u0275\u0275listener("click",function(){return n.save()}),R.\u0275\u0275text(43,"Save"),R.\u0275\u0275elementEnd()()),t&2&&(R.\u0275\u0275advance(),R.\u0275\u0275textInterpolate(n.data.mode==="edit"?"Edit Student":"Add Student"),R.\u0275\u0275advance(6),R.\u0275\u0275twoWayProperty("ngModel",n.form.name),R.\u0275\u0275advance(4),R.\u0275\u0275twoWayProperty("ngModel",n.form.class),R.\u0275\u0275advance(),R.\u0275\u0275property("ngForOf",n.data.classes),R.\u0275\u0275advance(4),R.\u0275\u0275twoWayProperty("ngModel",n.form.section),R.\u0275\u0275advance(4),R.\u0275\u0275twoWayProperty("ngModel",n.form.rollNo),R.\u0275\u0275advance(4),R.\u0275\u0275twoWayProperty("ngModel",n.form.email),R.\u0275\u0275advance(4),R.\u0275\u0275twoWayProperty("ngModel",n.form.status),R.\u0275\u0275advance(10),R.\u0275\u0275twoWayProperty("ngModel",n.form.enrollmentDate),R.\u0275\u0275advance(4),R.\u0275\u0275property("disabled",!(n.form.name!=null&&n.form.name.trim())))},dependencies:[wr,ca.NgForOf,Pr,Qt.DefaultValueAccessor,Qt.NgControlStatus,Qt.NgModel,L,da.MatButton,Yt.MatInput,Yt.MatFormField,Yt.MatLabel,Fn.MatSelect,Fn.MatOption,Dt.MatDialogTitle,Dt.MatDialogActions,Dt.MatDialogContent],styles:[".dialog-body[_ngcontent-%COMP%]{padding-top:4px}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;padding-top:6px}"]})};import{MAT_DIALOG_DATA as Er}from"@angular/material/dialog";import*as W from"@angular/core";import*as It from"@angular/material/dialog";import*as ma from"@angular/material/button";var An=class i{constructor(e,t){this.data=e;this.dialogRef=t}close(e){this.dialogRef.close(e)}static \u0275fac=function(t){return new(t||i)(W.\u0275\u0275directiveInject(Er),W.\u0275\u0275directiveInject(It.MatDialogRef))};static \u0275cmp=W.\u0275\u0275defineComponent({type:i,selectors:[["delete-student-confirm-dialog"]],decls:13,vars:1,consts:[["mat-dialog-title",""],["align","end"],["mat-button","",3,"click"],["mat-flat-button","","color","warn",3,"click"]],template:function(t,n){t&1&&(W.\u0275\u0275elementStart(0,"h2",0),W.\u0275\u0275text(1,"Delete Student"),W.\u0275\u0275elementEnd(),W.\u0275\u0275elementStart(2,"mat-dialog-content")(3,"p"),W.\u0275\u0275text(4,"Are you sure you want to delete "),W.\u0275\u0275elementStart(5,"b"),W.\u0275\u0275text(6),W.\u0275\u0275elementEnd(),W.\u0275\u0275text(7,"?"),W.\u0275\u0275elementEnd()(),W.\u0275\u0275elementStart(8,"mat-dialog-actions",1)(9,"button",2),W.\u0275\u0275listener("click",function(){return n.close(!1)}),W.\u0275\u0275text(10,"Cancel"),W.\u0275\u0275elementEnd(),W.\u0275\u0275elementStart(11,"button",3),W.\u0275\u0275listener("click",function(){return n.close(!0)}),W.\u0275\u0275text(12,"Delete"),W.\u0275\u0275elementEnd()()),t&2&&(W.\u0275\u0275advance(6),W.\u0275\u0275textInterpolate(n.data.name))},dependencies:[L,ma.MatButton,It.MatDialogTitle,It.MatDialogActions,It.MatDialogContent],encapsulation:2})};import*as p from"@angular/core";import*as pa from"@angular/core";var H=class i{students=[{id:1,firstName:"Jane",lastName:"Doe",email:"jane.doe@example.com",grade:"10",section:"A",class:"10A",enrollmentDate:"2023-06-01",status:"active"},{id:6,firstName:"Amit",lastName:"Sharma",email:"amit.sharma@example.com",grade:"10",section:"A",class:"10A",enrollmentDate:"2023-07-15",status:"active"},{id:7,firstName:"Emily",lastName:"Nguyen",email:"emily.nguyen@example.com",grade:"10",section:"A",class:"10A",enrollmentDate:"2023-08-10",status:"active"},{id:8,firstName:"Mohammed",lastName:"Ali",email:"mohammed.ali@example.com",grade:"10",section:"A",class:"10A",enrollmentDate:"2023-09-05",status:"inactive"},{id:2,firstName:"John",lastName:"Smith",email:"john.smith@example.com",grade:"9",section:"B",class:"9B",enrollmentDate:"2022-08-15",status:"active"},{id:9,firstName:"Sophia",lastName:"Garcia",email:"sophia.garcia@example.com",grade:"9",section:"B",class:"9B",enrollmentDate:"2022-09-20",status:"active"},{id:10,firstName:"Liam",lastName:"Wang",email:"liam.wang@example.com",grade:"9",section:"B",class:"9B",enrollmentDate:"2022-10-12",status:"inactive"},{id:11,firstName:"Olivia",lastName:"Kim",email:"olivia.kim@example.com",grade:"9",section:"B",class:"9B",enrollmentDate:"2022-11-03",status:"active"},{id:4,firstName:"Carlos",lastName:"Mendez",email:"carlos.mendez@example.com",grade:"8",section:"C",class:"8C",enrollmentDate:"2024-02-01",status:"active"},{id:12,firstName:"Lucas",lastName:"Martinez",email:"lucas.martinez@example.com",grade:"8",section:"C",class:"8C",enrollmentDate:"2024-03-18",status:"active"},{id:13,firstName:"Mia",lastName:"Singh",email:"mia.singh@example.com",grade:"8",section:"C",class:"8C",enrollmentDate:"2024-04-22",status:"inactive"},{id:14,firstName:"Noah",lastName:"Brown",email:"noah.brown@example.com",grade:"8",section:"C",class:"8C",enrollmentDate:"2024-05-10",status:"active"},{id:3,firstName:"Priya",lastName:"Kumar",email:"priya.kumar@example.com",grade:"11",section:"A",class:"11A",enrollmentDate:"2021-04-10",status:"inactive"},{id:5,firstName:"Sara",lastName:"Lee",email:"sara.lee@example.com",grade:"9",section:"A",class:"9A",enrollmentDate:"2024-03-12",status:"active"}];staff=[{id:1,name:"Alice Brown",role:"Teacher",email:"alice.brown@example.com",phone:"+1-555-1001"},{id:2,name:"Robert Green",role:"Accountant",email:"robert.green@example.com"},{id:3,name:"Emily Davis",role:"Counselor",email:"emily.davis@example.com"},{id:4,name:"Daniel Carter",role:"PE Teacher",email:"daniel.carter@example.com"}];classes=[{id:"10A",name:"Class 10 A",capacity:40,teacher:"Alice Brown"},{id:"9B",name:"Class 9 B",capacity:38,teacher:"Robert Green"},{id:"8C",name:"Class 8 C",capacity:35,teacher:"Emily Davis"}];grievances=[{id:1,category:"Roads",status:"Open",date:"2025-12-01",priority:"High",location:"Ward 5",ticket:"GRV-001",evidence:[],assignedTo:"Volunteer A"},{id:2,category:"Water",status:"In Progress",date:"2025-11-28",priority:"Medium",location:"Ward 2",ticket:"GRV-002",evidence:[],assignedTo:"Volunteer B"},{id:3,category:"Electricity",status:"Resolved",date:"2025-11-25",priority:"Low",location:"Ward 7",ticket:"GRV-003",evidence:[],assignedTo:"Volunteer C"}];getGrievances(){return this.grievances}voters=[{id:1,name:"Ravi Kumar",booth:"12",ward:"5",caste:"OBC",gender:"M",tags:["senior citizen"],family:"Kumar Family"},{id:2,name:"Sita Devi",booth:"14",ward:"2",caste:"SC",gender:"F",tags:["government staff"],family:"Devi Family"},{id:3,name:"Amit Singh",booth:"15",ward:"7",caste:"General",gender:"M",tags:["influencer"],family:"Singh Family"}];getVoters(){return this.voters}works=[{id:1,title:"Road Repair - Main St",status:"In Progress",startDate:"2025-11-20",endDate:"",contractor:"ABC Infra",budget:5e5,progress:60},{id:2,title:"Drainage Upgrade - Ward 2",status:"Sanctioned",startDate:"",endDate:"",contractor:"",budget:2e5,progress:0},{id:3,title:"School Renovation - Ward 7",status:"Completed",startDate:"2025-10-01",endDate:"2025-11-15",contractor:"XYZ Builders",budget:3e5,progress:100}];getWorks(){return this.works}politicians=[{id:1,name:"Jane Smith",party:"Progressive",state:"California",termStart:"2022-01-01",termEnd:"2026-01-01"},{id:2,name:"John Doe",party:"Conservative",state:"Texas",termStart:"2020-01-01",termEnd:"2024-01-01"},{id:3,name:"Priya Kumar",party:"Independent",state:"New York",termStart:"2023-06-01",termEnd:"2027-06-01"}];getPoliticians(){return this.politicians}fees=[{studentId:1,balance:1200,lastPaid:"2025-03-15"},{studentId:2,balance:0,lastPaid:"2025-06-01"},{studentId:3,balance:450,lastPaid:"2025-05-20"},{studentId:4,balance:0,lastPaid:"2025-06-10"},{studentId:5,balance:300,lastPaid:"2025-06-05"}];discounts=[{id:"D-001",studentId:1,studentName:"Jane Doe",type:"Scholarship",amount:200,reason:"Merit",validUntil:"2025-12-31",status:"active"},{id:"D-002",studentId:2,studentName:"John Smith",type:"Sibling",amount:150,reason:"Sibling concession",validUntil:"2025-09-30",status:"active"},{id:"D-003",studentId:3,studentName:"Priya Kumar",type:"Need-based",amount:250,reason:"Financial aid",validUntil:"2025-08-31",status:"active"}];receipts=[{id:"R-1001",studentId:1,studentName:"Jane Doe",date:"2025-06-01",amount:1200,method:"Online"},{id:"R-1002",studentId:2,studentName:"John Smith",date:"2025-06-02",amount:800,method:"Cash"},{id:"R-1003",studentId:4,studentName:"Carlos Mendez",date:"2025-06-11",amount:500,method:"Online"}];attendance=[{id:1,studentId:1,date:"2025-11-20",status:"present"},{id:2,studentId:2,date:"2025-11-20",status:"absent"},{id:3,studentId:4,date:"2025-11-20",status:"present"},{id:4,studentId:5,date:"2025-11-20",status:"present"}];timetable=[{id:1,classId:"10A",subject:"Mathematics",teacher:"Alice Brown",day:"Mon",time:"09:00"},{id:2,classId:"9B",subject:"Science",teacher:"Robert Green",day:"Tue",time:"10:00"},{id:3,classId:"8C",subject:"English",teacher:"Emily Davis",day:"Wed",time:"11:00",conflict:!1},{id:4,classId:"10A",subject:"Physics",teacher:"Daniel Carter",day:"Mon",time:"09:30",conflict:!0,conflictReason:"Overlaps with Mathematics"}];exams=[{id:1,title:"Midterm 2025",date:"2025-10-15",studentMarks:[{studentId:1,marks:78},{studentId:2,marks:85}]}];admissions=[{id:1,name:"Ravi Patel",class:"8A",status:"new",submitted:"2025-06-10",notes:"Needs guardian contact"},{id:2,name:"Sara Lee",class:"9B",status:"verified",submitted:"2025-06-05",notes:"All docs uploaded"},{id:3,name:"Mark Chen",class:"10A",status:"rejected",submitted:"2025-06-08",notes:"Incomplete transcript"}];behaviorIncidents=[{id:1,studentId:1,studentName:"Jane Doe",class:"10A",date:"2025-11-10",type:"Late submission",severity:"low",actionTaken:"Reminder sent",staff:"Alice Brown",followUpDate:"2025-11-20",parentNotified:!1},{id:2,studentId:1,studentName:"Jane Doe",class:"10A",date:"2025-11-18",type:"Class disruption",severity:"medium",actionTaken:"Counseling scheduled",staff:"Alice Brown",followUpDate:"2025-11-25",parentNotified:!0},{id:3,studentId:2,studentName:"John Smith",class:"9B",date:"2025-11-05",type:"Absence",severity:"low",actionTaken:"Called guardian",staff:"Robert Green",followUpDate:"2025-11-12",parentNotified:!0},{id:4,studentId:3,studentName:"Priya Kumar",class:"11A",date:"2025-10-28",type:"Cheating",severity:"high",actionTaken:"Incident report filed",staff:"Robert Green",followUpDate:"2025-11-05",parentNotified:!0},{id:5,studentId:4,studentName:"Carlos Mendez",class:"8C",date:"2025-11-12",type:"Bullying",severity:"medium",actionTaken:"Parent meeting scheduled",staff:"Emily Davis",followUpDate:"2025-11-22",parentNotified:!0}];announcements=[{id:1,title:"PTA Meeting",audience:"all",priority:"normal",date:"2025-12-05",author:"Principal",body:"Parent Teacher meeting at 4 PM in auditorium."},{id:2,title:"Exam Schedule",audience:"students",priority:"high",date:"2025-12-10",author:"Exam Cell",body:"Midterm schedule released. Check Exams page."},{id:3,title:"Workshop Invite",audience:"teachers",priority:"low",date:"2025-11-28",author:"Academics",body:"Teaching with AI tools workshop in Lab 2."}];library=[{id:1,title:"Algebra Essentials",author:"K. Sharma",category:"Mathematics",status:"available"},{id:2,title:"World History",author:"L. Peters",category:"History",status:"checked-out",borrower:"Jane Doe",dueDate:"2025-12-05"},{id:3,title:"Chemistry Basics",author:"R. Gupta",category:"Science",status:"available"},{id:4,title:"English Grammar",author:"S. White",category:"Language",status:"checked-out",borrower:"John Smith",dueDate:"2025-12-02"}];transportRoutes=[{id:1,routeName:"Route A - North",driver:"Daniel Carter",capacity:40,assigned:32,status:"on-time",departure:"07:30",returnTime:"15:15",notes:"Stop at Maple Ave closed Friday"},{id:2,routeName:"Route B - East",driver:"Emily Davis",capacity:36,assigned:30,status:"delayed",departure:"07:45",returnTime:"15:30",notes:"Detour near bridge repairs"},{id:3,routeName:"Route C - South",driver:"Carlos Ruiz",capacity:42,assigned:38,status:"on-time",departure:"07:25",returnTime:"15:10"},{id:4,routeName:"Route D - West",driver:"Sofia Lee",capacity:30,assigned:18,status:"maintenance",departure:"\u2014",returnTime:"\u2014",notes:"Bus in service bay"}];clubs=[{id:1,name:"Robotics Club",advisor:"Alice Brown",members:24,meetingDay:"Wed",nextEvent:"Regional qualifier",category:"STEM"},{id:2,name:"Drama Society",advisor:"Robert Green",members:18,meetingDay:"Fri",nextEvent:"Winter play auditions",category:"Arts"},{id:3,name:"Debate Team",advisor:"Emily Davis",members:12,meetingDay:"Tue",nextEvent:"Inter-school debate",category:"Academics"},{id:4,name:"Eco Club",advisor:"Carlos Ruiz",members:15,meetingDay:"Thu",nextEvent:"Campus cleanup",category:"Community"}];parents=[{id:1,name:"Anita Doe",studentIds:[1],email:"anita.doe@example.com",phone:"+1-555-0101",preferredChannel:"email",lastContact:"2025-11-15",notes:"Prefers morning calls"},{id:2,name:"Michael Smith",studentIds:[2],email:"m.smith@example.com",phone:"+1-555-0102",preferredChannel:"sms",lastContact:"2025-11-10",notes:"Works night shifts"},{id:3,name:"Priya Nair",studentIds:[3],email:"priya.nair@example.com",phone:"+1-555-0103",preferredChannel:"email",lastContact:"2025-11-18"},{id:4,name:"Lucia Mendez",studentIds:[4],email:"lucia.mendez@example.com",phone:"+1-555-0104",preferredChannel:"email",lastContact:"2025-11-12"}];healthProfiles=[{studentId:1,allergies:"Peanuts",medications:"EpiPen",conditions:"Asthma",doctor:"Dr. Lee",emergencyContact:"Anita Doe (+1-555-0101)"},{studentId:2,allergies:"None",medications:"None",conditions:"",doctor:"Dr. Patel",emergencyContact:"Michael Smith (+1-555-0102)"},{studentId:3,allergies:"Dust",medications:"Antihistamine",conditions:"Allergic rhinitis",doctor:"Dr. Rao",emergencyContact:"Priya Nair (+1-555-0103)"},{studentId:4,allergies:"None",medications:"None",conditions:"None",doctor:"Dr. Lee",emergencyContact:"Lucia Mendez (+1-555-0104)"}];healthIncidents=[{id:1,studentId:1,studentName:"Jane Doe",date:"2025-11-20",symptom:"Asthma flare",actionTaken:"Inhaler administered",notifiedParent:!0},{id:2,studentId:2,studentName:"John Smith",date:"2025-11-18",symptom:"Fever",actionTaken:"Sent home",notifiedParent:!0},{id:3,studentId:3,studentName:"Priya Kumar",date:"2025-11-10",symptom:"Headache",actionTaken:"Rested in clinic",notifiedParent:!1},{id:4,studentId:4,studentName:"Carlos Mendez",date:"2025-11-08",symptom:"Sprained ankle",actionTaken:"Ice and rest",notifiedParent:!0}];assets=[{id:"IT-001",name:"Chromebook A",category:"IT",status:"assigned",assignedTo:"Jane Doe",assignedType:"student",dueDate:"2025-12-05",location:"Lab 1",lastService:"2025-10-01"},{id:"IT-002",name:"Projector",category:"IT",status:"maintenance",location:"Audiovisual",vendor:"AV Works",lastService:"2025-11-10"},{id:"SCI-010",name:"Microscope",category:"Lab",status:"available",location:"Science Lab"},{id:"LIB-100",name:"Kindle",category:"Library Device",status:"assigned",assignedTo:"John Smith",assignedType:"student",dueDate:"2025-11-30",location:"Library"},{id:"RM-201",name:"Smart Board",category:"IT",status:"available",location:"Room 201",lastService:"2025-09-15"}];events=[{id:1,title:"PTA Meeting",date:"2025-12-05",time:"16:00",location:"Auditorium",audience:"parents",category:"PTA",status:"upcoming",rsvps:[{name:"Anita Doe",role:"Parent",response:"yes"}]},{id:2,title:"Science Fair",date:"2025-12-12",time:"10:00",location:"Hall A",audience:"students",category:"Academics",status:"upcoming",rsvps:[{name:"Jane Doe",role:"Student",response:"pending"}]},{id:3,title:"Teacher Workshop",date:"2025-11-30",time:"14:00",location:"Lab 2",audience:"teachers",category:"Training",status:"upcoming",rsvps:[{name:"Alice Brown",role:"Teacher",response:"yes"}]},{id:4,title:"Sports Day",date:"2025-12-20",time:"09:00",location:"Ground",audience:"students",category:"Sports",status:"upcoming",rsvps:[{name:"Carlos Mendez",role:"Student",response:"yes"}]}];resources=[{id:1,name:"Room 101",type:"room",capacity:30,equipment:"Projector",status:"available"},{id:2,name:"Physics Lab",type:"lab",capacity:24,equipment:"Lab benches, microscopes",status:"available"},{id:3,name:"Soccer Ground",type:"ground",capacity:200,equipment:"Scoreboard",status:"in-use"},{id:4,name:"Chemistry Lab",type:"lab",capacity:20,equipment:"Fume hoods",status:"maintenance"}];bookings=[{id:1,resourceId:1,resourceName:"Room 101",requester:"Alice Brown",purpose:"PTA Prep",date:"2025-12-04",start:"14:00",end:"15:30",status:"approved",conflict:!1},{id:2,resourceId:2,resourceName:"Physics Lab",requester:"Science Club",purpose:"Demo",date:"2025-12-04",start:"10:00",end:"12:00",status:"pending",conflict:!1},{id:3,resourceId:1,resourceName:"Room 101",requester:"Math Dept",purpose:"Workshop",date:"2025-12-04",start:"15:00",end:"16:00",status:"pending",conflict:!0},{id:4,resourceId:4,resourceName:"Chemistry Lab",requester:"Science Dept",purpose:"Lab prep",date:"2025-12-05",start:"09:00",end:"11:00",status:"approved",conflict:!1}];teacherGoals=[{id:1,teacherId:1,teacherName:"Alice Brown",title:"Improve math outcomes by 5%",dueDate:"2025-12-31",status:"on-track"},{id:2,teacherId:2,teacherName:"Robert Green",title:"Integrate project-based learning",dueDate:"2025-11-30",status:"at-risk"},{id:3,teacherId:3,teacherName:"Emily Davis",title:"Increase parent touchpoints",dueDate:"2025-12-15",status:"on-track"}];teacherFeedback=[{id:1,teacherId:1,teacherName:"Alice Brown",date:"2025-11-15",observer:"Principal",summary:"Engaged class, good pacing",score:4.5},{id:2,teacherId:2,teacherName:"Robert Green",date:"2025-11-10",observer:"Vice Principal",summary:"Needs more checks for understanding",score:3.5},{id:3,teacherId:3,teacherName:"Emily Davis",date:"2025-11-12",observer:"Principal",summary:"Great rapport with students",score:4.7}];teacherPd=[{id:1,teacherId:1,teacherName:"Alice Brown",title:"STEM Workshop",hours:6,status:"completed",date:"2025-11-05"},{id:2,teacherId:2,teacherName:"Robert Green",title:"Classroom management",hours:4,status:"in-progress"},{id:3,teacherId:3,teacherName:"Emily Davis",title:"Counseling best practices",hours:5,status:"planned"}];coverageRequests=[{id:1,date:"2025-12-02",classId:"10A",period:"09:00-10:00",subject:"Math",requester:"Alice Brown",status:"open"},{id:2,date:"2025-12-02",classId:"9B",period:"11:00-12:00",subject:"Science",requester:"Robert Green",status:"assigned",substitute:"Emily Davis"},{id:3,date:"2025-12-03",classId:"8C",period:"10:00-11:00",subject:"English",requester:"Emily Davis",status:"open"}];notifications=[{id:1,type:"fee",title:"Overdue fee",message:"Jane Doe has $1,200 outstanding",date:"2025-11-25",unread:!0,priority:"high",link:"/fees"},{id:2,type:"attendance",title:"Absence recorded",message:"John Smith absent today",date:"2025-11-26",unread:!0,priority:"normal",link:"/attendance"},{id:3,type:"behavior",title:"Follow-up due",message:"Asthma flare follow-up for Jane Doe",date:"2025-11-27",unread:!1,priority:"high",link:"/behavior"},{id:4,type:"coverage",title:"Coverage needed",message:"8C English needs substitute",date:"2025-11-28",unread:!0,priority:"high",link:"/resources"},{id:5,type:"event",title:"PTA Meeting",message:"PTA meeting on 2025-12-05",date:"2025-11-29",unread:!1,priority:"low",link:"/events"}];getStudents(){return this.students}getStaff(){return this.staff}getClasses(){return this.classes}getFees(){return this.fees}getAttendance(){return this.attendance}getTimetable(){return this.timetable}getExams(){return this.exams}getDiscounts(){return this.discounts}getReceipts(){return this.receipts}getBehaviorIncidents(){let e={};return this.behaviorIncidents.forEach(t=>{e[t.studentId]=(e[t.studentId]||0)+1}),this.behaviorIncidents.map(t=>Object.assign({},t,{isRepeat:(e[t.studentId]||0)>1}))}addBehaviorIncident(e){let t=(this.behaviorIncidents.reduce((o,v)=>Math.max(o,v.id),0)||0)+1,n=this.students.find(o=>o.id===e.studentId),a=Object.assign({id:t,studentId:e.studentId||0,studentName:e.studentName||(n?`${n.firstName} ${n.lastName}`:"Unknown"),class:e.class||n&&n.class||"",date:e.date||new Date().toISOString().slice(0,10),type:e.type||"General",severity:e.severity||"medium",actionTaken:e.actionTaken||"Logged",staff:e.staff||"Counselor",followUpDate:e.followUpDate,parentNotified:!!e.parentNotified});return this.behaviorIncidents.unshift(a),a}getAnnouncements(){return this.announcements}addAnnouncement(e){let t=(this.announcements.reduce((a,o)=>Math.max(a,o.id),0)||0)+1,n=Object.assign({id:t,title:e.title||"Untitled",audience:e.audience||"all",priority:e.priority||"normal",date:e.date||new Date().toISOString().slice(0,10),author:e.author||"Admin",body:e.body||""});return this.announcements.unshift(n),n}getLibraryItems(){return this.library}checkoutBook(e,t,n){let a=this.library.find(o=>o.id===e);return a?(a.status="checked-out",a.borrower=t,a.dueDate=n,a):null}returnBook(e){let t=this.library.find(n=>n.id===e);return t?(t.status="available",t.borrower=void 0,t.dueDate=void 0,t):null}getTransportRoutes(){return this.transportRoutes}updateRouteStatus(e,t){let n=this.transportRoutes.find(a=>a.id===e);return n?(n.status=t,n):null}getClubs(){return this.clubs}addClub(e){let t=(this.clubs.reduce((a,o)=>Math.max(a,o.id),0)||0)+1,n=Object.assign({id:t,name:"New Club",advisor:"Advisor",members:0,meetingDay:"Mon",category:"General"},e);return this.clubs.unshift(n),n}getParents(){return this.parents}addParent(e){let t=(this.parents.reduce((a,o)=>Math.max(a,o.id),0)||0)+1,n=Object.assign({id:t,name:"New Parent",studentIds:[],email:"",preferredChannel:"email"},e);return this.parents.unshift(n),n}getHealthProfiles(){return this.healthProfiles}getHealthIncidents(){return this.healthIncidents}addHealthIncident(e){let t=(this.healthIncidents.reduce((a,o)=>Math.max(a,o.id),0)||0)+1,n=Object.assign({id:t,studentId:e.studentId||0,studentName:e.studentName||"Student",date:e.date||new Date().toISOString().slice(0,10),symptom:e.symptom||"Symptom",actionTaken:e.actionTaken||"Logged",notifiedParent:!!e.notifiedParent});return this.healthIncidents.unshift(n),n}getAssets(){return this.assets}updateAsset(e,t){let n=this.assets.findIndex(a=>a.id===e);return n===-1?null:(this.assets[n]=Object.assign({},this.assets[n],t),this.assets[n])}addAsset(e){let t=Object.assign({id:`AST-${(this.assets.length+1).toString().padStart(3,"0")}`,name:"New Asset",category:"General",status:"available",location:"Store"},e);return this.assets.unshift(t),t}getEvents(){return this.events}addEvent(e){let t=(this.events.reduce((a,o)=>Math.max(a,o.id),0)||0)+1,n=Object.assign({id:t,title:"New Event",date:new Date().toISOString().slice(0,10),audience:"all",status:"upcoming",rsvps:[]},e);return this.events.unshift(n),n}getResources(){return this.resources}getBookings(){return this.bookings}addBooking(e){let t=(this.bookings.reduce((a,o)=>Math.max(a,o.id),0)||0)+1,n=Object.assign({id:t,resourceId:e.resourceId||0,resourceName:e.resourceName||"Resource",requester:e.requester||"Requester",purpose:e.purpose||"Purpose",date:e.date||new Date().toISOString().slice(0,10),start:e.start||"09:00",end:e.end||"10:00",status:e.status||"pending",conflict:!!e.conflict});return this.bookings.unshift(n),n}updateBooking(e,t){let n=this.bookings.findIndex(a=>a.id===e);return n===-1?null:(this.bookings[n]=Object.assign({},this.bookings[n],t),this.bookings[n])}getTeacherGoals(){return this.teacherGoals}getTeacherFeedback(){return this.teacherFeedback}getTeacherPd(){return this.teacherPd}getCoverageRequests(){return this.coverageRequests}updateCoverage(e,t){let n=this.coverageRequests.findIndex(a=>a.id===e);return n===-1?null:(this.coverageRequests[n]=Object.assign({},this.coverageRequests[n],t),this.coverageRequests[n])}getNotifications(){return this.notifications}updateNotification(e,t){let n=this.notifications.findIndex(a=>a.id===e);return n===-1?null:(this.notifications[n]=Object.assign({},this.notifications[n],t),this.notifications[n])}addDiscount(e){let t=Object.assign({id:`D-${(this.discounts.length+1).toString().padStart(3,"0")}`,status:"active"},e);return this.discounts.unshift(t),t}updateDiscountStatus(e,t){let n=this.discounts.findIndex(a=>a.id===e);return n===-1?null:(this.discounts[n].status=t,this.discounts[n])}getAdmissions(){return this.admissions}updateAdmission(e,t){let n=this.admissions.findIndex(a=>a.id===e);return n===-1?null:(this.admissions[n].status=t,this.admissions[n])}createStudent(e){let t=(this.students.reduce((a,o)=>Math.max(a,o.id),0)||0)+1,n=Object.assign({id:t,status:"active"},e);return n.firstName=n.firstName||"",n.lastName=n.lastName||"",this.students.unshift(n),n}updateStudent(e,t){let n=this.students.findIndex(o=>o.id===e);if(n===-1)return null;let a=Object.assign({},this.students[n],t);return this.students[n]=a,a}deleteStudent(e){let t=this.students.findIndex(n=>n.id===e);return t===-1?!1:(this.students.splice(t,1),!0)}createStaff(e){let t=(this.staff.reduce((a,o)=>Math.max(a,o.id),0)||0)+1,n=Object.assign({id:t},e);return n.name=n.name||"",this.staff.unshift(n),n}updateStaff(e,t){let n=this.staff.findIndex(o=>o.id===e);if(n===-1)return null;let a=Object.assign({},this.staff[n],t);return this.staff[n]=a,a}deleteStaff(e){let t=this.staff.findIndex(n=>n.id===e);return t===-1?!1:(this.staff.splice(t,1),!0)}addAttendance(e,t,n){let o={id:(this.attendance.reduce((v,I)=>Math.max(v,I.id),0)||0)+1,studentId:e,date:t,status:n};return this.attendance.unshift(o),o}setAttendance(e,t,n){let a=this.attendance.find(o=>o.studentId===e&&o.date===t);a?a.status=n:this.addAttendance(e,t,n)}updateAttendanceStatus(e,t){let n=this.attendance.findIndex(a=>a.id===e);return n===-1?null:(this.attendance[n].status=t,this.attendance[n])}payFee(e,t,n){let a=this.fees.findIndex(v=>v.studentId===e);if(a===-1){let v={studentId:e,balance:Math.max(0,0-t),lastPaid:n};return this.fees.unshift(v),v}let o=this.fees[a];return o.balance=Math.max(0,(o.balance||0)-t),o.lastPaid=n,o}addTimetableEntry(e){let t=(this.timetable.reduce((a,o)=>Math.max(a,o.id),0)||0)+1,n=Object.assign({id:t},e);return this.timetable.unshift(n),n}deleteTimetableEntry(e){let t=this.timetable.findIndex(n=>n.id===e);return t===-1?!1:(this.timetable.splice(t,1),!0)}createExam(e,t,n){let a=(this.exams.reduce((I,j)=>Math.max(I,j.id),0)||0)+1,o=n.map(I=>({studentId:I,marks:null})),v={id:a,title:e,date:t,studentMarks:o};return this.exams.unshift(v),v}recordMarks(e,t){let n=this.exams.find(a=>a.id===e);return n?(t.forEach(a=>{let o=n.studentMarks.find(v=>v.studentId===a.studentId);o?o.marks=a.marks:n.studentMarks.push({studentId:a.studentId,marks:a.marks})}),n):null}static \u0275fac=function(t){return new(t||i)};static \u0275prov=pa.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"})};import*as ua from"@angular/material/dialog";import*as Rn from"@angular/common";import*as Zt from"@angular/forms";import*as Nn from"@angular/material/button";import*as wt from"@angular/material/input";import*as G from"@angular/material/table";import*as Jt from"@angular/material/card";import*as ga from"@angular/material/toolbar";import*as Kt from"@angular/material/chips";import*as fa from"@angular/material/paginator";import*as zn from"@angular/material/sort";var Rr=()=>[10,25,50];function Nr(i,e){if(i&1){let t=p.\u0275\u0275getCurrentView();p.\u0275\u0275elementStart(0,"button",54),p.\u0275\u0275listener("click",function(){p.\u0275\u0275restoreView(t);let a=p.\u0275\u0275nextContext();return p.\u0275\u0275resetView(a.clearSearch())}),p.\u0275\u0275namespaceSVG(),p.\u0275\u0275elementStart(1,"svg",8),p.\u0275\u0275element(2,"path",55),p.\u0275\u0275elementEnd()()}}function zr(i,e){i&1&&(p.\u0275\u0275elementStart(0,"th",56),p.\u0275\u0275text(1,"Name"),p.\u0275\u0275elementEnd())}function Br(i,e){if(i&1&&(p.\u0275\u0275elementStart(0,"td",57)(1,"div",58),p.\u0275\u0275text(2),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(3,"div",59),p.\u0275\u0275text(4),p.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;p.\u0275\u0275advance(2),p.\u0275\u0275textInterpolate(t.name),p.\u0275\u0275advance(2),p.\u0275\u0275textInterpolate1("ID #",t.id)}}function Lr(i,e){i&1&&(p.\u0275\u0275elementStart(0,"th",56),p.\u0275\u0275text(1,"Class"),p.\u0275\u0275elementEnd())}function Vr(i,e){if(i&1&&(p.\u0275\u0275elementStart(0,"td",57),p.\u0275\u0275text(1),p.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;p.\u0275\u0275advance(),p.\u0275\u0275textInterpolate(t.class||"--")}}function Hr(i,e){i&1&&(p.\u0275\u0275elementStart(0,"th",56),p.\u0275\u0275text(1,"Section"),p.\u0275\u0275elementEnd())}function jr(i,e){if(i&1&&(p.\u0275\u0275elementStart(0,"td",57),p.\u0275\u0275text(1),p.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;p.\u0275\u0275advance(),p.\u0275\u0275textInterpolate(t.section||"--")}}function Wr(i,e){i&1&&(p.\u0275\u0275elementStart(0,"th",56),p.\u0275\u0275text(1,"Roll No"),p.\u0275\u0275elementEnd())}function Ur(i,e){if(i&1&&(p.\u0275\u0275elementStart(0,"td",57),p.\u0275\u0275text(1),p.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;p.\u0275\u0275advance(),p.\u0275\u0275textInterpolate(t.rollNo||"--")}}function $r(i,e){i&1&&(p.\u0275\u0275elementStart(0,"th",60),p.\u0275\u0275text(1,"Status"),p.\u0275\u0275elementEnd())}function Gr(i,e){if(i&1&&(p.\u0275\u0275elementStart(0,"td",61)(1,"mat-chip",62),p.\u0275\u0275text(2),p.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;p.\u0275\u0275advance(),p.\u0275\u0275property("color",(t.status||"").toLowerCase()==="active"?"primary":"warn"),p.\u0275\u0275advance(),p.\u0275\u0275textInterpolate1(" ",t.status||"unknown"," ")}}function qr(i,e){i&1&&(p.\u0275\u0275elementStart(0,"th",60),p.\u0275\u0275text(1,"Email"),p.\u0275\u0275elementEnd())}function Qr(i,e){if(i&1&&(p.\u0275\u0275elementStart(0,"td",57),p.\u0275\u0275text(1),p.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;p.\u0275\u0275advance(),p.\u0275\u0275textInterpolate(t.email||"--")}}function Yr(i,e){i&1&&(p.\u0275\u0275elementStart(0,"th",56),p.\u0275\u0275text(1,"Enrolled"),p.\u0275\u0275elementEnd())}function Zr(i,e){if(i&1&&(p.\u0275\u0275elementStart(0,"td",63),p.\u0275\u0275text(1),p.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;p.\u0275\u0275advance(),p.\u0275\u0275textInterpolate(t.enrollmentDate||"--")}}function Jr(i,e){i&1&&p.\u0275\u0275element(0,"th",60)}function Kr(i,e){if(i&1){let t=p.\u0275\u0275getCurrentView();p.\u0275\u0275elementStart(0,"td",57)(1,"div",64)(2,"button",65),p.\u0275\u0275listener("click",function(){let a=p.\u0275\u0275restoreView(t).$implicit,o=p.\u0275\u0275nextContext();return p.\u0275\u0275resetView(o.editStudent(a))}),p.\u0275\u0275text(3,"Edit"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(4,"button",66),p.\u0275\u0275listener("click",function(){let a=p.\u0275\u0275restoreView(t).$implicit,o=p.\u0275\u0275nextContext();return p.\u0275\u0275resetView(o.deleteStudent(a))}),p.\u0275\u0275text(5,"Delete"),p.\u0275\u0275elementEnd()()()}}function Xr(i,e){i&1&&p.\u0275\u0275element(0,"tr",67)}function tl(i,e){i&1&&p.\u0275\u0275element(0,"tr",68)}function el(i,e){if(i&1&&(p.\u0275\u0275elementStart(0,"tr",69)(1,"td")(2,"div",70),p.\u0275\u0275text(3,"No students match your filters."),p.\u0275\u0275elementEnd()()()),i&2){let t=p.\u0275\u0275nextContext();p.\u0275\u0275advance(),p.\u0275\u0275attribute("colspan",t.displayedColumns.length)}}function nl(i,e){if(i&1){let t=p.\u0275\u0275getCurrentView();p.\u0275\u0275elementStart(0,"div",71)(1,"div",72)(2,"div",58),p.\u0275\u0275text(3),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(4,"mat-chip",73),p.\u0275\u0275text(5),p.\u0275\u0275elementEnd()(),p.\u0275\u0275elementStart(6,"div",59),p.\u0275\u0275text(7),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(8,"div",59),p.\u0275\u0275text(9),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(10,"div",64)(11,"button",65),p.\u0275\u0275listener("click",function(){let a=p.\u0275\u0275restoreView(t).$implicit,o=p.\u0275\u0275nextContext();return p.\u0275\u0275resetView(o.editStudent(a))}),p.\u0275\u0275text(12,"Edit"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(13,"button",66),p.\u0275\u0275listener("click",function(){let a=p.\u0275\u0275restoreView(t).$implicit,o=p.\u0275\u0275nextContext();return p.\u0275\u0275resetView(o.deleteStudent(a))}),p.\u0275\u0275text(14,"Delete"),p.\u0275\u0275elementEnd()()()}if(i&2){let t=e.$implicit;p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate(t.name),p.\u0275\u0275advance(2),p.\u0275\u0275textInterpolate(t.class||"Student"),p.\u0275\u0275advance(2),p.\u0275\u0275textInterpolate1("Roll No: ",t.rollNo||"--"),p.\u0275\u0275advance(2),p.\u0275\u0275textInterpolate1("Section: ",t.section||"--")}}var Je=class i{constructor(e,t,n){this.mock=e;this.tenantService=t;this.dialog=n;this.loadRows()}rows=[];dataSource=new Ar([]);displayedColumns=["name","class","section","rollNo","status","email","enrolled","actions"];classes=[];search="";classFilter="";statusFilter="all";metrics={total:0,active:0,inactive:0,transferred:0};paginator;sort;ngAfterViewInit(){this.attachTableHelpers()}loadRows(){let e=this.mock.getStudents()||[];this.rows=e.map(t=>({id:t.id,name:`${t.firstName||""} ${t.lastName||""}`.trim(),rollNo:t.rollNo||t.roll_number||"",class:t.class,section:t.section,status:t.status||"active",email:t.email,enrollmentDate:t.enrollmentDate})),this.classes=Array.from(new Set(this.rows.map(t=>t.class).filter(Boolean))),this.refreshMetrics(),this.applyFilters()}refreshMetrics(){this.metrics.total=this.rows.length,this.metrics.active=this.rows.filter(e=>(e.status||"").toLowerCase()==="active").length,this.metrics.transferred=this.rows.filter(e=>(e.status||"").toLowerCase()==="transferred").length,this.metrics.inactive=this.rows.length-this.metrics.active-this.metrics.transferred}applyFilters(){let e=this.search.trim().toLowerCase(),t=this.rows.filter(n=>{let a=!e||n.name.toLowerCase().includes(e)||String(n.id).includes(e)||(n.rollNo||"").toLowerCase().includes(e),o=!this.classFilter||n.class===this.classFilter,v=this.statusFilter==="all"||(n.status||"").toLowerCase()===this.statusFilter;return a&&o&&v});this.dataSource.data=t,this.attachTableHelpers()}attachTableHelpers(){this.paginator&&(this.dataSource.paginator=this.paginator,this.paginator.firstPage()),this.sort&&(this.dataSource.sort=this.sort)}clearSearch(){this.search="",this.applyFilters()}onStatusChange(e){let t=e&&"value"in e?e.value:null;this.statusFilter=t||"all",this.applyFilters()}addStudent(){this.dialog.open(Ze,{width:"520px",data:{classes:this.classes}}).afterClosed().subscribe(t=>{if(!t)return;let[n,...a]=(t.name||"").trim().split(" "),o=a.join(" ");this.mock.createStudent({firstName:n,lastName:o,class:t.class,section:t.section,rollNo:t.rollNo,email:t.email,enrollmentDate:t.enrollmentDate,status:t.status||"active"}),this.loadRows()})}editStudent(e){this.dialog.open(Ze,{width:"520px",data:{classes:this.classes,student:{firstName:e.name?.split(" ")[0]||"",lastName:e.name?.split(" ").slice(1).join(" ")||"",class:e.class,section:e.section,rollNo:e.rollNo,email:e.email,status:e.status,enrollmentDate:e.enrollmentDate},mode:"edit"}}).afterClosed().subscribe(n=>{if(!n)return;let[a,...o]=(n.name||"").split(" ");this.mock.updateStudent(e.id,{firstName:a,lastName:o.join(" "),class:n.class,section:n.section,rollNo:n.rollNo,email:n.email,status:n.status,enrollmentDate:n.enrollmentDate}),this.loadRows()})}deleteStudent(e){this.dialog.open(An,{width:"340px",data:{name:e.name}}).afterClosed().subscribe(n=>{n===!0&&(this.mock.deleteStudent(e.id),this.loadRows())})}toggleTransfer(e){let t=(e.status||"").toLowerCase()==="transferred"?"active":"transferred";this.mock.updateStudent(e.id,{status:t}),this.loadRows()}exportCsv(){let e=["Id","Name","Class","Section","Roll","Status","Email","Enrolled"],t=this.dataSource.data.map(I=>[I.id,`"${(I.name||"").replace(/"/g,'""')}"`,I.class||"",I.section||"",I.rollNo||"",I.status||"",I.email||"",I.enrollmentDate||""].join(",")),n=[e.join(","),...t].join(`
`),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(a),v=document.createElement("a");v.href=o,v.download="students.csv",v.click(),URL.revokeObjectURL(o)}static \u0275fac=function(t){return new(t||i)(p.\u0275\u0275directiveInject(H),p.\u0275\u0275directiveInject(In),p.\u0275\u0275directiveInject(ua.MatDialog))};static \u0275cmp=p.\u0275\u0275defineComponent({type:i,selectors:[["app-students"]],viewQuery:function(t,n){if(t&1&&(p.\u0275\u0275viewQuery(Ir,5),p.\u0275\u0275viewQuery(Fr,5)),t&2){let a;p.\u0275\u0275queryRefresh(a=p.\u0275\u0275loadQuery())&&(n.paginator=a.first),p.\u0275\u0275queryRefresh(a=p.\u0275\u0275loadQuery())&&(n.sort=a.first)}},decls:92,vars:12,consts:[[1,"fees-page","students-page"],["color","primary",1,"fees-toolbar","mat-elevation-z2"],[1,"toolbar-left"],[1,"eyebrow"],[1,"title"],[1,"spacer"],[1,"toolbar-actions"],["mat-flat-button","","color","accent",1,"record-btn",3,"click"],["viewBox","0 0 24 24",1,"icon"],["d","M11 5h2v6h6v2h-6v6h-2v-6H5v-2h6z","fill","currentColor"],[1,"summary-grid"],[1,"metric-card","mat-elevation-z2"],[1,"metric-icon"],["d","M12 12a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm-7 9v-1a6 6 0 0 1 12 0v1H5z","fill","currentColor"],[1,"metric-body"],[1,"metric-label"],[1,"metric-value"],[1,"metric-hint"],[1,"metric-icon","success"],["d","M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm-1 14-4-4 1.41-1.41L11 13.17l5.59-5.58L18 9l-7 7z","fill","currentColor"],[1,"filters-card","mat-elevation-z2"],[1,"filter-grid"],["appearance","fill",1,"full-width","search-field"],["matPrefix","",1,"icon-wrap"],["d","M15.5 14h-.79l-.28-.27A6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28h.79l5 4.99L20.49 19l-5-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z","fill","currentColor"],["matInput","","placeholder","name, id, roll no",3,"ngModelChange","ngModel"],["matSuffix","","mat-icon-button","","aria-label","Clear search",3,"click",4,"ngIf"],[1,"status-chips",3,"selectionChange","value"],["value","all"],["value","active"],["value","inactive"],["mat-stroked-button","","color","primary",1,"ghost-button",3,"click"],[1,"table-card","mat-elevation-z2"],[1,"table-wrap","desktop-only"],["mat-table","","matSort","",1,"fees-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","class"],["matColumnDef","section"],["matColumnDef","rollNo"],["matColumnDef","status"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","status-cell",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","enrolled"],["mat-cell","","class","enrolled-cell",4,"matCellDef"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","empty-state",4,"matNoDataRow"],[1,"mobile-only","mobile-card-list"],["class","mobile-card",4,"ngFor","ngForOf"],["showFirstLastButtons","",3,"pageSize","pageSizeOptions"],["matSuffix","","mat-icon-button","","aria-label","Clear search",3,"click"],["d","M18.3 5.71 12 12l6.3 6.29-1.41 1.42L12 13.41l-4.89 4.9-1.41-1.42L10.59 12 4.29 5.71 5.7 4.29 12 10.59l6.29-6.3z","fill","currentColor"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"cell-title"],[1,"cell-meta"],["mat-header-cell",""],["mat-cell","",1,"status-cell"],[1,"status-chip",3,"color"],["mat-cell","",1,"enrolled-cell"],[1,"action-row"],["mat-stroked-button","","color","accent",1,"ghost-button",3,"click"],["mat-stroked-button","","color","warn",1,"ghost-button",3,"click"],["mat-header-row",""],["mat-row",""],[1,"empty-state"],[1,"fee-empty"],[1,"mobile-card"],[1,"card-row"],["color","primary","selected",""]],template:function(t,n){t&1&&(p.\u0275\u0275elementStart(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"div",3),p.\u0275\u0275text(4,"PoliticianHub"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(5,"div",4),p.\u0275\u0275text(6,"Students"),p.\u0275\u0275elementEnd()(),p.\u0275\u0275element(7,"span",5),p.\u0275\u0275elementStart(8,"div",6)(9,"button",7),p.\u0275\u0275listener("click",function(){return n.addStudent()}),p.\u0275\u0275namespaceSVG(),p.\u0275\u0275elementStart(10,"svg",8),p.\u0275\u0275element(11,"path",9),p.\u0275\u0275elementEnd(),p.\u0275\u0275text(12," Add Student "),p.\u0275\u0275elementEnd()()(),p.\u0275\u0275namespaceHTML(),p.\u0275\u0275elementStart(13,"div",10)(14,"mat-card",11)(15,"div",12),p.\u0275\u0275namespaceSVG(),p.\u0275\u0275elementStart(16,"svg",8),p.\u0275\u0275element(17,"path",13),p.\u0275\u0275elementEnd()(),p.\u0275\u0275namespaceHTML(),p.\u0275\u0275elementStart(18,"div",14)(19,"div",15),p.\u0275\u0275text(20,"Total"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(21,"div",16),p.\u0275\u0275text(22),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(23,"div",17),p.\u0275\u0275text(24,"Students"),p.\u0275\u0275elementEnd()()(),p.\u0275\u0275elementStart(25,"mat-card",11)(26,"div",18),p.\u0275\u0275namespaceSVG(),p.\u0275\u0275elementStart(27,"svg",8),p.\u0275\u0275element(28,"path",19),p.\u0275\u0275elementEnd()(),p.\u0275\u0275namespaceHTML(),p.\u0275\u0275elementStart(29,"div",14)(30,"div",15),p.\u0275\u0275text(31,"Active"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(32,"div",16),p.\u0275\u0275text(33),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(34,"div",17),p.\u0275\u0275text(35,"Available"),p.\u0275\u0275elementEnd()()()(),p.\u0275\u0275elementStart(36,"mat-card",20)(37,"div",21)(38,"mat-form-field",22)(39,"mat-label"),p.\u0275\u0275text(40,"Search"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(41,"span",23),p.\u0275\u0275namespaceSVG(),p.\u0275\u0275elementStart(42,"svg",8),p.\u0275\u0275element(43,"path",24),p.\u0275\u0275elementEnd()(),p.\u0275\u0275namespaceHTML(),p.\u0275\u0275elementStart(44,"input",25),p.\u0275\u0275twoWayListener("ngModelChange",function(o){return p.\u0275\u0275twoWayBindingSet(n.search,o)||(n.search=o),o}),p.\u0275\u0275listener("ngModelChange",function(){return n.applyFilters()}),p.\u0275\u0275elementEnd(),p.\u0275\u0275template(45,Nr,3,0,"button",26),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(46,"mat-chip-listbox",27),p.\u0275\u0275listener("selectionChange",function(o){return n.onStatusChange(o)}),p.\u0275\u0275elementStart(47,"mat-chip-option",28),p.\u0275\u0275text(48,"All"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(49,"mat-chip-option",29),p.\u0275\u0275text(50,"Active"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(51,"mat-chip-option",30),p.\u0275\u0275text(52,"Inactive"),p.\u0275\u0275elementEnd()(),p.\u0275\u0275elementStart(53,"button",31),p.\u0275\u0275listener("click",function(){return n.exportCsv()}),p.\u0275\u0275text(54," Export CSV "),p.\u0275\u0275elementEnd()()(),p.\u0275\u0275elementStart(55,"mat-card",32)(56,"mat-card-title"),p.\u0275\u0275text(57,"Student roster"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(58,"mat-card-subtitle"),p.\u0275\u0275text(59,"Full list with class and status."),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(60,"div",33)(61,"table",34),p.\u0275\u0275elementContainerStart(62,35),p.\u0275\u0275template(63,zr,2,0,"th",36)(64,Br,5,2,"td",37),p.\u0275\u0275elementContainerEnd(),p.\u0275\u0275elementContainerStart(65,38),p.\u0275\u0275template(66,Lr,2,0,"th",36)(67,Vr,2,1,"td",37),p.\u0275\u0275elementContainerEnd(),p.\u0275\u0275elementContainerStart(68,39),p.\u0275\u0275template(69,Hr,2,0,"th",36)(70,jr,2,1,"td",37),p.\u0275\u0275elementContainerEnd(),p.\u0275\u0275elementContainerStart(71,40),p.\u0275\u0275template(72,Wr,2,0,"th",36)(73,Ur,2,1,"td",37),p.\u0275\u0275elementContainerEnd(),p.\u0275\u0275elementContainerStart(74,41),p.\u0275\u0275template(75,$r,2,0,"th",42)(76,Gr,3,2,"td",43),p.\u0275\u0275elementContainerEnd(),p.\u0275\u0275elementContainerStart(77,44),p.\u0275\u0275template(78,qr,2,0,"th",42)(79,Qr,2,1,"td",37),p.\u0275\u0275elementContainerEnd(),p.\u0275\u0275elementContainerStart(80,45),p.\u0275\u0275template(81,Yr,2,0,"th",36)(82,Zr,2,1,"td",46),p.\u0275\u0275elementContainerEnd(),p.\u0275\u0275elementContainerStart(83,47),p.\u0275\u0275template(84,Jr,1,0,"th",42)(85,Kr,6,0,"td",37),p.\u0275\u0275elementContainerEnd(),p.\u0275\u0275template(86,Xr,1,0,"tr",48)(87,tl,1,0,"tr",49)(88,el,4,1,"tr",50),p.\u0275\u0275elementEnd()(),p.\u0275\u0275elementStart(89,"div",51),p.\u0275\u0275template(90,nl,15,4,"div",52),p.\u0275\u0275elementEnd(),p.\u0275\u0275element(91,"mat-paginator",53),p.\u0275\u0275elementEnd()()),t&2&&(p.\u0275\u0275advance(22),p.\u0275\u0275textInterpolate(n.metrics.total),p.\u0275\u0275advance(11),p.\u0275\u0275textInterpolate(n.metrics.active),p.\u0275\u0275advance(11),p.\u0275\u0275twoWayProperty("ngModel",n.search),p.\u0275\u0275advance(),p.\u0275\u0275property("ngIf",n.search),p.\u0275\u0275advance(),p.\u0275\u0275property("value",n.statusFilter),p.\u0275\u0275advance(15),p.\u0275\u0275property("dataSource",n.dataSource),p.\u0275\u0275advance(25),p.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),p.\u0275\u0275advance(),p.\u0275\u0275property("matRowDefColumns",n.displayedColumns),p.\u0275\u0275advance(3),p.\u0275\u0275property("ngForOf",n.dataSource.data),p.\u0275\u0275advance(),p.\u0275\u0275property("pageSize",10)("pageSizeOptions",p.\u0275\u0275pureFunction0(11,Rr)))},dependencies:[Tr,Rn.NgForOf,Rn.NgIf,Dr,Zt.DefaultValueAccessor,Zt.NgControlStatus,Zt.NgModel,L,Nn.MatButton,Nn.MatIconButton,wt.MatInput,wt.MatFormField,wt.MatLabel,wt.MatPrefix,wt.MatSuffix,G.MatTable,G.MatHeaderCellDef,G.MatHeaderRowDef,G.MatColumnDef,G.MatCellDef,G.MatRowDef,G.MatHeaderCell,G.MatCell,G.MatHeaderRow,G.MatRow,G.MatNoDataRow,Jt.MatCard,Jt.MatCardSubtitle,Jt.MatCardTitle,ga.MatToolbar,Kt.MatChip,Kt.MatChipListbox,Kt.MatChipOption,fa.MatPaginator,zn.MatSort,zn.MatSortHeader],styles:["[_nghost-%COMP%]{display:block}.fees-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:16px}.fees-toolbar[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(120deg,#3949ab,#1e88e5);color:#fff;padding:12px 16px}.toolbar-left[_ngcontent-%COMP%]   .eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.08em;font-size:12px;opacity:.9}.toolbar-left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.toolbar-actions[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.toolbar-actions[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled){background:#f8fafc;color:var(--brand-primary, #1e3a8a);border-color:#1e3a8a66;border-radius:12px}.toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled)   .mdc-button__label[_ngcontent-%COMP%], .toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled)   .mat-icon[_ngcontent-%COMP%]{color:var(--brand-primary, #1e3a8a)}.spacer[_ngcontent-%COMP%]{flex:1}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(190px,1fr));gap:12px}.metric-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:12px;align-items:center;border-radius:12px}.metric-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px;display:grid;place-items:center;color:#fff;background:#1976d229}.metric-icon.warn[_ngcontent-%COMP%]{background:#f443362e}.metric-icon.success[_ngcontent-%COMP%]{background:#2e7d322e}.metric-body[_ngcontent-%COMP%]{display:grid;gap:2px}.metric-label[_ngcontent-%COMP%]{font-size:13px;color:#6b7280;text-transform:uppercase;letter-spacing:.04em}.metric-value[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--brand-primary, #1e3a8a)}.metric-value.warn-text[_ngcontent-%COMP%]{color:var(--brand-warn, #f97316)}.metric-hint[_ngcontent-%COMP%]{color:#6b7280;font-size:13px}.filters-card[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(135deg,#4f46e514,#06b6d414);border:1px solid var(--brand-border, rgba(255, 255, 255, .12))}.filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.4fr auto auto;gap:12px;align-items:center}.full-width[_ngcontent-%COMP%]{width:100%}.search-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{background:#ffffff1a;box-shadow:0 8px 18px #0003}.icon-wrap[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.status-chips[_ngcontent-%COMP%]{display:flex;gap:8px}.status-chips[_ngcontent-%COMP%]   .mat-mdc-chip-option[_ngcontent-%COMP%]{border-radius:12px}.status-chips[_ngcontent-%COMP%]   .mat-mdc-chip-option.mat-mdc-chip-selected[_ngcontent-%COMP%]{background:#1e3a8a29;color:var(--brand-primary, #1e3a8a);border:1px solid rgba(30,58,138,.35)}.filter-actions[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:flex-end;flex-wrap:wrap}.filter-actions[_ngcontent-%COMP%]   .ghost-button.mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled){border-color:#4f46e573;color:var(--brand-primary, #1e3a8a);background:#ffffffc7;border-radius:12px;box-shadow:0 6px 16px #0000001f}.filter-actions[_ngcontent-%COMP%]   .ghost-button.mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled):hover{background:#ffffffe6;border-color:#4f46e5b3}.ghost-button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.table-card[_ngcontent-%COMP%]{border-radius:12px}.table-wrap[_ngcontent-%COMP%]{overflow-x:auto;margin-top:8px}.fees-table[_ngcontent-%COMP%]{min-width:720px}.fees-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.cell-title[_ngcontent-%COMP%]{font-weight:600}.cell-meta[_ngcontent-%COMP%]{color:var(--brand-muted, #94a3b8);font-size:12px}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.status-chip[_ngcontent-%COMP%]{height:28px;font-weight:600;border-radius:12px}.due[_ngcontent-%COMP%]{color:var(--brand-warn, #f97316);font-weight:700}.clear[_ngcontent-%COMP%]{color:var(--brand-success, #22c55e);font-weight:700}.action-row[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.compact-number[_ngcontent-%COMP%]{width:140px}.compact-number[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{padding-inline:8px;background:#ffffff14;border-radius:12px}.compact-number[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding:4px 0 8px}.record-btn.mat-mdc-unelevated-button[_ngcontent-%COMP%]:not(:disabled){background:linear-gradient(135deg,var(--brand-accent, #06b6d4),var(--brand-accent-strong, #0ea5c6));color:#0b1221;font-weight:700;border-radius:12px;box-shadow:0 8px 18px #06b6d459}.record-btn[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%], .record-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#0b1221}.record-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.structure-page[_ngcontent-%COMP%]{padding:0}.structure-header[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap;margin-bottom:12px}.structure-header[_ngcontent-%COMP%]   .class-select[_ngcontent-%COMP%]{min-width:180px}.structure-input[_ngcontent-%COMP%]{width:100%}.structure-page[_ngcontent-%COMP%]   .fees-table[_ngcontent-%COMP%]{min-width:680px}.mat-mdc-chip.mat-mdc-standard-chip[_ngcontent-%COMP%]{background:#ffffff14;border:1px solid var(--brand-border, rgba(255, 255, 255, .12))}.fee-empty[_ngcontent-%COMP%]{padding:1rem;text-align:center;color:#6b7280}.router-outlet-wrap[_ngcontent-%COMP%]{margin-top:8px}.exam-form[_ngcontent-%COMP%], .fee-form[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]{padding:.6rem;background:#fff;border-radius:8px;box-shadow:0 1px 6px #0000000a;margin-bottom:.6rem}.fee-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #edf2f7;border-radius:8px;padding:.6rem;box-shadow:0 1px 6px #0000000a}.fee-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;padding:.5rem 0}.fee-row-label[_ngcontent-%COMP%]{flex:1}.fee-row-fine[_ngcontent-%COMP%]{color:#718096;min-width:60px;text-align:right}.btn[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem .75rem}@media(max-width:1024px){.filter-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.fees-table[_ngcontent-%COMP%]{min-width:600px}.toolbar-actions[_ngcontent-%COMP%]{flex-wrap:wrap}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:8px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}}@media(max-width:640px){.fees-page[_ngcontent-%COMP%]{padding:12px}.summary-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.fees-table[_ngcontent-%COMP%]{min-width:520px}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}}",".students-page[_ngcontent-%COMP%]{padding:0}.action-row[_ngcontent-%COMP%]{display:flex;gap:8px}.students-page[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{min-width:180px}.students-page[_ngcontent-%COMP%]   .status-chip[_ngcontent-%COMP%]{text-transform:capitalize}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}@media(max-width:768px){.students-page[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(150px,1fr))}.students-page[_ngcontent-%COMP%]   .table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}.students-page[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{min-width:640px}.students-page[_ngcontent-%COMP%]   .toolbar-actions[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:flex-end}.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:6px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}.mobile-card[_ngcontent-%COMP%]   .cell-meta[_ngcontent-%COMP%]{color:#6b7280;font-size:12px}}"]})};import{CommonModule as il}from"@angular/common";import{FormsModule as al}from"@angular/forms";import{MatPaginator as ol}from"@angular/material/paginator";import{MatSort as rl}from"@angular/material/sort";import{MatTableDataSource as ll}from"@angular/material/table";import*as u from"@angular/core";import*as Bn from"@angular/common";import*as Xt from"@angular/forms";import*as Ln from"@angular/material/button";import*as Pt from"@angular/material/input";import*as q from"@angular/material/table";import*as te from"@angular/material/card";import*as _a from"@angular/material/toolbar";import*as ee from"@angular/material/chips";import*as ba from"@angular/material/paginator";import*as Vn from"@angular/material/sort";var sl=()=>[10,25,50];function cl(i,e){if(i&1){let t=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"button",51),u.\u0275\u0275listener("click",function(){u.\u0275\u0275restoreView(t);let a=u.\u0275\u0275nextContext();return u.\u0275\u0275resetView(a.clearSearch())}),u.\u0275\u0275namespaceSVG(),u.\u0275\u0275elementStart(1,"svg",8),u.\u0275\u0275element(2,"path",52),u.\u0275\u0275elementEnd()()}}function dl(i,e){i&1&&(u.\u0275\u0275elementStart(0,"th",53),u.\u0275\u0275text(1,"Name"),u.\u0275\u0275elementEnd())}function ml(i,e){if(i&1&&(u.\u0275\u0275elementStart(0,"td",54)(1,"div",55),u.\u0275\u0275text(2),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(3,"div",56),u.\u0275\u0275text(4),u.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate(t.name),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate1("ID #",t.id)}}function pl(i,e){i&1&&(u.\u0275\u0275elementStart(0,"th",53),u.\u0275\u0275text(1,"Role"),u.\u0275\u0275elementEnd())}function ul(i,e){if(i&1&&(u.\u0275\u0275elementStart(0,"td",54),u.\u0275\u0275text(1),u.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;u.\u0275\u0275advance(),u.\u0275\u0275textInterpolate(t.role)}}function gl(i,e){i&1&&(u.\u0275\u0275elementStart(0,"th",57),u.\u0275\u0275text(1,"Classes"),u.\u0275\u0275elementEnd())}function fl(i,e){if(i&1&&(u.\u0275\u0275elementStart(0,"td",54),u.\u0275\u0275text(1),u.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;u.\u0275\u0275advance(),u.\u0275\u0275textInterpolate(t.classes||"--")}}function _l(i,e){i&1&&(u.\u0275\u0275elementStart(0,"th",57),u.\u0275\u0275text(1,"Email"),u.\u0275\u0275elementEnd())}function bl(i,e){if(i&1&&(u.\u0275\u0275elementStart(0,"td",54),u.\u0275\u0275text(1),u.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;u.\u0275\u0275advance(),u.\u0275\u0275textInterpolate(t.email||"--")}}function hl(i,e){i&1&&(u.\u0275\u0275elementStart(0,"th",57),u.\u0275\u0275text(1,"Phone"),u.\u0275\u0275elementEnd())}function Cl(i,e){if(i&1&&(u.\u0275\u0275elementStart(0,"td",54),u.\u0275\u0275text(1),u.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;u.\u0275\u0275advance(),u.\u0275\u0275textInterpolate(t.phone||"--")}}function xl(i,e){i&1&&(u.\u0275\u0275elementStart(0,"th",57),u.\u0275\u0275text(1,"Status"),u.\u0275\u0275elementEnd())}function Ml(i,e){if(i&1&&(u.\u0275\u0275elementStart(0,"td",54)(1,"mat-chip",58),u.\u0275\u0275text(2),u.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;u.\u0275\u0275advance(),u.\u0275\u0275property("color",(t.status||"").toLowerCase()==="active"?"primary":"warn"),u.\u0275\u0275advance(),u.\u0275\u0275textInterpolate1(" ",t.status||"active"," ")}}function vl(i,e){i&1&&u.\u0275\u0275element(0,"th",57)}function yl(i,e){if(i&1){let t=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"td",54)(1,"div",59)(2,"button",60),u.\u0275\u0275listener("click",function(){let a=u.\u0275\u0275restoreView(t).$implicit,o=u.\u0275\u0275nextContext();return u.\u0275\u0275resetView(o.editTeacher(a))}),u.\u0275\u0275text(3,"Edit"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(4,"button",61),u.\u0275\u0275listener("click",function(){let a=u.\u0275\u0275restoreView(t).$implicit,o=u.\u0275\u0275nextContext();return u.\u0275\u0275resetView(o.deleteTeacher(a))}),u.\u0275\u0275text(5,"Delete"),u.\u0275\u0275elementEnd()()()}}function wl(i,e){i&1&&u.\u0275\u0275element(0,"tr",62)}function Pl(i,e){i&1&&u.\u0275\u0275element(0,"tr",63)}function Ol(i,e){if(i&1&&(u.\u0275\u0275elementStart(0,"tr",64)(1,"td")(2,"div",65),u.\u0275\u0275text(3,"No teachers match your filters."),u.\u0275\u0275elementEnd()()()),i&2){let t=u.\u0275\u0275nextContext();u.\u0275\u0275advance(),u.\u0275\u0275attribute("colspan",t.displayedColumns.length)}}function Sl(i,e){if(i&1){let t=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"div",66)(1,"div",67)(2,"div",55),u.\u0275\u0275text(3),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(4,"mat-chip",68),u.\u0275\u0275text(5),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(6,"div",56),u.\u0275\u0275text(7),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(8,"div",56),u.\u0275\u0275text(9),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(10,"div",59)(11,"button",60),u.\u0275\u0275listener("click",function(){let a=u.\u0275\u0275restoreView(t).$implicit,o=u.\u0275\u0275nextContext();return u.\u0275\u0275resetView(o.editTeacher(a))}),u.\u0275\u0275text(12,"Edit"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(13,"button",61),u.\u0275\u0275listener("click",function(){let a=u.\u0275\u0275restoreView(t).$implicit,o=u.\u0275\u0275nextContext();return u.\u0275\u0275resetView(o.deleteTeacher(a))}),u.\u0275\u0275text(14,"Delete"),u.\u0275\u0275elementEnd()()()}if(i&2){let t=e.$implicit;u.\u0275\u0275advance(3),u.\u0275\u0275textInterpolate(t.name),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate(t.role||"Teacher"),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate1("Email: ",t.email||"--"),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate1("Phone: ",t.phone||"--")}}var Ke=class i{constructor(e){this.mock=e;this.loadRows()}rows=[];dataSource=new ll([]);displayedColumns=["name","role","classes","email","phone","status","actions"];search="";statusFilter="all";metrics={total:0,active:0};paginator;sort;ngAfterViewInit(){this.attachTableHelpers()}loadRows(){let e=this.mock.getStaff()||[];this.rows=e.map(t=>({id:t.id,name:t.name,role:t.role,email:t.email,phone:t.phone,classes:"",status:Math.random()<.7?"active":"inactive"})),this.refreshMetrics(),this.applyFilters()}refreshMetrics(){this.metrics.total=this.rows.length,this.metrics.active=this.rows.length}applyFilters(){let e=this.search.trim().toLowerCase(),t=this.rows.filter(n=>{let a=!e||n.name.toLowerCase().includes(e)||String(n.id).includes(e),o=this.statusFilter==="all"||(n.status||"").toLowerCase()===this.statusFilter;return a&&o});this.dataSource.data=t,this.attachTableHelpers()}attachTableHelpers(){this.paginator&&(this.dataSource.paginator=this.paginator,this.paginator.firstPage()),this.sort&&(this.dataSource.sort=this.sort)}clearSearch(){this.search="",this.applyFilters()}onStatusChange(e){let t=e&&"value"in e?e.value:null;this.statusFilter=t||"all",this.applyFilters()}addTeacher(){alert("Implement add teacher flow")}editTeacher(e){alert(`Edit ${e.name}`)}deleteTeacher(e){confirm("Delete this teacher?")&&alert("Deleted (mock)")}exportCsv(){let e=["Id","Name","Role","Classes","Email","Phone","Status"],t=this.dataSource.data.map(I=>[I.id,`"${(I.name||"").replace(/"/g,'""')}"`,I.role||"",I.classes||"",I.email||"",I.phone||"",I.status||""].join(",")),n=[e.join(","),...t].join(`
`),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(a),v=document.createElement("a");v.href=o,v.download="teachers.csv",v.click(),URL.revokeObjectURL(o)}static \u0275fac=function(t){return new(t||i)(u.\u0275\u0275directiveInject(H))};static \u0275cmp=u.\u0275\u0275defineComponent({type:i,selectors:[["app-teachers"]],viewQuery:function(t,n){if(t&1&&(u.\u0275\u0275viewQuery(ol,5),u.\u0275\u0275viewQuery(rl,5)),t&2){let a;u.\u0275\u0275queryRefresh(a=u.\u0275\u0275loadQuery())&&(n.paginator=a.first),u.\u0275\u0275queryRefresh(a=u.\u0275\u0275loadQuery())&&(n.sort=a.first)}},decls:89,vars:12,consts:[[1,"fees-page","teachers-page"],["color","primary",1,"fees-toolbar","mat-elevation-z2"],[1,"toolbar-left"],[1,"eyebrow"],[1,"title"],[1,"spacer"],[1,"toolbar-actions"],["mat-flat-button","","color","accent",1,"record-btn",3,"click"],["viewBox","0 0 24 24",1,"icon"],["d","M11 5h2v6h6v2h-6v6h-2v-6H5v-2h6z","fill","currentColor"],[1,"summary-grid"],[1,"metric-card","mat-elevation-z2"],[1,"metric-icon"],["d","M12 12a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm-7 9v-1a6 6 0 0 1 12 0v1H5z","fill","currentColor"],[1,"metric-body"],[1,"metric-label"],[1,"metric-value"],[1,"metric-hint"],[1,"metric-icon","success"],["d","M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm-1 14-4-4 1.41-1.41L11 13.17l5.59-5.58L18 9l-7 7z","fill","currentColor"],[1,"filters-card","mat-elevation-z2"],[1,"filter-grid"],["appearance","fill",1,"full-width","search-field"],["matPrefix","",1,"icon-wrap"],["d","M15.5 14h-.79l-.28-.27A6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28h.79l5 4.99L20.49 19l-5-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z","fill","currentColor"],["matInput","","placeholder","name or id",3,"ngModelChange","ngModel"],["matSuffix","","mat-icon-button","","aria-label","Clear search",3,"click",4,"ngIf"],[1,"status-chips",3,"selectionChange","value"],["value","all"],["value","active"],["value","inactive"],["mat-stroked-button","","color","primary",1,"ghost-button",3,"click"],[1,"table-card","mat-elevation-z2"],[1,"table-wrap","desktop-only"],["mat-table","","matSort","",1,"fees-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","role"],["matColumnDef","classes"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","email"],["matColumnDef","phone"],["matColumnDef","status"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","empty-state",4,"matNoDataRow"],[1,"mobile-only","mobile-card-list"],["class","mobile-card",4,"ngFor","ngForOf"],["showFirstLastButtons","",3,"pageSize","pageSizeOptions"],["matSuffix","","mat-icon-button","","aria-label","Clear search",3,"click"],["d","M18.3 5.71 12 12l6.3 6.29-1.41 1.42L12 13.41l-4.89 4.9-1.41-1.42L10.59 12 4.29 5.71 5.7 4.29 12 10.59l6.29-6.3z","fill","currentColor"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"cell-title"],[1,"cell-meta"],["mat-header-cell",""],[1,"status-chip",3,"color"],[1,"action-row"],["mat-stroked-button","","color","accent",1,"ghost-button",3,"click"],["mat-stroked-button","","color","warn",1,"ghost-button",3,"click"],["mat-header-row",""],["mat-row",""],[1,"empty-state"],[1,"fee-empty"],[1,"mobile-card"],[1,"card-row"],["color","primary","selected",""]],template:function(t,n){t&1&&(u.\u0275\u0275elementStart(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"div",3),u.\u0275\u0275text(4,"PoliticianHub"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(5,"div",4),u.\u0275\u0275text(6,"Teachers"),u.\u0275\u0275elementEnd()(),u.\u0275\u0275element(7,"span",5),u.\u0275\u0275elementStart(8,"div",6)(9,"button",7),u.\u0275\u0275listener("click",function(){return n.addTeacher()}),u.\u0275\u0275namespaceSVG(),u.\u0275\u0275elementStart(10,"svg",8),u.\u0275\u0275element(11,"path",9),u.\u0275\u0275elementEnd(),u.\u0275\u0275text(12," Add Teacher "),u.\u0275\u0275elementEnd()()(),u.\u0275\u0275namespaceHTML(),u.\u0275\u0275elementStart(13,"div",10)(14,"mat-card",11)(15,"div",12),u.\u0275\u0275namespaceSVG(),u.\u0275\u0275elementStart(16,"svg",8),u.\u0275\u0275element(17,"path",13),u.\u0275\u0275elementEnd()(),u.\u0275\u0275namespaceHTML(),u.\u0275\u0275elementStart(18,"div",14)(19,"div",15),u.\u0275\u0275text(20,"Total"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(21,"div",16),u.\u0275\u0275text(22),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(23,"div",17),u.\u0275\u0275text(24,"Teachers"),u.\u0275\u0275elementEnd()()(),u.\u0275\u0275elementStart(25,"mat-card",11)(26,"div",18),u.\u0275\u0275namespaceSVG(),u.\u0275\u0275elementStart(27,"svg",8),u.\u0275\u0275element(28,"path",19),u.\u0275\u0275elementEnd()(),u.\u0275\u0275namespaceHTML(),u.\u0275\u0275elementStart(29,"div",14)(30,"div",15),u.\u0275\u0275text(31,"Active"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(32,"div",16),u.\u0275\u0275text(33),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(34,"div",17),u.\u0275\u0275text(35,"Available"),u.\u0275\u0275elementEnd()()()(),u.\u0275\u0275elementStart(36,"mat-card",20)(37,"div",21)(38,"mat-form-field",22)(39,"mat-label"),u.\u0275\u0275text(40,"Search"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(41,"span",23),u.\u0275\u0275namespaceSVG(),u.\u0275\u0275elementStart(42,"svg",8),u.\u0275\u0275element(43,"path",24),u.\u0275\u0275elementEnd()(),u.\u0275\u0275namespaceHTML(),u.\u0275\u0275elementStart(44,"input",25),u.\u0275\u0275twoWayListener("ngModelChange",function(o){return u.\u0275\u0275twoWayBindingSet(n.search,o)||(n.search=o),o}),u.\u0275\u0275listener("ngModelChange",function(){return n.applyFilters()}),u.\u0275\u0275elementEnd(),u.\u0275\u0275template(45,cl,3,0,"button",26),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(46,"mat-chip-listbox",27),u.\u0275\u0275listener("selectionChange",function(o){return n.onStatusChange(o)}),u.\u0275\u0275elementStart(47,"mat-chip-option",28),u.\u0275\u0275text(48,"All"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(49,"mat-chip-option",29),u.\u0275\u0275text(50,"Active"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(51,"mat-chip-option",30),u.\u0275\u0275text(52,"Inactive"),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(53,"button",31),u.\u0275\u0275listener("click",function(){return n.exportCsv()}),u.\u0275\u0275text(54," Export CSV "),u.\u0275\u0275elementEnd()()(),u.\u0275\u0275elementStart(55,"mat-card",32)(56,"mat-card-title"),u.\u0275\u0275text(57,"Teacher roster"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(58,"mat-card-subtitle"),u.\u0275\u0275text(59,"All teaching staff with contact."),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(60,"div",33)(61,"table",34),u.\u0275\u0275elementContainerStart(62,35),u.\u0275\u0275template(63,dl,2,0,"th",36)(64,ml,5,2,"td",37),u.\u0275\u0275elementContainerEnd(),u.\u0275\u0275elementContainerStart(65,38),u.\u0275\u0275template(66,pl,2,0,"th",36)(67,ul,2,1,"td",37),u.\u0275\u0275elementContainerEnd(),u.\u0275\u0275elementContainerStart(68,39),u.\u0275\u0275template(69,gl,2,0,"th",40)(70,fl,2,1,"td",37),u.\u0275\u0275elementContainerEnd(),u.\u0275\u0275elementContainerStart(71,41),u.\u0275\u0275template(72,_l,2,0,"th",40)(73,bl,2,1,"td",37),u.\u0275\u0275elementContainerEnd(),u.\u0275\u0275elementContainerStart(74,42),u.\u0275\u0275template(75,hl,2,0,"th",40)(76,Cl,2,1,"td",37),u.\u0275\u0275elementContainerEnd(),u.\u0275\u0275elementContainerStart(77,43),u.\u0275\u0275template(78,xl,2,0,"th",40)(79,Ml,3,2,"td",37),u.\u0275\u0275elementContainerEnd(),u.\u0275\u0275elementContainerStart(80,44),u.\u0275\u0275template(81,vl,1,0,"th",40)(82,yl,6,0,"td",37),u.\u0275\u0275elementContainerEnd(),u.\u0275\u0275template(83,wl,1,0,"tr",45)(84,Pl,1,0,"tr",46)(85,Ol,4,1,"tr",47),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(86,"div",48),u.\u0275\u0275template(87,Sl,15,4,"div",49),u.\u0275\u0275elementEnd(),u.\u0275\u0275element(88,"mat-paginator",50),u.\u0275\u0275elementEnd()()),t&2&&(u.\u0275\u0275advance(22),u.\u0275\u0275textInterpolate(n.metrics.total),u.\u0275\u0275advance(11),u.\u0275\u0275textInterpolate(n.metrics.active),u.\u0275\u0275advance(11),u.\u0275\u0275twoWayProperty("ngModel",n.search),u.\u0275\u0275advance(),u.\u0275\u0275property("ngIf",n.search),u.\u0275\u0275advance(),u.\u0275\u0275property("value",n.statusFilter),u.\u0275\u0275advance(15),u.\u0275\u0275property("dataSource",n.dataSource),u.\u0275\u0275advance(22),u.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),u.\u0275\u0275advance(),u.\u0275\u0275property("matRowDefColumns",n.displayedColumns),u.\u0275\u0275advance(3),u.\u0275\u0275property("ngForOf",n.dataSource.data),u.\u0275\u0275advance(),u.\u0275\u0275property("pageSize",10)("pageSizeOptions",u.\u0275\u0275pureFunction0(11,sl)))},dependencies:[il,Bn.NgForOf,Bn.NgIf,al,Xt.DefaultValueAccessor,Xt.NgControlStatus,Xt.NgModel,L,Ln.MatButton,Ln.MatIconButton,Pt.MatInput,Pt.MatFormField,Pt.MatLabel,Pt.MatPrefix,Pt.MatSuffix,q.MatTable,q.MatHeaderCellDef,q.MatHeaderRowDef,q.MatColumnDef,q.MatCellDef,q.MatRowDef,q.MatHeaderCell,q.MatCell,q.MatHeaderRow,q.MatRow,q.MatNoDataRow,te.MatCard,te.MatCardSubtitle,te.MatCardTitle,_a.MatToolbar,ee.MatChip,ee.MatChipListbox,ee.MatChipOption,ba.MatPaginator,Vn.MatSort,Vn.MatSortHeader],styles:["[_nghost-%COMP%]{display:block}.fees-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:16px}.fees-toolbar[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(120deg,#3949ab,#1e88e5);color:#fff;padding:12px 16px}.toolbar-left[_ngcontent-%COMP%]   .eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.08em;font-size:12px;opacity:.9}.toolbar-left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.toolbar-actions[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.toolbar-actions[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled){background:#f8fafc;color:var(--brand-primary, #1e3a8a);border-color:#1e3a8a66;border-radius:12px}.toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled)   .mdc-button__label[_ngcontent-%COMP%], .toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled)   .mat-icon[_ngcontent-%COMP%]{color:var(--brand-primary, #1e3a8a)}.spacer[_ngcontent-%COMP%]{flex:1}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(190px,1fr));gap:12px}.metric-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:12px;align-items:center;border-radius:12px}.metric-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px;display:grid;place-items:center;color:#fff;background:#1976d229}.metric-icon.warn[_ngcontent-%COMP%]{background:#f443362e}.metric-icon.success[_ngcontent-%COMP%]{background:#2e7d322e}.metric-body[_ngcontent-%COMP%]{display:grid;gap:2px}.metric-label[_ngcontent-%COMP%]{font-size:13px;color:#6b7280;text-transform:uppercase;letter-spacing:.04em}.metric-value[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--brand-primary, #1e3a8a)}.metric-value.warn-text[_ngcontent-%COMP%]{color:var(--brand-warn, #f97316)}.metric-hint[_ngcontent-%COMP%]{color:#6b7280;font-size:13px}.filters-card[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(135deg,#4f46e514,#06b6d414);border:1px solid var(--brand-border, rgba(255, 255, 255, .12))}.filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.4fr auto auto;gap:12px;align-items:center}.full-width[_ngcontent-%COMP%]{width:100%}.search-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{background:#ffffff1a;box-shadow:0 8px 18px #0003}.icon-wrap[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.status-chips[_ngcontent-%COMP%]{display:flex;gap:8px}.status-chips[_ngcontent-%COMP%]   .mat-mdc-chip-option[_ngcontent-%COMP%]{border-radius:12px}.status-chips[_ngcontent-%COMP%]   .mat-mdc-chip-option.mat-mdc-chip-selected[_ngcontent-%COMP%]{background:#1e3a8a29;color:var(--brand-primary, #1e3a8a);border:1px solid rgba(30,58,138,.35)}.filter-actions[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:flex-end;flex-wrap:wrap}.filter-actions[_ngcontent-%COMP%]   .ghost-button.mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled){border-color:#4f46e573;color:var(--brand-primary, #1e3a8a);background:#ffffffc7;border-radius:12px;box-shadow:0 6px 16px #0000001f}.filter-actions[_ngcontent-%COMP%]   .ghost-button.mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled):hover{background:#ffffffe6;border-color:#4f46e5b3}.ghost-button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.table-card[_ngcontent-%COMP%]{border-radius:12px}.table-wrap[_ngcontent-%COMP%]{overflow-x:auto;margin-top:8px}.fees-table[_ngcontent-%COMP%]{min-width:720px}.fees-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.cell-title[_ngcontent-%COMP%]{font-weight:600}.cell-meta[_ngcontent-%COMP%]{color:var(--brand-muted, #94a3b8);font-size:12px}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.status-chip[_ngcontent-%COMP%]{height:28px;font-weight:600;border-radius:12px}.due[_ngcontent-%COMP%]{color:var(--brand-warn, #f97316);font-weight:700}.clear[_ngcontent-%COMP%]{color:var(--brand-success, #22c55e);font-weight:700}.action-row[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.compact-number[_ngcontent-%COMP%]{width:140px}.compact-number[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{padding-inline:8px;background:#ffffff14;border-radius:12px}.compact-number[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding:4px 0 8px}.record-btn.mat-mdc-unelevated-button[_ngcontent-%COMP%]:not(:disabled){background:linear-gradient(135deg,var(--brand-accent, #06b6d4),var(--brand-accent-strong, #0ea5c6));color:#0b1221;font-weight:700;border-radius:12px;box-shadow:0 8px 18px #06b6d459}.record-btn[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%], .record-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#0b1221}.record-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.structure-page[_ngcontent-%COMP%]{padding:0}.structure-header[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap;margin-bottom:12px}.structure-header[_ngcontent-%COMP%]   .class-select[_ngcontent-%COMP%]{min-width:180px}.structure-input[_ngcontent-%COMP%]{width:100%}.structure-page[_ngcontent-%COMP%]   .fees-table[_ngcontent-%COMP%]{min-width:680px}.mat-mdc-chip.mat-mdc-standard-chip[_ngcontent-%COMP%]{background:#ffffff14;border:1px solid var(--brand-border, rgba(255, 255, 255, .12))}.fee-empty[_ngcontent-%COMP%]{padding:1rem;text-align:center;color:#6b7280}.router-outlet-wrap[_ngcontent-%COMP%]{margin-top:8px}.exam-form[_ngcontent-%COMP%], .fee-form[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]{padding:.6rem;background:#fff;border-radius:8px;box-shadow:0 1px 6px #0000000a;margin-bottom:.6rem}.fee-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #edf2f7;border-radius:8px;padding:.6rem;box-shadow:0 1px 6px #0000000a}.fee-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;padding:.5rem 0}.fee-row-label[_ngcontent-%COMP%]{flex:1}.fee-row-fine[_ngcontent-%COMP%]{color:#718096;min-width:60px;text-align:right}.btn[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem .75rem}@media(max-width:1024px){.filter-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.fees-table[_ngcontent-%COMP%]{min-width:600px}.toolbar-actions[_ngcontent-%COMP%]{flex-wrap:wrap}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:8px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}}@media(max-width:640px){.fees-page[_ngcontent-%COMP%]{padding:12px}.summary-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.fees-table[_ngcontent-%COMP%]{min-width:520px}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}}",".teachers-page[_ngcontent-%COMP%]{padding:0}.action-row[_ngcontent-%COMP%]{display:flex;gap:8px}.teachers-page[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{min-width:180px}.teachers-page[_ngcontent-%COMP%]   .status-chip[_ngcontent-%COMP%]{text-transform:capitalize}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}@media(max-width:768px){.teachers-page[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(150px,1fr))}.teachers-page[_ngcontent-%COMP%]   .table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}.teachers-page[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{min-width:640px}.teachers-page[_ngcontent-%COMP%]   .toolbar-actions[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:flex-end}.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:6px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}.mobile-card[_ngcontent-%COMP%]   .cell-meta[_ngcontent-%COMP%]{color:#6b7280;font-size:12px}}"]})};import{CommonModule as Fl}from"@angular/common";import{FormsModule as Al}from"@angular/forms";import*as r from"@angular/core";import*as ha from"@angular/core";var Hn=class i{getRecordsForClass(e,t){return this.records.filter(n=>n.classId===e&&n.date===t)}records=[];getAttendanceRecords(){return[...this.records]}addRecord(e){this.records.unshift(yt(U({},e),{id:Date.now()}))}updateRecord(e,t){let n=this.records.findIndex(a=>a.id===e);n>-1&&(this.records[n]=U(U({},this.records[n]),t))}deleteRecord(e){let t=this.records.findIndex(n=>n.id===e);t>-1&&this.records.splice(t,1)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ha.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"})};import*as va from"@angular/common/http";import{HttpHeaders as kl}from"@angular/common/http";import{throwError as Tl,BehaviorSubject as Ca}from"rxjs";import{catchError as ne,retry as Dl,tap as vt,map as xa}from"rxjs/operators";var Ki={production:!1,apiUrl:"http://127.0.0.1:3000/api",apiVersion:"v1",multiTenant:{enabled:!1,defaultTenant:"default",tenantDetectionMode:"subdomain",tenantApiEndpoint:"/tenants"}};import*as Xe from"@angular/core";import*as Ma from"@angular/common/http";var jn=class i{constructor(e,t){this.http=e;this.tenantService=t}baseUrl=Ki.apiUrl;version=Ki.apiVersion;loadingSubject=new Ca(!1);loading$=this.loadingSubject.asObservable();errorSubject=new Ca(null);error$=this.errorSubject.asObservable();get(e,t){this.setLoading(!0);let n=this.buildUrl(e),a={headers:this.getHeaders(),params:this.buildParams(t)};return this.http.get(n,a).pipe(Dl(2),vt(o=>{this.setLoading(!1),this.clearError(),o==null&&console.warn("ApiService.get: received null response for",e)}),xa(o=>o==null?{}:o.data!==void 0?o.data:o),ne(o=>this.handleError(o)))}post(e,t,n){this.setLoading(!0);let a=this.buildUrl(e),o={headers:this.getHeaders()};return n&&(o.params=this.buildParams(n)),this.http.post(a,t,o).pipe(vt(()=>this.setLoading(!1)),vt(()=>this.clearError()),ne(v=>this.handleError(v)))}put(e,t,n){this.setLoading(!0);let a=this.buildUrl(e),o={headers:this.getHeaders()};return n&&(o.params=this.buildParams(n)),this.http.put(a,t,o).pipe(vt(()=>this.setLoading(!1)),vt(()=>this.clearError()),ne(v=>this.handleError(v)))}delete(e,t){this.setLoading(!0);let n=this.buildUrl(e),a={headers:this.getHeaders()};return t&&(a.params=this.buildParams(t)),this.http.delete(n,a).pipe(vt(()=>this.setLoading(!1)),vt(()=>this.clearError()),ne(o=>this.handleError(o)))}uploadFile(e,t,n){this.setLoading(!0);let a=this.buildUrl(e),o=new FormData;o.append("file",t),n&&Object.keys(n).forEach(I=>{o.append(I,n[I])});let v=this.getHeaders();return v.delete("Content-Type"),this.http.post(a,o,{headers:v}).pipe(vt(()=>this.setLoading(!1)),vt(()=>this.clearError()),ne(I=>this.handleError(I)))}downloadFile(e,t){this.setLoading(!0);let n=this.buildUrl(e),a={headers:this.getHeaders(),responseType:"blob"};return this.http.get(n,a).pipe(xa(o=>o),vt(()=>this.setLoading(!1)),vt(o=>{t&&this.saveFile(o,t)}),ne(o=>this.handleError(o)))}buildUrl(e){let t=e.startsWith("/")?e.slice(1):e;return`${this.baseUrl}/${this.version}/${t}`}getHeaders(){let e=new kl({"Content-Type":"application/json",Accept:"application/json"}),t=this.getAuthToken();t&&(e=e.set("Authorization",`Bearer ${t}`));let n=this.getTenantId();return n&&(e=e.set("X-Tenant-ID",n)),e}buildParams(e){if(!e)return;let t={};return Object.keys(e).forEach(n=>{e[n]!==null&&e[n]!==void 0&&e[n]!==""&&(t[n]=e[n])}),t}handleError(e){this.setLoading(!1);let t;return e.error instanceof ErrorEvent?t={code:"CLIENT_ERROR",message:"A client-side error occurred. Please check your internet connection.",details:e.error.message,timestamp:new Date().toISOString()}:t={code:e.error?.code||`HTTP_${e.status}`,message:e.error?.message||this.getErrorMessage(e.status),details:e.error?.details||e.message,timestamp:new Date().toISOString()},this.setError(t),console.error("API Error:",t),Tl(()=>t)}getErrorMessage(e){switch(e){case 400:return"Invalid request. Please check your input.";case 401:return"You are not authorized. Please log in again.";case 403:return"You do not have permission to perform this action.";case 404:return"The requested resource was not found.";case 409:return"Conflict. The resource already exists or is being used.";case 422:return"Validation failed. Please check your input.";case 429:return"Too many requests. Please try again later.";case 500:return"Internal server error. Please try again later.";case 502:return"Bad gateway. The server is temporarily unavailable.";case 503:return"Service unavailable. Please try again later.";case 504:return"Gateway timeout. The server took too long to respond.";default:return"An unexpected error occurred. Please try again."}}getAuthToken(){return typeof window<"u"?localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token")||localStorage.getItem("shellAuthToken")||sessionStorage.getItem("shellAuthToken"):null}getTenantId(){return this.tenantService.getTenantId()}saveFile(e,t){if(typeof window<"u"){let n=document.createElement("a"),a=window.URL.createObjectURL(e);n.href=a,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(a)}}setLoading(e){this.loadingSubject.next(e)}setError(e){this.errorSubject.next(e)}clearError(){this.errorSubject.next(null)}clearCurrentError(){this.clearError()}shouldUseMockData(){return!1}static \u0275fac=function(t){return new(t||i)(Xe.\u0275\u0275inject(Ma.HttpClient),Xe.\u0275\u0275inject(In))};static \u0275prov=Xe.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"})};import*as Ft from"@angular/common";import*as Ct from"@angular/forms";function Rl(i,e){if(i&1){let t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"button",55),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);let a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.clearSearch())}),r.\u0275\u0275text(1,"\u2715"),r.\u0275\u0275elementEnd()}}function Nl(i,e){if(i&1&&(r.\u0275\u0275elementStart(0,"option",56),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;r.\u0275\u0275property("value",t),r.\u0275\u0275advance(),r.\u0275\u0275textInterpolate(t)}}function zl(i,e){if(i&1&&(r.\u0275\u0275elementStart(0,"option",56),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;r.\u0275\u0275property("value",t),r.\u0275\u0275advance(),r.\u0275\u0275textInterpolate(t)}}function Bl(i,e){if(i&1&&(r.\u0275\u0275elementStart(0,"span",85),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;r.\u0275\u0275advance(),r.\u0275\u0275textInterpolate2(" ",t.day.substring(0,3)," ",t.startTime," ")}}function Ll(i,e){if(i&1){let t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"tr",57),r.\u0275\u0275listener("click",function(){let a=r.\u0275\u0275restoreView(t).$implicit,o=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(o.selectClass(a))}),r.\u0275\u0275elementStart(1,"td",58)(2,"strong"),r.\u0275\u0275text(3),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(4,"td",59)(5,"div",60)(6,"strong"),r.\u0275\u0275text(7),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(8,"small",61),r.\u0275\u0275text(9),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(10,"td",62)(11,"span",63),r.\u0275\u0275text(12),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(13,"td",64),r.\u0275\u0275text(14),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(15,"td",65),r.\u0275\u0275text(16),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(17,"td",66)(18,"div",67)(19,"span",68),r.\u0275\u0275text(20),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(21,"div",69),r.\u0275\u0275element(22,"div",70),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(23,"small",71),r.\u0275\u0275text(24),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(25,"td",72)(26,"div",73),r.\u0275\u0275template(27,Bl,2,2,"span",74),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(28,"td",75)(29,"span",76)(30,"span",77),r.\u0275\u0275text(31),r.\u0275\u0275elementEnd(),r.\u0275\u0275text(32),r.\u0275\u0275pipe(33,"titlecase"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(34,"td")(35,"button",78),r.\u0275\u0275listener("click",function(){let a=r.\u0275\u0275restoreView(t).$implicit,o=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(o.showAttendance(a))}),r.\u0275\u0275text(36,"Attendance"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(37,"td",79)(38,"div",80)(39,"button",81),r.\u0275\u0275listener("click",function(a){let o=r.\u0275\u0275restoreView(t).$implicit;return r.\u0275\u0275nextContext().viewClass(o),r.\u0275\u0275resetView(a.stopPropagation())}),r.\u0275\u0275text(40,"\u{1F441}\uFE0F"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(41,"button",82),r.\u0275\u0275listener("click",function(a){let o=r.\u0275\u0275restoreView(t).$implicit;return r.\u0275\u0275nextContext().editClass(o),r.\u0275\u0275resetView(a.stopPropagation())}),r.\u0275\u0275text(42,"\u270F\uFE0F"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(43,"button",83),r.\u0275\u0275listener("click",function(a){let o=r.\u0275\u0275restoreView(t).$implicit;return r.\u0275\u0275nextContext().manageEnrollment(o),r.\u0275\u0275resetView(a.stopPropagation())}),r.\u0275\u0275text(44,"\u{1F465}"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(45,"button",84),r.\u0275\u0275listener("click",function(a){let o=r.\u0275\u0275restoreView(t).$implicit;return r.\u0275\u0275nextContext().generateReport(o),r.\u0275\u0275resetView(a.stopPropagation())}),r.\u0275\u0275text(46,"\u{1F4CA}"),r.\u0275\u0275elementEnd()()()()}if(i&2){let t=e.$implicit,n=r.\u0275\u0275nextContext();r.\u0275\u0275classProp("highlighted",n.isClassSelected(t)),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(t.code),r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate(t.name),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate2("",t.semester," ",t.year),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(t.department),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(t.teacherName),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(t.credits),r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate2("",t.enrolledStudents,"/",t.maxStudents),r.\u0275\u0275advance(2),r.\u0275\u0275styleProp("width",n.getCapacityPercentage(t),"%"),r.\u0275\u0275property("ngClass",n.getCapacityClass(t)),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate1("",n.getCapacityPercentage(t),"%"),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngForOf",t.schedule),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngClass",n.getStatusClass(t.status)),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(n.getStatusIcon(t.status)),r.\u0275\u0275advance(),r.\u0275\u0275textInterpolate1(" ",r.\u0275\u0275pipeBind1(33,19,t.status)," ")}}function Vl(i,e){i&1&&(r.\u0275\u0275elementStart(0,"div",86)(1,"span",87),r.\u0275\u0275text(2,"\u2190 Scroll horizontally to see more \u2192"),r.\u0275\u0275elementEnd()())}function Hl(i,e){if(i&1&&(r.\u0275\u0275elementStart(0,"div",114)(1,"span",115),r.\u0275\u0275text(2),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"span",116),r.\u0275\u0275text(4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(5,"span",117),r.\u0275\u0275text(6),r.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(t.day),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate2("",t.startTime,"-",t.endTime),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(t.room)}}function jl(i,e){if(i&1&&(r.\u0275\u0275elementStart(0,"div",95)(1,"div",99)(2,"span",97),r.\u0275\u0275text(3,"\u{1F4CB} Prerequisites"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"span",98),r.\u0275\u0275text(5),r.\u0275\u0275elementEnd()()()),i&2){let t=r.\u0275\u0275nextContext().$implicit,n=r.\u0275\u0275nextContext();r.\u0275\u0275advance(5),r.\u0275\u0275textInterpolate(n.formatPrerequisites(t.prerequisites))}}function Wl(i,e){if(i&1){let t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",88),r.\u0275\u0275listener("click",function(){let a=r.\u0275\u0275restoreView(t).$implicit,o=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(o.selectClass(a))}),r.\u0275\u0275elementStart(1,"div",89)(2,"div",90)(3,"h3",91),r.\u0275\u0275text(4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(5,"span",92),r.\u0275\u0275text(6),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(7,"div",93)(8,"span",76)(9,"span",77),r.\u0275\u0275text(10),r.\u0275\u0275elementEnd(),r.\u0275\u0275text(11),r.\u0275\u0275pipe(12,"titlecase"),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(13,"div",94)(14,"div",95)(15,"div",96)(16,"span",97),r.\u0275\u0275text(17,"\u{1F3EB} Department"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(18,"span",98)(19,"span",63),r.\u0275\u0275text(20),r.\u0275\u0275elementEnd()()()(),r.\u0275\u0275elementStart(21,"div",95)(22,"div",96)(23,"span",97),r.\u0275\u0275text(24,"\u{1F468}\u200D\u{1F3EB} Teacher"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(25,"span",98),r.\u0275\u0275text(26),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(27,"div",95)(28,"div",96)(29,"span",97),r.\u0275\u0275text(30,"\u{1F4DA} Credits"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(31,"span",98),r.\u0275\u0275text(32),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(33,"div",96)(34,"span",97),r.\u0275\u0275text(35,"\u{1F4C5} Semester"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(36,"span",98),r.\u0275\u0275text(37),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(38,"div",95)(39,"div",99)(40,"span",97),r.\u0275\u0275text(41,"\u{1F465} Enrollment"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(42,"div",100)(43,"span",68),r.\u0275\u0275text(44),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(45,"div",101),r.\u0275\u0275element(46,"div",102),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(47,"small",103),r.\u0275\u0275text(48),r.\u0275\u0275elementEnd()()()(),r.\u0275\u0275elementStart(49,"div",95)(50,"div",99)(51,"span",97),r.\u0275\u0275text(52,"\u{1F552} Schedule"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(53,"div",104),r.\u0275\u0275template(54,Hl,7,4,"div",105),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275template(55,jl,6,1,"div",106),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(56,"div",107)(57,"button",108),r.\u0275\u0275listener("click",function(a){let o=r.\u0275\u0275restoreView(t).$implicit;return r.\u0275\u0275nextContext().viewClass(o),r.\u0275\u0275resetView(a.stopPropagation())}),r.\u0275\u0275elementStart(58,"span",109),r.\u0275\u0275text(59,"\u{1F441}\uFE0F"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(60,"span",110),r.\u0275\u0275text(61,"View"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(62,"button",111),r.\u0275\u0275listener("click",function(a){let o=r.\u0275\u0275restoreView(t).$implicit;return r.\u0275\u0275nextContext().manageEnrollment(o),r.\u0275\u0275resetView(a.stopPropagation())}),r.\u0275\u0275elementStart(63,"span",109),r.\u0275\u0275text(64,"\u{1F465}"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(65,"span",110),r.\u0275\u0275text(66,"Enrollment"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(67,"button",112),r.\u0275\u0275listener("click",function(a){let o=r.\u0275\u0275restoreView(t).$implicit;return r.\u0275\u0275nextContext().viewSchedule(o),r.\u0275\u0275resetView(a.stopPropagation())}),r.\u0275\u0275elementStart(68,"span",109),r.\u0275\u0275text(69,"\u{1F4C5}"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(70,"span",110),r.\u0275\u0275text(71,"Schedule"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(72,"button",113),r.\u0275\u0275listener("click",function(a){let o=r.\u0275\u0275restoreView(t).$implicit;return r.\u0275\u0275nextContext().duplicateClass(o),r.\u0275\u0275resetView(a.stopPropagation())}),r.\u0275\u0275elementStart(73,"span",109),r.\u0275\u0275text(74,"\u{1F4CB}"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(75,"span",110),r.\u0275\u0275text(76,"Duplicate"),r.\u0275\u0275elementEnd()()()()}if(i&2){let t=e.$implicit,n=r.\u0275\u0275nextContext();r.\u0275\u0275classProp("selected",n.isClassSelected(t)),r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate(t.name),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(t.code),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngClass",n.getStatusClass(t.status)),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(n.getStatusIcon(t.status)),r.\u0275\u0275advance(),r.\u0275\u0275textInterpolate1(" ",r.\u0275\u0275pipeBind1(12,20,t.status)," "),r.\u0275\u0275advance(9),r.\u0275\u0275textInterpolate(t.department),r.\u0275\u0275advance(6),r.\u0275\u0275textInterpolate(t.teacherName),r.\u0275\u0275advance(6),r.\u0275\u0275textInterpolate1("",t.credits," credits"),r.\u0275\u0275advance(5),r.\u0275\u0275textInterpolate2("",t.semester," ",t.year),r.\u0275\u0275advance(7),r.\u0275\u0275textInterpolate2("",t.enrolledStudents,"/",t.maxStudents," students"),r.\u0275\u0275advance(2),r.\u0275\u0275styleProp("width",n.getCapacityPercentage(t),"%"),r.\u0275\u0275property("ngClass",n.getCapacityClass(t)),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(n.getEnrollmentStatus(t)),r.\u0275\u0275advance(6),r.\u0275\u0275property("ngForOf",t.schedule),r.\u0275\u0275advance(),r.\u0275\u0275property("ngIf",t.prerequisites&&t.prerequisites.length>0)}}function Ul(i,e){if(i&1){let t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",118)(1,"button",119),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);let a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.loadMoreClasses())}),r.\u0275\u0275elementStart(2,"span",109),r.\u0275\u0275text(3,"\u2B07\uFE0F"),r.\u0275\u0275elementEnd(),r.\u0275\u0275text(4),r.\u0275\u0275elementEnd()()}if(i&2){let t=r.\u0275\u0275nextContext();r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate1(" Load More Classes (",t.filteredClasses.length-t.displayLimit," remaining) ")}}function $l(i,e){if(i&1){let t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",120)(1,"div",121)(2,"h3"),r.\u0275\u0275text(3,"\u{1F4DA} No Classes Found"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"p"),r.\u0275\u0275text(5,"No classes match your current search criteria."),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(6,"div",122)(7,"button",123),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);let a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.clearFilters())}),r.\u0275\u0275text(8,"Clear Filters"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(9,"button",124),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);let a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.addClass())}),r.\u0275\u0275text(10,"Add New Class"),r.\u0275\u0275elementEnd()()()()}}var tn=class i{constructor(e,t,n,a,o){this.attendanceService=e;this.http=t;this.api=n;this.cdr=a;this.zone=o;try{console.log("ClassesComponent constructor")}catch{}}classes=[];enrollments=[];filteredClasses=[];selectedClass=null;showEnrollmentModal=!1;searchTerm="";selectedDepartment="";selectedSemester="";selectedStatus="";viewMode="table";displayLimit=20;sortField="name";currentSort={field:"name",direction:"asc"};newEnrollmentStudentId=null;allStudents=[];selectedEnrollmentClass=null;selectedAttendanceClass=null;attendanceDate=new Date().toISOString();showScrollIndicator=!1;showMobileFilters=!1;departments=[];semesters=[];displayedColumns=["code","name","department","teacher","credits","capacity","schedule","status","attendance","actions"];ngAfterViewInit(){try{console.log("ClassesComponent ngAfterViewInit")}catch{}}ngOnInit(){this.fetchClasses(),this.fetchEnrollments()}fetchClasses(){try{console.log("Fetching classes via ApiService")}catch{}this.api.get("classes/summary").subscribe({next:e=>{let t=[];Array.isArray(e)?t=e:e&&Array.isArray(e.data)?t=e.data:e&&Array.isArray(e.classes)?t=e.classes:console.warn("Unexpected /classes response \u2014 expected array, got:",e),this.classes=Array.isArray(t)?t:[];try{this.zone.run(()=>{this.departments=Array.from(new Set(this.classes.map(n=>n.department).filter(Boolean))).sort(),this.semesters=Array.from(new Set(this.classes.map(n=>n.semester).filter(Boolean))).sort(),this.applyFilters()})}catch{this.departments=Array.from(new Set(this.classes.map(a=>a.department).filter(Boolean))).sort(),this.semesters=Array.from(new Set(this.classes.map(a=>a.semester).filter(Boolean))).sort(),this.applyFilters()}try{console.log("Classes fetched:",{count:this.classes.length,departments:this.departments.slice(0,50),semesters:this.semesters.slice(0,50),filtered:this.filteredClasses.length})}catch{}try{setTimeout(()=>{try{this.cdr.detectChanges()}catch{}},0)}catch{try{this.cdr.detectChanges()}catch{}}try{if(!this.departments||this.departments.length<=1){try{console.log("Departments list small, fetching via ApiService")}catch{}this.api.get("departments").subscribe({next:n=>{let a=n?.data;if(Array.isArray(a)&&a.length){this.departments=Array.from(new Set(a.filter(Boolean))).sort();try{setTimeout(()=>{try{this.cdr.detectChanges()}catch{}},0)}catch{try{this.cdr.detectChanges()}catch{}}}},error:n=>{}})}}catch{}},error:e=>console.error("Error fetching classes",e)})}fetchEnrollments(){this.api.get("enrollments/summary").subscribe({next:e=>{if(Array.isArray(e))this.enrollments=e;else{console.warn("Unexpected /enrollments response \u2014 expected array, got:",e);let t=e||{};this.enrollments=Array.isArray(t.enrollments)?t.enrollments:[]}try{console.log("Enrollments fetched:",{count:this.enrollments.length}),this.zone.run(()=>{})}catch{}try{setTimeout(()=>{try{this.cdr.detectChanges()}catch{}},0)}catch{try{this.cdr.detectChanges()}catch{}}},error:e=>console.error("Error fetching enrollments",e)})}applyFilters(){let e=[...this.classes],t=this.searchTerm?.trim().toLowerCase();t&&(e=e.filter(o=>(o.name||"").toLowerCase().includes(t)||(o.code||"").toLowerCase().includes(t))),this.selectedDepartment&&(e=e.filter(o=>o.department===this.selectedDepartment)),this.selectedSemester&&(e=e.filter(o=>o.semester===this.selectedSemester)),this.selectedStatus&&(e=e.filter(o=>o.status===this.selectedStatus));let n=this.currentSort.field||this.sortField,a=this.currentSort.direction==="desc"?-1:1;e.sort((o,v)=>{let I=o&&o[n]||"",j=v&&v[n]||"";return I<j?-1*a:I>j?1*a:0}),this.filteredClasses=e}exportClassList(){let e=[["ID","Code","Name","Department","Semester","Year","Credits","Status"]];this.classes.forEach(v=>e.push([String(v.id),v.code||"",v.name||"",v.department||"",v.semester||"",String(v.year||""),String(v.credits||""),v.status||""]));let t=e.map(v=>v.map(I=>'"'+String(I).replace(/"/g,'""')+'"').join(",")).join(`
`),n=new Blob([t],{type:"text/csv"}),a=URL.createObjectURL(n),o=document.createElement("a");o.href=a,o.download="classes.csv",o.click(),URL.revokeObjectURL(a)}toggleMobileFilters(){this.showMobileFilters=!this.showMobileFilters}filterClasses(){this.applyFilters()}sortClasses(){this.sortByField(this.sortField)}getActiveCount(){return this.classes.filter(e=>e.status==="active").length}getTotalEnrollments(){return this.enrollments.filter(e=>e.status==="enrolled").length}getAverageCapacity(){if(!this.classes.length)return 0;let e=this.classes.map(n=>this.getCapacityPercentage(n));return Math.round(e.reduce((n,a)=>n+a,0)/e.length)}getDepartmentCount(){return this.departments.length}getEnrollmentStatus(e){if(!e.maxStudents)return"unknown";let t=this.getCapacityPercentage(e);return t>=100?"full":t>=90?"nearly-full":"open"}formatPrerequisites(e){return!e||e.length===0?"None":e.join(", ")}viewSchedule(e){}duplicateClass(e){let t=yt(U({},e),{id:Date.now()});this.classes.push(t),this.applyFilters()}openEnrollmentModal(e){this.selectedClass=e,this.showEnrollmentModal=!0}closeEnrollmentModal(){this.selectedClass=null,this.showEnrollmentModal=!1}getEnrolledForClass(e){return this.enrollments.filter(t=>t.classId===e&&t.status==="enrolled")}ensureAttendanceRecordsForClass(e){let t=this.getEnrolledForClass(e),a=new Date().toISOString();t.forEach(o=>{this.attendanceService.getRecordsForClass(e,a).find(I=>I.studentId===o.studentId)||this.attendanceService.addRecord({id:Date.now(),studentId:o.studentId,studentName:o.studentName,classId:e,className:this.classes.find(I=>I.id===e)?.name||"",date:a,status:"present",notes:""})})}onSearch(e){e!==void 0&&(this.searchTerm=e),this.applyFilters()}clearSearch(){this.searchTerm="",this.applyFilters()}checkScrollIndicator(){}setViewMode(e){this.viewMode=e}sortByField(e){this.currentSort.field===e?this.currentSort.direction=this.currentSort.direction==="asc"?"desc":"asc":(this.currentSort.field=e,this.currentSort.direction="asc"),this.applyFilters()}trackByClassId(e,t){return t.id}get dataSource(){return this.filteredClasses}isClassSelected(e){return!!this.selectedClass&&this.selectedClass.id===e.id}selectClass(e){this.selectedClass=e}getCapacityPercentage(e){return e.maxStudents?Math.round((e.enrolledStudents||0)/e.maxStudents*100):0}getCapacityClass(e){let t=this.getCapacityPercentage(e);return t>=90?"capacity-high":t>=60?"capacity-medium":"capacity-low"}getStatusClass(e){switch(e){case"active":return"status-active";case"cancelled":return"status-cancelled";case"completed":return"status-completed";default:return""}}getStatusIcon(e){switch(e){case"active":return"\u2705";case"cancelled":return"\u274C";case"completed":return"\u{1F3C1}";default:return""}}showAttendance(e){this.selectedAttendanceClass=e,this.ensureAttendanceRecordsForClass(e.id)}closeAttendance(){this.selectedAttendanceClass=null}viewClass(e){}editClass(e){}manageEnrollment(e){this.selectedEnrollmentClass=e,this.showEnrollmentModal=!0}getEnrolledStudents(e){return this.enrollments.filter(t=>t.classId===e&&t.status==="enrolled")}removeStudentFromClass(e){let t=this.enrollments.findIndex(n=>n.id===e);t>-1&&(this.enrollments[t].status="dropped")}addStudentToClass(){if(!this.selectedEnrollmentClass||!this.newEnrollmentStudentId)return;let e=this.allStudents.find(t=>t.studentId===this.newEnrollmentStudentId);e&&(this.enrollments.push({id:Date.now(),studentId:e.studentId,studentName:e.studentName,classId:this.selectedEnrollmentClass.id,status:"enrolled"}),this.newEnrollmentStudentId=null)}generateReport(e){}loadMoreClasses(){this.displayLimit+=20}clearFilters(){this.selectedDepartment="",this.selectedSemester="",this.selectedStatus="",this.searchTerm="",this.applyFilters()}addClass(){}static \u0275fac=function(t){return new(t||i)(r.\u0275\u0275directiveInject(Hn),r.\u0275\u0275directiveInject(va.HttpClient),r.\u0275\u0275directiveInject(jn),r.\u0275\u0275directiveInject(r.ChangeDetectorRef),r.\u0275\u0275directiveInject(r.NgZone))};static \u0275cmp=r.\u0275\u0275defineComponent({type:i,selectors:[["app-classes"]],decls:154,vars:55,consts:[[1,"classes-container"],[1,"classes-header"],[1,"header-search"],[1,"search-wrapper"],["type","text","placeholder","\u{1F50D} Search classes...",1,"form-input","header-search-input",3,"ngModelChange","input","ngModel"],["class","clear-search-btn",3,"click",4,"ngIf"],[1,"header-actions"],[1,"btn","btn-secondary","export-btn",3,"click"],[1,"btn","btn-primary","add-class-btn",3,"click"],[1,"filters-section"],[1,"mobile-filter-toggle",3,"click"],[1,"filter-icon"],[1,"filter-row"],[1,"mobile-filter-row"],[1,"filter-group"],[1,"filter-label"],[1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["value","active"],["value","cancelled"],["value","completed"],["value","draft"],[1,"filter-actions"],[1,"btn","btn-secondary","clear-filters",3,"click"],[1,"sort-options"],["value","name"],["value","code"],["value","department"],["value","teacher"],["value","credits"],["value","enrollment"],["value","capacity"],["value","status"],[1,"quick-stats"],[1,"stat-item"],[1,"stat-number"],[1,"stat-label"],[1,"classes-table-container"],[1,"view-controls"],[1,"classes-count"],[1,"view-toggle-buttons"],["title","Table View",1,"view-toggle-btn",3,"click"],["title","Card View",1,"view-toggle-btn",3,"click"],[1,"table-wrapper"],[1,"table-scroll-container"],[1,"classes-table"],[1,"sortable",3,"click"],[1,"sort-indicator"],["class","class-row",3,"highlighted","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","scroll-indicator",4,"ngIf"],[1,"mobile-cards"],["class","class-card",3,"selected","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","load-more-section",4,"ngIf"],["class","no-classes",4,"ngIf"],[1,"clear-search-btn",3,"click"],[3,"value"],[1,"class-row",3,"click"],[1,"class-code"],[1,"class-name"],[1,"name-wrapper"],[1,"class-semester"],[1,"department-cell"],[1,"department-badge"],[1,"teacher-cell"],[1,"credits-cell"],[1,"capacity-cell"],[1,"capacity-info"],[1,"capacity-numbers"],[1,"capacity-bar"],[1,"capacity-fill",3,"ngClass"],[1,"capacity-percentage"],[1,"schedule-cell"],[1,"schedule-summary"],["class","schedule-item",4,"ngFor","ngForOf"],[1,"status-cell"],[1,"status-badge",3,"ngClass"],[1,"status-icon"],[1,"btn","btn-sm","btn-info",3,"click"],[1,"actions-cell"],[1,"action-buttons"],["title","View Details",1,"btn-action","btn-view",3,"click"],["title","Edit Class",1,"btn-action","btn-edit",3,"click"],["title","Manage Enrollment",1,"btn-action","btn-enrollment",3,"click"],["title","Generate Report",1,"btn-action","btn-more",3,"click"],[1,"schedule-item"],[1,"scroll-indicator"],[1,"scroll-text"],[1,"class-card",3,"click"],[1,"class-card-header"],[1,"class-info"],[1,"class-card-name"],[1,"class-card-code"],[1,"class-card-status"],[1,"class-card-body"],[1,"card-row"],[1,"class-card-field"],[1,"class-card-label"],[1,"class-card-value"],[1,"class-card-field","full-width"],[1,"capacity-info-mobile"],[1,"capacity-bar-mobile"],[1,"capacity-fill-mobile",3,"ngClass"],[1,"enrollment-status"],[1,"schedule-mobile"],["class","schedule-item-mobile",4,"ngFor","ngForOf"],["class","card-row",4,"ngIf"],[1,"class-card-actions"],["title","View Details",1,"card-action-btn","primary",3,"click"],[1,"btn-icon"],[1,"btn-text"],["title","Manage Enrollment",1,"card-action-btn","secondary",3,"click"],["title","Schedule",1,"card-action-btn","tertiary",3,"click"],["title","Duplicate Class",1,"card-action-btn","quaternary",3,"click"],[1,"schedule-item-mobile"],[1,"schedule-day"],[1,"schedule-time"],[1,"schedule-room"],[1,"load-more-section"],[1,"btn","btn-outline","load-more-btn",3,"click"],[1,"no-classes"],[1,"empty-state"],[1,"empty-actions"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"]],template:function(t,n){t&1&&(r.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h2"),r.\u0275\u0275text(3,"\u{1F4DA} Classes Management"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"div",2)(5,"div",3)(6,"input",4),r.\u0275\u0275twoWayListener("ngModelChange",function(o){return r.\u0275\u0275twoWayBindingSet(n.searchTerm,o)||(n.searchTerm=o),o}),r.\u0275\u0275listener("input",function(){return n.onSearch()}),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(7,Rl,2,0,"button",5),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(8,"div",6)(9,"button",7),r.\u0275\u0275listener("click",function(){return n.exportClassList()}),r.\u0275\u0275text(10," \u{1F4CA} Export "),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(11,"button",8),r.\u0275\u0275listener("click",function(){return n.addClass()}),r.\u0275\u0275text(12," \u2795 Add New Class "),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(13,"div",9)(14,"div",10),r.\u0275\u0275listener("click",function(){return n.toggleMobileFilters()}),r.\u0275\u0275elementStart(15,"span"),r.\u0275\u0275text(16,"\u{1F50D} Filters & Search"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(17,"span",11),r.\u0275\u0275text(18,"\u25BC"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(19,"div",12)(20,"div",13)(21,"div",14)(22,"label",15),r.\u0275\u0275text(23,"Department"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(24,"select",16),r.\u0275\u0275twoWayListener("ngModelChange",function(o){return r.\u0275\u0275twoWayBindingSet(n.selectedDepartment,o)||(n.selectedDepartment=o),o}),r.\u0275\u0275listener("change",function(){return n.filterClasses()}),r.\u0275\u0275elementStart(25,"option",17),r.\u0275\u0275text(26,"All Departments"),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(27,Nl,2,2,"option",18),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(28,"div",14)(29,"label",15),r.\u0275\u0275text(30,"Semester"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(31,"select",16),r.\u0275\u0275twoWayListener("ngModelChange",function(o){return r.\u0275\u0275twoWayBindingSet(n.selectedSemester,o)||(n.selectedSemester=o),o}),r.\u0275\u0275listener("change",function(){return n.filterClasses()}),r.\u0275\u0275elementStart(32,"option",17),r.\u0275\u0275text(33,"All Semesters"),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(34,zl,2,2,"option",18),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(35,"div",14)(36,"label",15),r.\u0275\u0275text(37,"Status"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(38,"select",16),r.\u0275\u0275twoWayListener("ngModelChange",function(o){return r.\u0275\u0275twoWayBindingSet(n.selectedStatus,o)||(n.selectedStatus=o),o}),r.\u0275\u0275listener("change",function(){return n.filterClasses()}),r.\u0275\u0275elementStart(39,"option",17),r.\u0275\u0275text(40,"All Status"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(41,"option",19),r.\u0275\u0275text(42,"Active"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(43,"option",20),r.\u0275\u0275text(44,"Cancelled"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(45,"option",21),r.\u0275\u0275text(46,"Completed"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(47,"option",22),r.\u0275\u0275text(48,"Draft"),r.\u0275\u0275elementEnd()()()(),r.\u0275\u0275elementStart(49,"div",23)(50,"button",24),r.\u0275\u0275listener("click",function(){return n.clearFilters()}),r.\u0275\u0275text(51," \u{1F5D1}\uFE0F Clear Filters "),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(52,"div",25)(53,"label",15),r.\u0275\u0275text(54,"Sort By"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(55,"select",16),r.\u0275\u0275twoWayListener("ngModelChange",function(o){return r.\u0275\u0275twoWayBindingSet(n.sortField,o)||(n.sortField=o),o}),r.\u0275\u0275listener("change",function(){return n.sortClasses()}),r.\u0275\u0275elementStart(56,"option",26),r.\u0275\u0275text(57,"Name (A-Z)"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(58,"option",27),r.\u0275\u0275text(59,"Code"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(60,"option",28),r.\u0275\u0275text(61,"Department"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(62,"option",29),r.\u0275\u0275text(63,"Teacher"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(64,"option",30),r.\u0275\u0275text(65,"Credits"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(66,"option",31),r.\u0275\u0275text(67,"Enrollment"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(68,"option",32),r.\u0275\u0275text(69,"Capacity"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(70,"option",33),r.\u0275\u0275text(71,"Status"),r.\u0275\u0275elementEnd()()()()(),r.\u0275\u0275elementStart(72,"div",34)(73,"div",35)(74,"span",36),r.\u0275\u0275text(75),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(76,"span",37),r.\u0275\u0275text(77,"Showing"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(78,"div",35)(79,"span",36),r.\u0275\u0275text(80),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(81,"span",37),r.\u0275\u0275text(82,"Active"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(83,"div",35)(84,"span",36),r.\u0275\u0275text(85),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(86,"span",37),r.\u0275\u0275text(87,"Total Enrolled"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(88,"div",35)(89,"span",36),r.\u0275\u0275text(90),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(91,"span",37),r.\u0275\u0275text(92,"Avg. Capacity"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(93,"div",35)(94,"span",36),r.\u0275\u0275text(95),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(96,"span",37),r.\u0275\u0275text(97,"Departments"),r.\u0275\u0275elementEnd()()()(),r.\u0275\u0275elementStart(98,"div",38)(99,"div",39)(100,"div",40)(101,"p"),r.\u0275\u0275text(102),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(103,"div",41)(104,"button",42),r.\u0275\u0275listener("click",function(){return n.setViewMode("table")}),r.\u0275\u0275text(105," \u{1F4CA} "),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(106,"button",43),r.\u0275\u0275listener("click",function(){return n.setViewMode("cards")}),r.\u0275\u0275text(107," \u{1F0CF} "),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(108,"div",44)(109,"div",45)(110,"table",46)(111,"thead")(112,"tr")(113,"th",47),r.\u0275\u0275listener("click",function(){return n.sortByField("code")}),r.\u0275\u0275text(114," Code "),r.\u0275\u0275elementStart(115,"span",48),r.\u0275\u0275text(116),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(117,"th",47),r.\u0275\u0275listener("click",function(){return n.sortByField("name")}),r.\u0275\u0275text(118," Class Name "),r.\u0275\u0275elementStart(119,"span",48),r.\u0275\u0275text(120),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(121,"th",47),r.\u0275\u0275listener("click",function(){return n.sortByField("department")}),r.\u0275\u0275text(122," Department "),r.\u0275\u0275elementStart(123,"span",48),r.\u0275\u0275text(124),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(125,"th",47),r.\u0275\u0275listener("click",function(){return n.sortByField("teacher")}),r.\u0275\u0275text(126," Teacher "),r.\u0275\u0275elementStart(127,"span",48),r.\u0275\u0275text(128),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(129,"th",47),r.\u0275\u0275listener("click",function(){return n.sortByField("credits")}),r.\u0275\u0275text(130," Credits "),r.\u0275\u0275elementStart(131,"span",48),r.\u0275\u0275text(132),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(133,"th",47),r.\u0275\u0275listener("click",function(){return n.sortByField("capacity")}),r.\u0275\u0275text(134," Capacity "),r.\u0275\u0275elementStart(135,"span",48),r.\u0275\u0275text(136),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(137,"th"),r.\u0275\u0275text(138,"Schedule"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(139,"th",47),r.\u0275\u0275listener("click",function(){return n.sortByField("status")}),r.\u0275\u0275text(140," Status "),r.\u0275\u0275elementStart(141,"span",48),r.\u0275\u0275text(142),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(143,"th"),r.\u0275\u0275text(144,"Attendance"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(145,"th"),r.\u0275\u0275text(146,"Actions"),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(147,"tbody"),r.\u0275\u0275template(148,Ll,47,21,"tr",49),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275template(149,Vl,3,0,"div",50),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(150,"div",51),r.\u0275\u0275template(151,Wl,77,22,"div",52)(152,Ul,5,1,"div",53),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(153,$l,11,0,"div",54),r.\u0275\u0275elementEnd()()),t&2&&(r.\u0275\u0275advance(6),r.\u0275\u0275twoWayProperty("ngModel",n.searchTerm),r.\u0275\u0275advance(),r.\u0275\u0275property("ngIf",n.searchTerm),r.\u0275\u0275advance(10),r.\u0275\u0275classProp("rotated",n.showMobileFilters),r.\u0275\u0275advance(2),r.\u0275\u0275classProp("mobile-expanded",n.showMobileFilters),r.\u0275\u0275advance(5),r.\u0275\u0275twoWayProperty("ngModel",n.selectedDepartment),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngForOf",n.departments),r.\u0275\u0275advance(4),r.\u0275\u0275twoWayProperty("ngModel",n.selectedSemester),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngForOf",n.semesters),r.\u0275\u0275advance(4),r.\u0275\u0275twoWayProperty("ngModel",n.selectedStatus),r.\u0275\u0275advance(17),r.\u0275\u0275twoWayProperty("ngModel",n.sortField),r.\u0275\u0275advance(20),r.\u0275\u0275textInterpolate(n.filteredClasses.length),r.\u0275\u0275advance(5),r.\u0275\u0275textInterpolate(n.getActiveCount()),r.\u0275\u0275advance(5),r.\u0275\u0275textInterpolate(n.getTotalEnrollments()),r.\u0275\u0275advance(5),r.\u0275\u0275textInterpolate1("",n.getAverageCapacity(),"%"),r.\u0275\u0275advance(5),r.\u0275\u0275textInterpolate(n.getDepartmentCount()),r.\u0275\u0275advance(7),r.\u0275\u0275textInterpolate2("Showing ",n.filteredClasses.length," of ",n.classes.length," classes"),r.\u0275\u0275advance(2),r.\u0275\u0275classProp("active",n.viewMode==="table"),r.\u0275\u0275advance(2),r.\u0275\u0275classProp("active",n.viewMode==="cards"),r.\u0275\u0275advance(2),r.\u0275\u0275styleProp("display",n.viewMode==="cards"?"none":"block"),r.\u0275\u0275advance(7),r.\u0275\u0275classProp("active",n.currentSort.field==="code"),r.\u0275\u0275advance(),r.\u0275\u0275textInterpolate1(" ",n.currentSort.field==="code"?n.currentSort.direction==="asc"?"\u25B2":"\u25BC":"\u2195\uFE0F"," "),r.\u0275\u0275advance(3),r.\u0275\u0275classProp("active",n.currentSort.field==="name"),r.\u0275\u0275advance(),r.\u0275\u0275textInterpolate1(" ",n.currentSort.field==="name"?n.currentSort.direction==="asc"?"\u25B2":"\u25BC":"\u2195\uFE0F"," "),r.\u0275\u0275advance(3),r.\u0275\u0275classProp("active",n.currentSort.field==="department"),r.\u0275\u0275advance(),r.\u0275\u0275textInterpolate1(" ",n.currentSort.field==="department"?n.currentSort.direction==="asc"?"\u25B2":"\u25BC":"\u2195\uFE0F"," "),r.\u0275\u0275advance(3),r.\u0275\u0275classProp("active",n.currentSort.field==="teacher"),r.\u0275\u0275advance(),r.\u0275\u0275textInterpolate1(" ",n.currentSort.field==="teacher"?n.currentSort.direction==="asc"?"\u25B2":"\u25BC":"\u2195\uFE0F"," "),r.\u0275\u0275advance(3),r.\u0275\u0275classProp("active",n.currentSort.field==="credits"),r.\u0275\u0275advance(),r.\u0275\u0275textInterpolate1(" ",n.currentSort.field==="credits"?n.currentSort.direction==="asc"?"\u25B2":"\u25BC":"\u2195\uFE0F"," "),r.\u0275\u0275advance(3),r.\u0275\u0275classProp("active",n.currentSort.field==="capacity"),r.\u0275\u0275advance(),r.\u0275\u0275textInterpolate1(" ",n.currentSort.field==="capacity"?n.currentSort.direction==="asc"?"\u25B2":"\u25BC":"\u2195\uFE0F"," "),r.\u0275\u0275advance(5),r.\u0275\u0275classProp("active",n.currentSort.field==="status"),r.\u0275\u0275advance(),r.\u0275\u0275textInterpolate1(" ",n.currentSort.field==="status"?n.currentSort.direction==="asc"?"\u25B2":"\u25BC":"\u2195\uFE0F"," "),r.\u0275\u0275advance(6),r.\u0275\u0275property("ngForOf",n.filteredClasses)("ngForTrackBy",n.trackByClassId),r.\u0275\u0275advance(),r.\u0275\u0275property("ngIf",n.showScrollIndicator),r.\u0275\u0275advance(),r.\u0275\u0275styleProp("display",n.viewMode==="cards"?"block":"none"),r.\u0275\u0275advance(),r.\u0275\u0275property("ngForOf",n.filteredClasses)("ngForTrackBy",n.trackByClassId),r.\u0275\u0275advance(),r.\u0275\u0275property("ngIf",n.filteredClasses.length>n.displayLimit),r.\u0275\u0275advance(),r.\u0275\u0275property("ngIf",n.filteredClasses.length===0))},dependencies:[Fl,Ft.NgClass,Ft.NgForOf,Ft.NgIf,Al,Ct.NgSelectOption,Ct.\u0275NgSelectMultipleOption,Ct.DefaultValueAccessor,Ct.SelectControlValueAccessor,Ct.NgControlStatus,Ct.NgModel,L,Ft.TitleCasePipe],styles:[".classes-container[_ngcontent-%COMP%]{padding:16px;background:#f8f9fa;min-height:100vh}@media(min-width:768px){.classes-container[_ngcontent-%COMP%]{padding:24px}}@media(min-width:1024px){.classes-container[_ngcontent-%COMP%]{padding:32px}}.classes-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;margin-bottom:24px}@media(min-width:768px){.classes-header[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;align-items:center;gap:20px}}.classes-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;color:#2c3e50;margin:0;font-weight:600}@media(min-width:768px){.classes-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px}}@media(min-width:1024px){.classes-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px}}.classes-header[_ngcontent-%COMP%]   .header-search[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:12px}.classes-header[_ngcontent-%COMP%]   .header-search[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]{position:relative}.classes-header[_ngcontent-%COMP%]   .header-search[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   .header-search-input[_ngcontent-%COMP%]{width:220px;min-height:44px;padding:10px 14px;border:2px solid #bdc3c7;border-radius:8px;font-size:15px;transition:width .18s ease}.classes-header[_ngcontent-%COMP%]   .header-search[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%)}@media(max-width:900px){.classes-header[_ngcontent-%COMP%]   .header-search[_ngcontent-%COMP%]   .header-search-input[_ngcontent-%COMP%]{width:140px}.classes-header[_ngcontent-%COMP%]   .header-search[_ngcontent-%COMP%]   .header-search-input[_ngcontent-%COMP%]:focus{width:100%}}.classes-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}@media(min-width:768px){.classes-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{align-items:center}}.classes-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .export-btn[_ngcontent-%COMP%]{min-height:44px;min-width:44px;padding:12px 16px;background:#9b59b6;color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px}.classes-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .export-btn[_ngcontent-%COMP%]:hover, .classes-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .export-btn[_ngcontent-%COMP%]:focus{transform:translateY(-2px);box-shadow:0 4px 12px #9b59b666}.classes-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .export-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.classes-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .export-btn[_ngcontent-%COMP%]:focus{outline:2px solid rgba(155,89,182,.5);outline-offset:2px}.classes-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .export-btn[_ngcontent-%COMP%]{white-space:nowrap}.classes-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .add-class-btn[_ngcontent-%COMP%]{min-height:44px;min-width:44px;padding:12px 16px;background:#3498db;color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px}.classes-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .add-class-btn[_ngcontent-%COMP%]:hover, .classes-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .add-class-btn[_ngcontent-%COMP%]:focus{transform:translateY(-2px);box-shadow:0 4px 12px #3498db66}.classes-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .add-class-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.classes-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .add-class-btn[_ngcontent-%COMP%]:focus{outline:2px solid rgba(52,152,219,.5);outline-offset:2px}.classes-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .add-class-btn[_ngcontent-%COMP%]{white-space:nowrap}.filters-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;margin-bottom:24px;box-shadow:0 2px 8px #0000001a;transition:box-shadow .3s ease}.filters-section[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #00000026}.filters-section[_ngcontent-%COMP%]{overflow:hidden}@media(max-width:767px){.mobile-filter-toggle[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;background:#ecf0f1;cursor:pointer;border-bottom:1px solid #bdc3c7;font-weight:500;color:#2c3e50;-webkit-user-select:none;user-select:none}.mobile-filter-toggle[_ngcontent-%COMP%]   .filter-icon[_ngcontent-%COMP%]{transition:transform .3s ease;font-size:12px}.mobile-filter-toggle[_ngcontent-%COMP%]   .filter-icon.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.mobile-filter-toggle[_ngcontent-%COMP%]:hover{background:#e6e6e6}.mobile-filter-toggle[_ngcontent-%COMP%]:active{background:#d9d9d9}}@media(min-width:768px){.mobile-filter-toggle[_ngcontent-%COMP%]{display:none}}.filter-row[_ngcontent-%COMP%]{padding:20px;display:flex;flex-direction:column;gap:20px}@media(max-width:767px){.filter-row[_ngcontent-%COMP%]{display:none}.filter-row.mobile-expanded[_ngcontent-%COMP%]{display:flex}}@media(min-width:768px){.filter-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:20px}}@media(min-width:1024px){.filter-row[_ngcontent-%COMP%]{flex-wrap:nowrap;gap:24px}}.search-box[_ngcontent-%COMP%]{flex:1;min-width:250px}.search-box[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]{position:relative}.search-box[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;min-height:44px;padding:12px 48px 12px 16px;border:2px solid #bdc3c7;border-radius:8px;font-size:16px;transition:border-color .3s ease}.search-box[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{border-color:#3498db;outline:none;box-shadow:0 0 0 3px #3498db1a}.search-box[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);background:#7f8c8d;color:#fff;border:none;border-radius:50%;width:24px;height:24px;cursor:pointer;font-size:12px;display:flex;align-items:center;justify-content:center}.search-box[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]:hover{background:#e74c3c}.mobile-filter-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}@media(min-width:768px){.mobile-filter-row[_ngcontent-%COMP%]{flex-direction:row;gap:20px;flex-wrap:wrap}}@media(min-width:1024px){.mobile-filter-row[_ngcontent-%COMP%]{flex-wrap:nowrap;gap:24px}}.filter-group[_ngcontent-%COMP%]{flex:1;min-width:180px}.filter-group[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:500;color:#2c3e50;font-size:14px}.filter-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{width:100%;min-height:44px;padding:12px 16px;border:2px solid #bdc3c7;border-radius:8px;font-size:16px;background:#fff;cursor:pointer;transition:border-color .3s ease}.filter-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#3498db;outline:none;box-shadow:0 0 0 3px #3498db1a}.filter-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}@media(min-width:768px){.filter-actions[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-end;gap:16px}}.filter-actions[_ngcontent-%COMP%]   .clear-filters[_ngcontent-%COMP%]{min-height:44px;min-width:44px;padding:12px 16px;background:#7f8c8d;color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px}.filter-actions[_ngcontent-%COMP%]   .clear-filters[_ngcontent-%COMP%]:hover, .filter-actions[_ngcontent-%COMP%]   .clear-filters[_ngcontent-%COMP%]:focus{transform:translateY(-2px);box-shadow:0 4px 12px #7f8c8d66}.filter-actions[_ngcontent-%COMP%]   .clear-filters[_ngcontent-%COMP%]:active{transform:translateY(0)}.filter-actions[_ngcontent-%COMP%]   .clear-filters[_ngcontent-%COMP%]:focus{outline:2px solid rgba(127,140,141,.5);outline-offset:2px}.filter-actions[_ngcontent-%COMP%]   .clear-filters[_ngcontent-%COMP%]{white-space:nowrap}.filter-actions[_ngcontent-%COMP%]   .sort-options[_ngcontent-%COMP%]{min-width:180px}.filter-actions[_ngcontent-%COMP%]   .sort-options[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:500;color:#2c3e50;font-size:14px}.quick-stats[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px;padding:16px 20px;background:#ecf0f1;border-top:1px solid #bdc3c7}@media(min-width:768px){.quick-stats[_ngcontent-%COMP%]{justify-content:space-around;gap:20px}}.quick-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;flex:1;min-width:80px}.quick-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#3498db;line-height:1}@media(min-width:768px){.quick-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{font-size:24px}}.quick-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:12px;color:#7f8c8d;margin-top:4px;text-align:center}@media(min-width:768px){.quick-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:14px}}.classes-table-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;transition:box-shadow .3s ease}.classes-table-container[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #00000026}.classes-table-container[_ngcontent-%COMP%]{overflow:hidden}.view-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #bdc3c7;background:#ecf0f1}.view-controls[_ngcontent-%COMP%]   .classes-count[_ngcontent-%COMP%]{margin:0}.view-controls[_ngcontent-%COMP%]   .classes-count[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#7f8c8d;font-size:14px}.view-controls[_ngcontent-%COMP%]   .view-toggle-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.view-controls[_ngcontent-%COMP%]   .view-toggle-buttons[_ngcontent-%COMP%]   .view-toggle-btn[_ngcontent-%COMP%]{min-height:44px;min-width:44px;padding:12px 16px;background:#7f8c8d;color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px}.view-controls[_ngcontent-%COMP%]   .view-toggle-buttons[_ngcontent-%COMP%]   .view-toggle-btn[_ngcontent-%COMP%]:hover, .view-controls[_ngcontent-%COMP%]   .view-toggle-buttons[_ngcontent-%COMP%]   .view-toggle-btn[_ngcontent-%COMP%]:focus{transform:translateY(-2px);box-shadow:0 4px 12px #7f8c8d66}.view-controls[_ngcontent-%COMP%]   .view-toggle-buttons[_ngcontent-%COMP%]   .view-toggle-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.view-controls[_ngcontent-%COMP%]   .view-toggle-buttons[_ngcontent-%COMP%]   .view-toggle-btn[_ngcontent-%COMP%]:focus{outline:2px solid rgba(127,140,141,.5);outline-offset:2px}.view-controls[_ngcontent-%COMP%]   .view-toggle-buttons[_ngcontent-%COMP%]   .view-toggle-btn[_ngcontent-%COMP%]{min-width:44px;padding:10px;font-size:18px}.view-controls[_ngcontent-%COMP%]   .view-toggle-buttons[_ngcontent-%COMP%]   .view-toggle-btn.active[_ngcontent-%COMP%]{background:#3498db;color:#fff}.table-wrapper.hidden[_ngcontent-%COMP%]{display:none}.table-scroll-container[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.table-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.table-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ecf0f1}.table-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#bdc3c7;border-radius:4px}.table-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#7f8c8d}.classes-table[_ngcontent-%COMP%]{width:100%;min-width:1000px;border-collapse:collapse}.classes-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#ecf0f1}.classes-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:16px 12px;text-align:left;font-weight:600;color:#2c3e50;border-bottom:2px solid #bdc3c7;white-space:nowrap}.classes-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;transition:background-color .3s ease}.classes-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]:hover{background:#e0e0e0}.classes-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]   .sort-indicator[_ngcontent-%COMP%]{margin-left:8px;font-size:12px;opacity:.6}.classes-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]   .sort-indicator.active[_ngcontent-%COMP%]{opacity:1;color:#3498db}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .3s ease}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]:hover{background:#e3f2fd}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row.highlighted[_ngcontent-%COMP%]{background:#bbdefb}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px 12px;border-bottom:1px solid #bdc3c7;vertical-align:middle}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.class-code[_ngcontent-%COMP%]{font-weight:600;color:#3498db}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.class-name[_ngcontent-%COMP%]   .name-wrapper[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:#2c3e50;font-size:16px}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.class-name[_ngcontent-%COMP%]   .name-wrapper[_ngcontent-%COMP%]   .class-semester[_ngcontent-%COMP%]{color:#7f8c8d;font-size:12px;margin-top:2px}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.department-cell[_ngcontent-%COMP%]   .department-badge[_ngcontent-%COMP%]{background:#2ecc71;color:#fff;padding:4px 12px;border-radius:16px;font-size:12px;font-weight:500}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.teacher-cell[_ngcontent-%COMP%]{font-weight:500;color:#2c3e50}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.credits-cell[_ngcontent-%COMP%]{font-weight:600;color:#9b59b6}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.capacity-cell[_ngcontent-%COMP%]   .capacity-info[_ngcontent-%COMP%]   .capacity-numbers[_ngcontent-%COMP%]{display:block;font-size:12px;color:#2c3e50;font-weight:500;margin-bottom:4px}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.capacity-cell[_ngcontent-%COMP%]   .capacity-info[_ngcontent-%COMP%]   .capacity-bar[_ngcontent-%COMP%]{width:80px;height:6px;background:#e9ecef;border-radius:3px;overflow:hidden;margin-bottom:4px}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.capacity-cell[_ngcontent-%COMP%]   .capacity-info[_ngcontent-%COMP%]   .capacity-bar[_ngcontent-%COMP%]   .capacity-fill[_ngcontent-%COMP%]{height:100%;border-radius:3px;transition:width .3s ease}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.capacity-cell[_ngcontent-%COMP%]   .capacity-info[_ngcontent-%COMP%]   .capacity-bar[_ngcontent-%COMP%]   .capacity-fill.capacity-low[_ngcontent-%COMP%]{background:#2ecc71}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.capacity-cell[_ngcontent-%COMP%]   .capacity-info[_ngcontent-%COMP%]   .capacity-bar[_ngcontent-%COMP%]   .capacity-fill.capacity-medium[_ngcontent-%COMP%]{background:#f39c12}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.capacity-cell[_ngcontent-%COMP%]   .capacity-info[_ngcontent-%COMP%]   .capacity-bar[_ngcontent-%COMP%]   .capacity-fill.capacity-high[_ngcontent-%COMP%]{background:#e67e22}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.capacity-cell[_ngcontent-%COMP%]   .capacity-info[_ngcontent-%COMP%]   .capacity-bar[_ngcontent-%COMP%]   .capacity-fill.capacity-full[_ngcontent-%COMP%]{background:#e74c3c}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.capacity-cell[_ngcontent-%COMP%]   .capacity-info[_ngcontent-%COMP%]   .capacity-percentage[_ngcontent-%COMP%]{font-size:11px;color:#7f8c8d}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.schedule-cell[_ngcontent-%COMP%]   .schedule-summary[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:4px}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.schedule-cell[_ngcontent-%COMP%]   .schedule-summary[_ngcontent-%COMP%]   .schedule-item[_ngcontent-%COMP%]{background:#f7fbfe;color:#217dbb;padding:2px 6px;border-radius:8px;font-size:10px;font-weight:500;white-space:nowrap}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.status-cell[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:6px 12px;border-radius:16px;font-size:12px;font-weight:500;display:inline-flex;align-items:center;gap:6px}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.status-cell[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{font-size:14px}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.status-cell[_ngcontent-%COMP%]   .status-badge.status-active[_ngcontent-%COMP%]{background:#d1f5e0;color:#25a25a}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.status-cell[_ngcontent-%COMP%]   .status-badge.status-cancelled[_ngcontent-%COMP%]{background:#fbdedb;color:#d62c1a}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.status-cell[_ngcontent-%COMP%]   .status-badge.status-completed[_ngcontent-%COMP%]{background:#e6d5ed;color:#804399}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.status-cell[_ngcontent-%COMP%]   .status-badge.status-draft[_ngcontent-%COMP%]{background:#d0d5d5;color:#667273}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{min-height:44px;min-width:44px;padding:12px 16px;background:#7f8c8d;color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]:hover, .classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]:focus{transform:translateY(-2px);box-shadow:0 4px 12px #7f8c8d66}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]:active{transform:translateY(0)}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]:focus{outline:2px solid rgba(127,140,141,.5);outline-offset:2px}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{min-width:36px;min-height:36px;padding:8px;font-size:14px}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action.btn-view[_ngcontent-%COMP%]{background:#9b59b6}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action.btn-edit[_ngcontent-%COMP%]{background:#f39c12}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action.btn-enrollment[_ngcontent-%COMP%]{background:#2ecc71}.classes-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .class-row[_ngcontent-%COMP%]   td.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-action.btn-more[_ngcontent-%COMP%]{background:#3498db}.scroll-indicator[_ngcontent-%COMP%]{text-align:center;padding:12px;background:#ecf0f1;color:#7f8c8d;font-size:12px}@media(min-width:768px){.scroll-indicator[_ngcontent-%COMP%]{display:none}}.mobile-cards[_ngcontent-%COMP%]{display:none;padding:16px 20px}.mobile-cards.visible[_ngcontent-%COMP%]{display:block}@media(min-width:768px){.mobile-cards[_ngcontent-%COMP%]{padding:20px}}.class-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;margin-bottom:16px;box-shadow:0 2px 8px #0000001a;transition:box-shadow .3s ease}.class-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #00000026}.class-card[_ngcontent-%COMP%]{overflow:hidden;cursor:pointer;transition:all .3s ease;position:relative}.class-card[_ngcontent-%COMP%]:last-child{margin-bottom:0}.class-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.class-card[_ngcontent-%COMP%]:active{transform:scale(.98)}.class-card.selected[_ngcontent-%COMP%]{border:2px solid #3498db;box-shadow:0 4px 16px #3498db4d}.class-card-header[_ngcontent-%COMP%]{padding:16px 20px 0;display:flex;justify-content:space-between;align-items:flex-start;gap:12px}.class-card-header[_ngcontent-%COMP%]   .class-info[_ngcontent-%COMP%]{flex:1}.class-card-header[_ngcontent-%COMP%]   .class-info[_ngcontent-%COMP%]   .class-card-name[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#2c3e50;line-height:1.3}.class-card-header[_ngcontent-%COMP%]   .class-info[_ngcontent-%COMP%]   .class-card-code[_ngcontent-%COMP%]{font-size:12px;color:#3498db;font-weight:600;background:#3498db1a;padding:2px 8px;border-radius:4px;margin-top:4px;display:inline-block}.class-card-header[_ngcontent-%COMP%]   .class-card-status[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:6px 12px;border-radius:16px;font-size:12px;font-weight:500;display:inline-flex;align-items:center;gap:6px}.class-card-header[_ngcontent-%COMP%]   .class-card-status[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{font-size:14px}.class-card-header[_ngcontent-%COMP%]   .class-card-status[_ngcontent-%COMP%]   .status-badge.status-active[_ngcontent-%COMP%]{background:#d1f5e0;color:#25a25a}.class-card-header[_ngcontent-%COMP%]   .class-card-status[_ngcontent-%COMP%]   .status-badge.status-cancelled[_ngcontent-%COMP%]{background:#fbdedb;color:#d62c1a}.class-card-header[_ngcontent-%COMP%]   .class-card-status[_ngcontent-%COMP%]   .status-badge.status-completed[_ngcontent-%COMP%]{background:#e6d5ed;color:#804399}.class-card-header[_ngcontent-%COMP%]   .class-card-status[_ngcontent-%COMP%]   .status-badge.status-draft[_ngcontent-%COMP%]{background:#d0d5d5;color:#667273}.class-card-body[_ngcontent-%COMP%]{padding:16px 20px}.class-card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;margin-bottom:12px;gap:16px}.class-card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.class-card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .class-card-field[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:4px}.class-card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .class-card-field.full-width[_ngcontent-%COMP%]{width:100%}.class-card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .class-card-field[_ngcontent-%COMP%]   .class-card-label[_ngcontent-%COMP%]{font-size:12px;color:#7f8c8d;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.class-card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .class-card-field[_ngcontent-%COMP%]   .class-card-value[_ngcontent-%COMP%]{font-size:14px;color:#2c3e50;font-weight:500}.class-card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .class-card-field[_ngcontent-%COMP%]   .class-card-value[_ngcontent-%COMP%]   .department-badge[_ngcontent-%COMP%]{background:#2ecc71;color:#fff;padding:4px 12px;border-radius:16px;font-size:12px;font-weight:500;display:inline-block}.class-card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .class-card-field[_ngcontent-%COMP%]   .class-card-value[_ngcontent-%COMP%]   .capacity-info-mobile[_ngcontent-%COMP%]   .capacity-numbers[_ngcontent-%COMP%]{display:block;font-size:14px;color:#2c3e50;margin-bottom:6px}.class-card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .class-card-field[_ngcontent-%COMP%]   .class-card-value[_ngcontent-%COMP%]   .capacity-info-mobile[_ngcontent-%COMP%]   .capacity-bar-mobile[_ngcontent-%COMP%]{width:100%;height:8px;background:#e9ecef;border-radius:4px;overflow:hidden;margin-bottom:4px}.class-card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .class-card-field[_ngcontent-%COMP%]   .class-card-value[_ngcontent-%COMP%]   .capacity-info-mobile[_ngcontent-%COMP%]   .capacity-bar-mobile[_ngcontent-%COMP%]   .capacity-fill-mobile[_ngcontent-%COMP%]{height:100%;border-radius:4px;transition:width .3s ease}.class-card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .class-card-field[_ngcontent-%COMP%]   .class-card-value[_ngcontent-%COMP%]   .capacity-info-mobile[_ngcontent-%COMP%]   .capacity-bar-mobile[_ngcontent-%COMP%]   .capacity-fill-mobile.capacity-low[_ngcontent-%COMP%]{background:#2ecc71}.class-card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .class-card-field[_ngcontent-%COMP%]   .class-card-value[_ngcontent-%COMP%]   .capacity-info-mobile[_ngcontent-%COMP%]   .capacity-bar-mobile[_ngcontent-%COMP%]   .capacity-fill-mobile.capacity-medium[_ngcontent-%COMP%]{background:#f39c12}.class-card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .class-card-field[_ngcontent-%COMP%]   .class-card-value[_ngcontent-%COMP%]   .capacity-info-mobile[_ngcontent-%COMP%]   .capacity-bar-mobile[_ngcontent-%COMP%]   .capacity-fill-mobile.capacity-high[_ngcontent-%COMP%]{background:#e67e22}.class-card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .class-card-field[_ngcontent-%COMP%]   .class-card-value[_ngcontent-%COMP%]   .capacity-info-mobile[_ngcontent-%COMP%]   .capacity-bar-mobile[_ngcontent-%COMP%]   .capacity-fill-mobile.capacity-full[_ngcontent-%COMP%]{background:#e74c3c}.class-card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .class-card-field[_ngcontent-%COMP%]   .class-card-value[_ngcontent-%COMP%]   .capacity-info-mobile[_ngcontent-%COMP%]   .enrollment-status[_ngcontent-%COMP%]{font-size:12px;color:#7f8c8d}.class-card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .class-card-field[_ngcontent-%COMP%]   .class-card-value[_ngcontent-%COMP%]   .schedule-mobile[_ngcontent-%COMP%]   .schedule-item-mobile[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#f7fbfe;padding:6px 12px;border-radius:6px;margin-bottom:4px}.class-card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .class-card-field[_ngcontent-%COMP%]   .class-card-value[_ngcontent-%COMP%]   .schedule-mobile[_ngcontent-%COMP%]   .schedule-item-mobile[_ngcontent-%COMP%]:last-child{margin-bottom:0}.class-card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .class-card-field[_ngcontent-%COMP%]   .class-card-value[_ngcontent-%COMP%]   .schedule-mobile[_ngcontent-%COMP%]   .schedule-item-mobile[_ngcontent-%COMP%]   .schedule-day[_ngcontent-%COMP%]{font-weight:600;color:#217dbb;font-size:12px}.class-card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .class-card-field[_ngcontent-%COMP%]   .class-card-value[_ngcontent-%COMP%]   .schedule-mobile[_ngcontent-%COMP%]   .schedule-item-mobile[_ngcontent-%COMP%]   .schedule-time[_ngcontent-%COMP%]{font-size:11px;color:#258cd1}.class-card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .class-card-field[_ngcontent-%COMP%]   .class-card-value[_ngcontent-%COMP%]   .schedule-mobile[_ngcontent-%COMP%]   .schedule-item-mobile[_ngcontent-%COMP%]   .schedule-room[_ngcontent-%COMP%]{font-size:10px;color:#3498db;font-weight:600}.class-card-actions[_ngcontent-%COMP%]{padding:16px 20px 20px;display:flex;gap:8px;flex-wrap:wrap}.class-card-actions[_ngcontent-%COMP%]   .card-action-btn[_ngcontent-%COMP%]{min-height:44px;min-width:44px;padding:12px 16px;background:#7f8c8d;color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px}.class-card-actions[_ngcontent-%COMP%]   .card-action-btn[_ngcontent-%COMP%]:hover, .class-card-actions[_ngcontent-%COMP%]   .card-action-btn[_ngcontent-%COMP%]:focus{transform:translateY(-2px);box-shadow:0 4px 12px #7f8c8d66}.class-card-actions[_ngcontent-%COMP%]   .card-action-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.class-card-actions[_ngcontent-%COMP%]   .card-action-btn[_ngcontent-%COMP%]:focus{outline:2px solid rgba(127,140,141,.5);outline-offset:2px}.class-card-actions[_ngcontent-%COMP%]   .card-action-btn[_ngcontent-%COMP%]{flex:1;min-width:calc(50% - 4px);font-size:12px;padding:10px 8px}.class-card-actions[_ngcontent-%COMP%]   .card-action-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{font-size:14px}.class-card-actions[_ngcontent-%COMP%]   .card-action-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:11px;font-weight:500}.class-card-actions[_ngcontent-%COMP%]   .card-action-btn.primary[_ngcontent-%COMP%]{background:#3498db}.class-card-actions[_ngcontent-%COMP%]   .card-action-btn.secondary[_ngcontent-%COMP%]{background:#2ecc71}.class-card-actions[_ngcontent-%COMP%]   .card-action-btn.tertiary[_ngcontent-%COMP%]{background:#9b59b6}.class-card-actions[_ngcontent-%COMP%]   .card-action-btn.quaternary[_ngcontent-%COMP%]{background:#f39c12}.load-more-section[_ngcontent-%COMP%]{text-align:center;padding:20px}.load-more-section[_ngcontent-%COMP%]   .load-more-btn[_ngcontent-%COMP%]{min-height:44px;min-width:44px;padding:12px 16px;background:#3498db;color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px}.load-more-section[_ngcontent-%COMP%]   .load-more-btn[_ngcontent-%COMP%]:hover, .load-more-section[_ngcontent-%COMP%]   .load-more-btn[_ngcontent-%COMP%]:focus{transform:translateY(-2px);box-shadow:0 4px 12px #3498db66}.load-more-section[_ngcontent-%COMP%]   .load-more-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.load-more-section[_ngcontent-%COMP%]   .load-more-btn[_ngcontent-%COMP%]:focus{outline:2px solid rgba(52,152,219,.5);outline-offset:2px}.load-more-section[_ngcontent-%COMP%]   .load-more-btn[_ngcontent-%COMP%]{background:transparent;color:#3498db;border:2px solid #3498db}.load-more-section[_ngcontent-%COMP%]   .load-more-btn[_ngcontent-%COMP%]:hover, .load-more-section[_ngcontent-%COMP%]   .load-more-btn[_ngcontent-%COMP%]:focus{background:#3498db;color:#fff}.no-classes[_ngcontent-%COMP%]{padding:60px 20px;text-align:center}.no-classes[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;color:#7f8c8d;margin-bottom:12px}.no-classes[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7f8c8d;margin-bottom:24px;font-size:16px}.no-classes[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:center;flex-wrap:wrap}.no-classes[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-height:44px;min-width:44px;padding:12px 16px;background:#3498db;color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px}.no-classes[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover, .no-classes[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{transform:translateY(-2px);box-shadow:0 4px 12px #3498db66}.no-classes[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.no-classes[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{outline:2px solid rgba(52,152,219,.5);outline-offset:2px}.no-classes[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background:#7f8c8d}.btn[_ngcontent-%COMP%]{min-height:44px;min-width:44px;padding:12px 16px;background:#3498db;color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{transform:translateY(-2px);box-shadow:0 4px 12px #3498db66}.btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn[_ngcontent-%COMP%]:focus{outline:2px solid rgba(52,152,219,.5);outline-offset:2px}.btn.btn-secondary[_ngcontent-%COMP%]{background:#7f8c8d}.btn.btn-outline[_ngcontent-%COMP%]{background:transparent;color:#3498db;border:2px solid #3498db}.btn.btn-outline[_ngcontent-%COMP%]:hover, .btn.btn-outline[_ngcontent-%COMP%]:focus{background:#3498db;color:#fff}.form-input[_ngcontent-%COMP%]{width:100%;min-height:44px;padding:12px 16px;border:2px solid #bdc3c7;border-radius:8px;font-size:16px;transition:border-color .3s ease}.form-input[_ngcontent-%COMP%]:focus{border-color:#3498db;outline:none;box-shadow:0 0 0 3px #3498db1a}*[_ngcontent-%COMP%]:focus{outline:2px solid #3498db;outline-offset:2px}@media(prefers-contrast:high){.class-card[_ngcontent-%COMP%], .classes-table[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]{border:2px solid #2c3e50}.status-badge[_ngcontent-%COMP%]{border:1px solid #2c3e50!important}}@media(prefers-reduced-motion:reduce){*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}@media(prefers-color-scheme:dark){.classes-container[_ngcontent-%COMP%]{background:#233140;color:#fff}.class-card[_ngcontent-%COMP%], .classes-table[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]{background:#2c3e50;color:#fff}.class-card-body[_ngcontent-%COMP%]   .class-card-value[_ngcontent-%COMP%]{color:#fff}}"]})};import{CommonModule as Xs}from"@angular/common";import{FormsModule as tc}from"@angular/forms";import{MatTableDataSource as ec}from"@angular/material/table";import{MatPaginator as nc}from"@angular/material/paginator";import{MatSort as ic}from"@angular/material/sort";import*as d from"@angular/core";import*as B from"@angular/core";import{InjectionToken as Wa,inject as ft,NgZone as Ps,ElementRef as Os,ChangeDetectorRef as Ss,DOCUMENT as Es,Injector as qn,afterNextRender as Va,TemplateRef as ks}from"@angular/core";import{Subject as ae,of as Ts}from"rxjs";import*as ht from"@angular/core";import{InjectionToken as us,inject as Gt,ElementRef as gs,NgZone as fs,Renderer2 as _s,booleanAttribute as Gn,numberAttribute as bs}from"@angular/core";import{FocusMonitor as hs}from"@angular/cdk/a11y";import{_CdkPrivateStyleLoader as Cs}from"@angular/cdk/private";import*as Ia from"@angular/core";import{inject as ie,DOCUMENT as os,NgZone as rs,Injector as ls,RendererFactory2 as ss}from"@angular/core";import{Platform as cs,_getEventTarget as ds}from"@angular/cdk/platform";import{MediaMatcher as Gl}from"@angular/cdk/layout";import{InjectionToken as ql,inject as Xi,ANIMATION_MODULE_TYPE as Ql}from"@angular/core";var Yl=new ql("MATERIAL_ANIMATIONS"),ya=null;function Zl(){return Xi(Yl,{optional:!0})?.animationsDisabled||Xi(Ql,{optional:!0})==="NoopAnimations"?"di-disabled":(ya??=Xi(Gl).matchMedia("(prefers-reduced-motion)").matches,ya?"reduced-motion":"enabled")}function $t(){return Zl()!=="enabled"}import{normalizePassiveListenerOptions as ka,_getEventTarget as Jl,Platform as k_}from"@angular/cdk/platform";import*as Un from"@angular/core";import{InjectionToken as Kl,inject as A_,ElementRef as R_,NgZone as N_,Injector as z_}from"@angular/core";import{isFakeMousedownFromScreenReader as Xl,isFakeTouchstartFromScreenReader as ts}from"@angular/cdk/a11y";import{coerceElement as wa}from"@angular/cdk/coercion";import{_CdkPrivateStyleLoader as es}from"@angular/cdk/private";var xt=(function(i){return i[i.FADING_IN=0]="FADING_IN",i[i.VISIBLE=1]="VISIBLE",i[i.FADING_OUT=2]="FADING_OUT",i[i.HIDDEN=3]="HIDDEN",i})(xt||{}),ta=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=xt.HIDDEN;constructor(e,t,n,a=!1){this._renderer=e,this.element=t,this.config=n,this._animationForciblyDisabledThroughCss=a}fadeOut(){this._renderer.fadeOutRipple(this)}},Pa=ka({passive:!0,capture:!0}),ea=class{_events=new Map;addHandler(e,t,n,a){let o=this._events.get(t);if(o){let v=o.get(n);v?v.add(a):o.set(n,new Set([a]))}else this._events.set(t,new Map([[n,new Set([a])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,Pa)})}removeHandler(e,t,n){let a=this._events.get(e);if(!a)return;let o=a.get(t);o&&(o.delete(n),o.size===0&&a.delete(t),a.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Pa)))}_delegateEventHandler=e=>{let t=Jl(e);t&&this._events.get(e.type)?.forEach((n,a)=>{(a===t||a.contains(t))&&n.forEach(o=>o.handleEvent(e))})}},en={enterDuration:225,exitDuration:150},ns=800,Oa=ka({passive:!0,capture:!0}),Sa=["mousedown","touchstart"],Ea=["mouseup","mouseleave","touchend","touchcancel"],is=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=Un.\u0275\u0275defineComponent({type:i,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(n,a){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return i})(),Wn=class i{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new ea;constructor(e,t,n,a,o){this._target=e,this._ngZone=t,this._platform=a,a.isBrowser&&(this._containerElement=wa(n)),o&&o.get(es).load(is)}fadeInRipple(e,t,n={}){let a=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=U(U({},en),n.animation);n.centered&&(e=a.left+a.width/2,t=a.top+a.height/2);let v=n.radius||as(e,t,a),I=e-a.left,j=t-a.top,_t=o.enterDuration,dt=document.createElement("div");dt.classList.add("mat-ripple-element"),dt.style.left=`${I-v}px`,dt.style.top=`${j-v}px`,dt.style.height=`${v*2}px`,dt.style.width=`${v*2}px`,n.color!=null&&(dt.style.backgroundColor=n.color),dt.style.transitionDuration=`${_t}ms`,this._containerElement.appendChild(dt);let qt=window.getComputedStyle(dt),yr=qt.transitionProperty,ra=qt.transitionDuration,Zi=yr==="none"||ra==="0s"||ra==="0s, 0s"||a.width===0&&a.height===0,Ut=new ta(this,dt,n,Zi);dt.style.transform="scale3d(1, 1, 1)",Ut.state=xt.FADING_IN,n.persistent||(this._mostRecentTransientRipple=Ut);let Dn=null;return!Zi&&(_t||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let la=()=>{Dn&&(Dn.fallbackTimer=null),clearTimeout(sa),this._finishRippleTransition(Ut)},Ji=()=>this._destroyRipple(Ut),sa=setTimeout(Ji,_t+100);dt.addEventListener("transitionend",la),dt.addEventListener("transitioncancel",Ji),Dn={onTransitionEnd:la,onTransitionCancel:Ji,fallbackTimer:sa}}),this._activeRipples.set(Ut,Dn),(Zi||!_t)&&this._finishRippleTransition(Ut),Ut}fadeOutRipple(e){if(e.state===xt.FADING_OUT||e.state===xt.HIDDEN)return;let t=e.element,n=U(U({},en),e.config.animation);t.style.transitionDuration=`${n.exitDuration}ms`,t.style.opacity="0",e.state=xt.FADING_OUT,(e._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=wa(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Sa.forEach(n=>{i._eventManager.addHandler(this._ngZone,n,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Ea.forEach(t=>{this._triggerElement.addEventListener(t,this,Oa)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===xt.FADING_IN?this._startFadeOutTransition(e):e.state===xt.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:n}=e.config;e.state=xt.VISIBLE,!n&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=xt.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=Xl(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+ns;!this._target.rippleDisabled&&!t&&!n&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!ts(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let n=0;n<t.length;n++)this.fadeInRipple(t[n].clientX,t[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===xt.VISIBLE||e.config.terminateOnPointerUp&&e.state===xt.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(Sa.forEach(t=>i._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(Ea.forEach(t=>e.removeEventListener(t,this,Oa)),this._pointerUpEventsRegistered=!1))}};function as(i,e,t){let n=Math.max(Math.abs(i-t.left),Math.abs(i-t.right)),a=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(n*n+a*a)}var Ta=new Kl("mat-ripple-global-options");var ms={capture:!0},ps=["focus","mousedown","mouseenter","touchstart"],na="mat-ripple-loader-uninitialized",ia="mat-ripple-loader-class-name",Da="mat-ripple-loader-centered",$n="mat-ripple-loader-disabled",Fa=(()=>{class i{_document=ie(os);_animationsDisabled=$t();_globalRippleOptions=ie(Ta,{optional:!0});_platform=ie(cs);_ngZone=ie(rs);_injector=ie(ls);_eventCleanups;_hosts=new Map;constructor(){let t=ie(ss).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>ps.map(n=>t.listen(this._document,n,this._onInteraction,ms)))}ngOnDestroy(){let t=this._hosts.keys();for(let n of t)this.destroyRipple(n);this._eventCleanups.forEach(n=>n())}configureRipple(t,n){t.setAttribute(na,this._globalRippleOptions?.namespace??""),(n.className||!t.hasAttribute(ia))&&t.setAttribute(ia,n.className||""),n.centered&&t.setAttribute(Da,""),n.disabled&&t.setAttribute($n,"")}setDisabled(t,n){let a=this._hosts.get(t);a?(a.target.rippleDisabled=n,!n&&!a.hasSetUpEvents&&(a.hasSetUpEvents=!0,a.renderer.setupTriggerEvents(t))):n?t.setAttribute($n,""):t.removeAttribute($n)}_onInteraction=t=>{let n=ds(t);if(n instanceof HTMLElement){let a=n.closest(`[${na}="${this._globalRippleOptions?.namespace??""}"]`);a&&this._createRipple(a)}};_createRipple(t){if(!this._document||this._hosts.has(t))return;t.querySelector(".mat-ripple")?.remove();let n=this._document.createElement("span");n.classList.add("mat-ripple",t.getAttribute(ia)),t.append(n);let a=this._globalRippleOptions,o=this._animationsDisabled?0:a?.animation?.enterDuration??en.enterDuration,v=this._animationsDisabled?0:a?.animation?.exitDuration??en.exitDuration,I={rippleDisabled:this._animationsDisabled||a?.disabled||t.hasAttribute($n),rippleConfig:{centered:t.hasAttribute(Da),terminateOnPointerUp:a?.terminateOnPointerUp,animation:{enterDuration:o,exitDuration:v}}},j=new Wn(I,this._ngZone,n,this._platform,this._injector),_t=!I.rippleDisabled;_t&&j.setupTriggerEvents(t),this._hosts.set(t,{target:I,renderer:j,hasSetUpEvents:_t}),t.removeAttribute(na)}destroyRipple(t){let n=this._hosts.get(t);n&&(n.renderer._removeTriggerEvents(),this._hosts.delete(t))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Ia.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();import*as Aa from"@angular/core";import"@angular/core";var Ra=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=Aa.\u0275\u0275defineComponent({type:i,selectors:[["structural-styles"]],decls:0,vars:0,template:function(n,a){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return i})();var xs=new us("MAT_BUTTON_CONFIG");function Na(i){return i==null?void 0:bs(i)}var za=(()=>{class i{_elementRef=Gt(gs);_ngZone=Gt(fs);_animationsDisabled=$t();_config=Gt(xs,{optional:!0});_focusMonitor=Gt(hs);_cleanupClick;_renderer=Gt(_s);_rippleLoader=Gt(Fa);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(t){this.tabIndex=t}constructor(){Gt(Cs).load(Ra);let t=this._elementRef.nativeElement;this._isAnchor=t.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(t,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",n){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",t=>{this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=ht.\u0275\u0275defineDirective({type:i,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(n,a){n&2&&(ht.\u0275\u0275attribute("disabled",a._getDisabledAttribute())("aria-disabled",a._getAriaDisabled())("tabindex",a._getTabIndex()),ht.\u0275\u0275classMap(a.color?"mat-"+a.color:""),ht.\u0275\u0275classProp("mat-mdc-button-disabled",a.disabled)("mat-mdc-button-disabled-interactive",a.disabledInteractive)("mat-unthemed",!a.color)("_mat-animation-noopable",a._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Gn],disabled:[2,"disabled","disabled",Gn],ariaDisabled:[2,"aria-disabled","ariaDisabled",Gn],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Gn],tabIndex:[2,"tabIndex","tabIndex",Na],_tabindex:[2,"tabindex","_tabindex",Na]}})}return i})();import*as mt from"@angular/core";import{InjectionToken as Mb,inject as vb,booleanAttribute as yb}from"@angular/core";import{BidiModule as Ob}from"@angular/cdk/bidi";import"@angular/cdk/a11y";import"@angular/cdk/private";import"@angular/cdk/platform";import"@angular/cdk/layout";import"@angular/cdk/coercion";var Ms=["matButton",""],vs=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],ys=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var Ba=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]),La=(()=>{class i extends za{get appearance(){return this._appearance}set appearance(t){this.setAppearance(t||this._config?.defaultAppearance||"text")}_appearance=null;constructor(){super();let t=ws(this._elementRef.nativeElement);t&&this.setAppearance(t)}setAppearance(t){if(t===this._appearance)return;let n=this._elementRef.nativeElement.classList,a=this._appearance?Ba.get(this._appearance):null,o=Ba.get(t);a&&n.remove(...a),n.add(...o),this._appearance=t}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=mt.\u0275\u0275defineComponent({type:i,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[mt.\u0275\u0275InheritDefinitionFeature],attrs:Ms,ngContentSelectors:ys,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,a){n&1&&(mt.\u0275\u0275projectionDef(vs),mt.\u0275\u0275domElement(0,"span",0),mt.\u0275\u0275projection(1),mt.\u0275\u0275domElementStart(2,"span",1),mt.\u0275\u0275projection(3,1),mt.\u0275\u0275domElementEnd(),mt.\u0275\u0275projection(4,2),mt.\u0275\u0275domElement(5,"span",2)(6,"span",3)),n&2&&mt.\u0275\u0275classProp("mdc-button__ripple",!a._isFab)("mdc-fab__ripple",a._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mat-mdc-button-base .mat-icon{min-height:fit-content;flex-shrink:0}@media(hover: none){.mat-mdc-button-base:hover>span.mat-mdc-button-persistent-ripple::before{opacity:0}}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-text-touch-target-size, 48px);display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-filled-touch-target-size, 48px);display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-protected-touch-target-size, 48px);display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}@media(hover: hover){.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-outlined-touch-target-size, 48px);display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-tonal-touch-target-size, 48px);display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before,.mat-tonal-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return i})();function ws(i){return i.hasAttribute("mat-raised-button")?"elevated":i.hasAttribute("mat-stroked-button")?"outlined":i.hasAttribute("mat-flat-button")?"filled":i.hasAttribute("mat-button")?"text":null}import{_IdGenerator as Ds,LiveAnnouncer as Is}from"@angular/cdk/a11y";import{Platform as Fs}from"@angular/cdk/platform";import{BasePortalOutlet as As,CdkPortalOutlet as Ha,ComponentPortal as ja,TemplatePortal as Rs,PortalModule as qb}from"@angular/cdk/portal";import{BreakpointObserver as Ns,Breakpoints as zs}from"@angular/cdk/layout";import{OverlayConfig as Bs,createGlobalPositionStrategy as Ls,createOverlayRef as Vs,OverlayModule as Jb}from"@angular/cdk/overlay";import{takeUntil as Hs}from"rxjs/operators";import{BidiModule as th}from"@angular/cdk/bidi";import"@angular/cdk/private";import"@angular/cdk/coercion";function js(i,e){if(i&1){let t=B.\u0275\u0275getCurrentView();B.\u0275\u0275elementStart(0,"div",1)(1,"button",2),B.\u0275\u0275listener("click",function(){B.\u0275\u0275restoreView(t);let a=B.\u0275\u0275nextContext();return B.\u0275\u0275resetView(a.action())}),B.\u0275\u0275text(2),B.\u0275\u0275elementEnd()()}if(i&2){let t=B.\u0275\u0275nextContext();B.\u0275\u0275advance(2),B.\u0275\u0275textInterpolate1(" ",t.data.action," ")}}var Ws=["label"];function Us(i,e){}var $s=Math.pow(2,31)-1,nn=class{_overlayRef;instance;containerInstance;_afterDismissed=new ae;_afterOpened=new ae;_onAction=new ae;_durationTimeoutId;_dismissedByAction=!1;constructor(e,t){this._overlayRef=t,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,$s))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},Ua=new Wa("MatSnackBarData"),oe=class{politeness="polite";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},Gs=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=B.\u0275\u0275defineDirective({type:i,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return i})(),qs=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=B.\u0275\u0275defineDirective({type:i,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return i})(),Qs=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=B.\u0275\u0275defineDirective({type:i,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return i})(),Ys=(()=>{class i{snackBarRef=ft(nn);data=ft(Ua);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=B.\u0275\u0275defineComponent({type:i,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["matButton","","matSnackBarAction","",3,"click"]],template:function(n,a){n&1&&(B.\u0275\u0275elementStart(0,"div",0),B.\u0275\u0275text(1),B.\u0275\u0275elementEnd(),B.\u0275\u0275conditionalCreate(2,js,3,1,"div",1)),n&2&&(B.\u0275\u0275advance(),B.\u0275\u0275textInterpolate1(" ",a.data.message,`
`),B.\u0275\u0275advance(),B.\u0275\u0275conditional(a.hasAction?2:-1))},dependencies:[La,Gs,qs,Qs],styles:[`.mat-mdc-simple-snack-bar{display:flex}.mat-mdc-simple-snack-bar .mat-mdc-snack-bar-label{max-height:50vh;overflow:auto}
`],encapsulation:2,changeDetection:0})}return i})(),aa="_mat-snack-bar-enter",oa="_mat-snack-bar-exit",Zs=(()=>{class i extends As{_ngZone=ft(Ps);_elementRef=ft(Os);_changeDetectorRef=ft(Ss);_platform=ft(Fs);_animationsDisabled=$t();snackBarConfig=ft(oe);_document=ft(Es);_trackedModals=new Set;_enterFallback;_exitFallback;_injector=ft(qn);_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new ae;_onExit=new ae;_onEnter=new ae;_animationState="void";_live;_label;_role;_liveElementId=ft(Ds).getId("mat-snack-bar-container-live-");constructor(){super();let t=this.snackBarConfig;t.politeness==="assertive"&&!t.announcementMessage?this._live="assertive":t.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();let n=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),n}attachTemplatePortal(t){this._assertNotAttached();let n=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),n}attachDomPortal=t=>{this._assertNotAttached();let n=this._portalOutlet.attachDomPortal(t);return this._afterPortalAttached(),n};onAnimationEnd(t){t===oa?this._completeExit():t===aa&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?Va(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(aa)))},{injector:this._injector}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(aa)},200)))}exit(){return this._destroyed?Ts(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?Va(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(oa)))},{injector:this._injector}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(oa),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let t=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(v=>t.classList.add(v)):t.classList.add(n)),this._exposeToModals();let a=this._label.nativeElement,o="mdc-snackbar__label";a.classList.toggle(o,!a.querySelector(`.${o}`))}_exposeToModals(){let t=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let a=0;a<n.length;a++){let o=n[a],v=o.getAttribute("aria-owns");this._trackedModals.add(o),v?v.indexOf(t)===-1&&o.setAttribute("aria-owns",v+" "+t):o.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{let n=t.getAttribute("aria-owns");if(n){let a=n.replace(this._liveElementId,"").trim();a.length>0?t.setAttribute("aria-owns",a):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let t=this._elementRef.nativeElement,n=t.querySelector("[aria-hidden]"),a=t.querySelector("[aria-live]");if(n&&a){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&n.contains(document.activeElement)&&(o=document.activeElement),n.removeAttribute("aria-hidden"),a.appendChild(n),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=B.\u0275\u0275defineComponent({type:i,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,a){if(n&1&&(B.\u0275\u0275viewQuery(Ha,7),B.\u0275\u0275viewQuery(Ws,7)),n&2){let o;B.\u0275\u0275queryRefresh(o=B.\u0275\u0275loadQuery())&&(a._portalOutlet=o.first),B.\u0275\u0275queryRefresh(o=B.\u0275\u0275loadQuery())&&(a._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(n,a){n&1&&B.\u0275\u0275listener("animationend",function(v){return a.onAnimationEnd(v.animationName)})("animationcancel",function(v){return a.onAnimationEnd(v.animationName)}),n&2&&B.\u0275\u0275classProp("mat-snack-bar-container-enter",a._animationState==="visible")("mat-snack-bar-container-exit",a._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!a._animationsDisabled)},features:[B.\u0275\u0275InheritDefinitionFeature],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,a){n&1&&(B.\u0275\u0275elementStart(0,"div",1)(1,"div",2,0)(3,"div",3),B.\u0275\u0275template(4,Us,0,0,"ng-template",4),B.\u0275\u0275elementEnd(),B.\u0275\u0275element(5,"div"),B.\u0275\u0275elementEnd()()),n&2&&(B.\u0275\u0275advance(5),B.\u0275\u0275attribute("aria-live",a._live)("role",a._role)("id",a._liveElementId))},dependencies:[Ha],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mat-snack-bar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-snack-bar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-snack-bar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mat-snack-bar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-snack-bar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-snack-bar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mat-snack-bar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-button-text-state-layer-color: currentColor;--mat-button-text-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return i})(),Js=new Wa("mat-snack-bar-default-options",{providedIn:"root",factory:()=>new oe}),$a=(()=>{class i{_live=ft(Is);_injector=ft(qn);_breakpointObserver=ft(Ns);_parentSnackBar=ft(i,{optional:!0,skipSelf:!0});_defaultConfig=ft(Js);_animationsDisabled=$t();_snackBarRefAtThisLevel=null;simpleSnackBarComponent=Ys;snackBarContainerComponent=Zs;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(){}openFromComponent(t,n){return this._attach(t,n)}openFromTemplate(t,n){return this._attach(t,n)}open(t,n="",a){let o=U(U({},this._defaultConfig),a);return o.data={message:t,action:n},o.announcementMessage===t&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,n){let a=n&&n.viewContainerRef&&n.viewContainerRef.injector,o=qn.create({parent:a||this._injector,providers:[{provide:oe,useValue:n}]}),v=new ja(this.snackBarContainerComponent,n.viewContainerRef,o),I=t.attach(v);return I.instance.snackBarConfig=n,I.instance}_attach(t,n){let a=U(U(U({},new oe),this._defaultConfig),n),o=this._createOverlay(a),v=this._attachSnackBarContainer(o,a),I=new nn(v,o);if(t instanceof ks){let j=new Rs(t,null,{$implicit:a.data,snackBarRef:I});I.instance=v.attachTemplatePortal(j)}else{let j=this._createInjector(a,I),_t=new ja(t,void 0,j),dt=v.attachComponentPortal(_t);I.instance=dt.instance}return this._breakpointObserver.observe(zs.HandsetPortrait).pipe(Hs(o.detachments())).subscribe(j=>{o.overlayElement.classList.toggle(this.handsetCssClass,j.matches)}),a.announcementMessage&&v._onAnnounce.subscribe(()=>{this._live.announce(a.announcementMessage,a.politeness)}),this._animateSnackBar(I,a),this._openedSnackBarRef=I,this._openedSnackBarRef}_animateSnackBar(t,n){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),n.duration&&n.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(n.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter()}_createOverlay(t){let n=new Bs;n.direction=t.direction;let a=Ls(this._injector),o=t.direction==="rtl",v=t.horizontalPosition==="left"||t.horizontalPosition==="start"&&!o||t.horizontalPosition==="end"&&o,I=!v&&t.horizontalPosition!=="center";return v?a.left("0"):I?a.right("0"):a.centerHorizontally(),t.verticalPosition==="top"?a.top("0"):a.bottom("0"),n.positionStrategy=a,n.disableAnimations=this._animationsDisabled,Vs(this._injector,n)}_createInjector(t,n){let a=t&&t.viewContainerRef&&t.viewContainerRef.injector;return qn.create({parent:a||this._injector,providers:[{provide:nn,useValue:n},{provide:Ua,useValue:t.data}]})}static \u0275fac=function(n){return new(n||i)};static \u0275prov=B.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();import*as At from"@angular/common";import*as re from"@angular/forms";import*as Qn from"@angular/material/button";import*as Ot from"@angular/material/input";import*as Yn from"@angular/material/select";import*as pt from"@angular/material/table";import*as le from"@angular/material/card";import*as Qa from"@angular/material/toolbar";import*as Zn from"@angular/material/chips";import*as Ya from"@angular/material/paginator";import*as Za from"@angular/material/tooltip";import*as Jn from"@angular/material/button-toggle";var Ga=()=>["name","rollNo","attendance"],qa=()=>[10,25,50];function ac(i,e){if(i&1){let t=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",65),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(t);let a=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(a.clearSearch())}),d.\u0275\u0275namespaceSVG(),d.\u0275\u0275elementStart(1,"svg",8),d.\u0275\u0275element(2,"path",66),d.\u0275\u0275elementEnd()()}}function oc(i,e){if(i&1&&(d.\u0275\u0275elementStart(0,"mat-option",67),d.\u0275\u0275text(1),d.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;d.\u0275\u0275property("value",t),d.\u0275\u0275advance(),d.\u0275\u0275textInterpolate(t)}}function rc(i,e){if(i&1&&(d.\u0275\u0275elementStart(0,"mat-chip-option",67),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"titlecase"),d.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;d.\u0275\u0275property("value",t),d.\u0275\u0275advance(),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(2,2,t))}}function lc(i,e){i&1&&(d.\u0275\u0275elementStart(0,"th",68),d.\u0275\u0275text(1,"Name"),d.\u0275\u0275elementEnd())}function sc(i,e){if(i&1&&(d.\u0275\u0275elementStart(0,"td",69)(1,"div",70),d.\u0275\u0275text(2),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(3,"div",71),d.\u0275\u0275text(4),d.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate2("",t.firstName," ",t.lastName),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate1("ID #",t.id)}}function cc(i,e){i&1&&(d.\u0275\u0275elementStart(0,"th",68),d.\u0275\u0275text(1,"Roll No"),d.\u0275\u0275elementEnd())}function dc(i,e){if(i&1&&(d.\u0275\u0275elementStart(0,"td",69),d.\u0275\u0275text(1),d.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;d.\u0275\u0275advance(),d.\u0275\u0275textInterpolate(t.rollNo||"--")}}function mc(i,e){i&1&&(d.\u0275\u0275elementStart(0,"th",68),d.\u0275\u0275text(1,"Status"),d.\u0275\u0275elementEnd())}function pc(i,e){i&1&&(d.\u0275\u0275namespaceSVG(),d.\u0275\u0275elementStart(0,"svg",76),d.\u0275\u0275element(1,"path",77),d.\u0275\u0275elementEnd())}function uc(i,e){i&1&&(d.\u0275\u0275namespaceSVG(),d.\u0275\u0275elementStart(0,"svg",76),d.\u0275\u0275element(1,"path",78),d.\u0275\u0275elementEnd())}function gc(i,e){if(i&1){let t=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"td",69)(1,"button",72),d.\u0275\u0275listener("click",function(a){let o=d.\u0275\u0275restoreView(t).$implicit,v=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(v.toggleFromButton(a,o))}),d.\u0275\u0275elementStart(2,"span",73),d.\u0275\u0275template(3,pc,2,0,"svg",74)(4,uc,2,0,"svg",74),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(5,"span",75),d.\u0275\u0275text(6),d.\u0275\u0275elementEnd()()()}if(i&2){let t=e.$implicit;d.\u0275\u0275advance(),d.\u0275\u0275property("ngClass",t.present?"present":"absent"),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",t.present),d.\u0275\u0275advance(),d.\u0275\u0275property("ngIf",!t.present),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate(t.present?"Present":"Absent")}}function fc(i,e){i&1&&d.\u0275\u0275element(0,"tr",79)}function _c(i,e){if(i&1){let t=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"tr",80),d.\u0275\u0275listener("click",function(){let a=d.\u0275\u0275restoreView(t).$implicit,o=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(o.markAttendance(a))})("keydown.enter",function(){let a=d.\u0275\u0275restoreView(t).$implicit,o=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(o.markAttendance(a))})("keydown.space",function(a){let o=d.\u0275\u0275restoreView(t).$implicit;return d.\u0275\u0275nextContext().markAttendance(o),d.\u0275\u0275resetView(a.preventDefault())}),d.\u0275\u0275elementEnd()}}function bc(i,e){i&1&&(d.\u0275\u0275namespaceSVG(),d.\u0275\u0275elementStart(0,"svg",76),d.\u0275\u0275element(1,"path",77),d.\u0275\u0275elementEnd())}function hc(i,e){i&1&&(d.\u0275\u0275namespaceSVG(),d.\u0275\u0275elementStart(0,"svg",76),d.\u0275\u0275element(1,"path",78),d.\u0275\u0275elementEnd())}function Cc(i,e){if(i&1){let t=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",81),d.\u0275\u0275listener("click",function(){let a=d.\u0275\u0275restoreView(t).$implicit,o=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(o.markAttendance(a))})("keydown.enter",function(){let a=d.\u0275\u0275restoreView(t).$implicit,o=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(o.markAttendance(a))})("keydown.space",function(a){let o=d.\u0275\u0275restoreView(t).$implicit;return d.\u0275\u0275nextContext().markAttendance(o),d.\u0275\u0275resetView(a.preventDefault())}),d.\u0275\u0275elementStart(1,"div",82)(2,"div",70),d.\u0275\u0275text(3),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(4,"button",83),d.\u0275\u0275listener("click",function(a){let o=d.\u0275\u0275restoreView(t).$implicit,v=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(v.toggleFromButton(a,o))}),d.\u0275\u0275elementStart(5,"span",73),d.\u0275\u0275template(6,bc,2,0,"svg",74)(7,hc,2,0,"svg",74),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(8,"span",75),d.\u0275\u0275text(9),d.\u0275\u0275elementEnd()()(),d.\u0275\u0275elementStart(10,"div",71),d.\u0275\u0275text(11),d.\u0275\u0275elementEnd()()}if(i&2){let t=e.$implicit;d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate2("",t.firstName," ",t.lastName),d.\u0275\u0275advance(),d.\u0275\u0275property("ngClass",t.present?"present":"absent"),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",t.present),d.\u0275\u0275advance(),d.\u0275\u0275property("ngIf",!t.present),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate(t.present?"Present":"Absent"),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate2("ID #",t.id," \xB7 Roll ",t.rollNo||"--")}}var an=class i{constructor(e,t){this.mock=e;this.snackBar=t;this.students=this.mock.getStudents()||[],this.attendance=this.mock.getAttendance()||[],this.classOptions=Array.from(new Set(this.students.map(n=>n.class).filter(Boolean))),this.students.length&&(this.newEntry.studentId=this.students[0].id),this.loadRows(),this.updateFilteredStudents(),this.updatePaginatedStudents()}loading=!1;bulkMark(e){this.filteredStudents.forEach(t=>{this.mock.setAttendance(t.id,this.selectedDate,e)}),this.attendance=this.mock.getAttendance(),this.updateFilteredStudents(),this.updatePaginatedStudents(),this.loadRows(),this.openSnack(`All students marked ${e}.`)}paginatedStudents=[];pageIndex=0;pageSize=10;displayedColumns=["studentName","className","date","status","actions"];dataSource=new ec([]);students=[];attendance=[];rows=[];filtered=[];metrics={total:0,present:0,absent:0};search="";statusFilter="all";selectedDate=new Date().toISOString().slice(0,10);classFilter="";classOptions=[];statusChips=["present","absent","late","excused"];newEntry={studentId:null,status:"present",date:this.selectedDate};filteredStudents=[];ngOnInit(){this.loadRows(),this.updateFilteredStudents(),this.updatePaginatedStudents()}updateFilteredStudents(){let t=!!(this.classFilter&&this.classFilter!=="All")?this.students.filter(n=>n.class===this.classFilter):this.students;this.filteredStudents=t.map(n=>{let a=this.attendance.find(o=>o.studentId===n.id&&o.date===this.selectedDate);return yt(U({},n),{present:a?a.status==="present":!0})}),this.resetPaginator()}updatePaginatedStudents(){let e=this.pageIndex*this.pageSize,t=e+this.pageSize;this.paginatedStudents=this.filteredStudents.slice(e,t)}onPageChange(e){this.pageIndex=e.pageIndex,this.pageSize=e.pageSize,this.updatePaginatedStudents()}getAttendanceStatus(e){let t=this.attendance.find(n=>n.studentId===e&&n.date===this.selectedDate);return t?t.status:"absent"}markAttendance(e){let t=e.present?"absent":"present";this.mock.setAttendance(e.id,this.selectedDate,t),this.attendance=this.mock.getAttendance(),this.updateFilteredStudents(),this.updatePaginatedStudents(),this.loadRows(),this.openSnack(`Attendance marked as ${t} for ${e.firstName} ${e.lastName}`)}toggleFromControl(e,t){e.stopPropagation(),this.markAttendance(t)}toggleFromButton(e,t){e.preventDefault(),this.markAttendance(t)}markAll(e){this.classFilter&&(this.filteredStudents.forEach(t=>{this.mock.setAttendance(t.id,this.selectedDate,e?"present":"absent")}),this.attendance=this.mock.getAttendance(),this.updateFilteredStudents(),this.loadRows(),this.openSnack(`All students marked as ${e?"present":"absent"}.`))}paginator;sort;ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.updatePaginatedStudents()}buildRow(e){let t=this.attendance.find(n=>n.studentId===e.id&&n.date===this.selectedDate);return{id:t?t.id:0,studentId:e.id,studentName:`${e.firstName} ${e.lastName}`,className:e.class||"--",date:t?.date||this.selectedDate,status:t?.status||"present"}}resetPaginator(){this.pageIndex=0,this.updatePaginatedStudents(),this.paginator&&this.paginator.firstPage()}loadRows(){let e=this.classFilter?this.students.filter(t=>t.class===this.classFilter):this.students;this.rows=e.map(t=>this.buildRow(t)),this.applyFilters(),this.refreshMetrics()}applyFilters(){let e=this.search.trim().toLowerCase();this.filtered=this.rows.filter(t=>{let n=!e||t.studentName.toLowerCase().includes(e)||String(t.studentId).includes(e),a=this.statusFilter==="all"||t.status===this.statusFilter,o=!this.selectedDate||t.date===this.selectedDate,v=!this.classFilter||t.className===this.classFilter;return n&&a&&o&&v}),this.dataSource.data=this.filtered}clearSearch(){this.search="",this.applyFilters()}onStatusChange(e){this.statusFilter=e.value||"all",this.applyFilters()}onClassChange(e){this.classFilter=e||"",this.loadRows(),this.updateFilteredStudents()}onDateChange(e){this.selectedDate=e,this.loadRows(),this.updateFilteredStudents()}refreshMetrics(){this.metrics.total=this.rows.length,this.metrics.present=this.rows.filter(e=>e.status==="present").length,this.metrics.absent=this.rows.filter(e=>e.status==="absent").length}addEntry(){if(!this.newEntry.studentId)return;this.mock.addAttendance(this.newEntry.studentId,this.newEntry.date,this.newEntry.status),this.attendance=this.mock.getAttendance(),this.loadRows();let e=this.students.find(n=>n.id===this.newEntry.studentId),t=e?`${e.firstName} ${e.lastName}`:"student";this.openSnack(`Attendance entry added for ${t}.`)}editAttendance(e){let t=e.status==="present"?"absent":"present";this.mock.updateAttendanceStatus(e.id,t),this.attendance=this.mock.getAttendance(),this.loadRows()}deleteAttendance(e){this.attendance=this.attendance.filter(t=>t.id!==e.id),this.loadRows()}openSnack(e){this.snackBar.open(e,"Close",{duration:2500,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["attendance-snack"]})}exportCsv(){let e=["Id","Student","Class","Date","Status"],t=this.filtered.map(I=>[I.id,`"${(I.studentName||"").replace(/"/g,'""')}"`,I.className,I.date,I.status].join(",")),n=[e.join(","),...t].join(`
`),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(a),v=document.createElement("a");v.href=o,v.download="attendance.csv",v.click(),URL.revokeObjectURL(o)}static \u0275fac=function(t){return new(t||i)(d.\u0275\u0275directiveInject(H),d.\u0275\u0275directiveInject($a))};static \u0275cmp=d.\u0275\u0275defineComponent({type:i,selectors:[["app-attendance"]],viewQuery:function(t,n){if(t&1&&(d.\u0275\u0275viewQuery(nc,5),d.\u0275\u0275viewQuery(ic,5)),t&2){let a;d.\u0275\u0275queryRefresh(a=d.\u0275\u0275loadQuery())&&(n.paginator=a.first),d.\u0275\u0275queryRefresh(a=d.\u0275\u0275loadQuery())&&(n.sort=a.first)}},decls:118,vars:28,consts:[[1,"fees-page","teachers-page","attendance-page"],["color","primary",1,"fees-toolbar","mat-elevation-z2"],[1,"toolbar-left"],[1,"eyebrow"],[1,"title"],[1,"spacer"],[1,"toolbar-actions"],["mat-flat-button","","color","accent",1,"record-btn",3,"click"],["viewBox","0 0 24 24",1,"icon"],["d","M11 5h2v6h6v2h-6v6h-2v-6H5v-2h6z","fill","currentColor"],[1,"summary-grid"],[1,"metric-card","mat-elevation-z2"],[1,"metric-icon"],["d","M12 12a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm-7 9v-1a6 6 0 0 1 12 0v1H5z","fill","currentColor"],[1,"metric-body"],[1,"metric-label"],[1,"metric-value"],[1,"metric-hint"],[1,"metric-icon","success"],["d","M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm-1 14-4-4 1.41-1.41L11 13.17l5.59-5.58L18 9l-7 7z","fill","currentColor"],[1,"metric-icon","warn"],["d","M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2V8h2v6z","fill","currentColor"],[1,"metric-value","warn-text"],[1,"filters-card","mat-elevation-z2"],[1,"filter-columns"],[1,"filter-stack"],["appearance","fill",1,"full-width","search-field"],["matPrefix","",1,"icon-wrap"],["d","M15.5 14h-.79l-.28-.27A6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28h.79l5 4.99L20.49 19l-5-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z","fill","currentColor"],["matInput","","placeholder","by name or ID",3,"ngModelChange","ngModel"],["matSuffix","","mat-icon-button","","aria-label","Clear search",3,"click",4,"ngIf"],[1,"filter-row"],["appearance","fill"],["matInput","","type","date",3,"change","value"],[3,"ngModelChange","selectionChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"filter-actions"],[1,"chip-section"],[1,"chip-label"],[1,"status-chips",3,"selectionChange","value"],["value","all"],[1,"action-buttons"],["mat-icon-button","","matTooltip","Export CSV",1,"ghost-button","only-icon",3,"click"],["d","M12 3v12m0 0-4-4m4 4 4-4M5 19h14","stroke","currentColor","stroke-width","1.6","stroke-linecap","round","stroke-linejoin","round"],["mat-flat-button","","color","accent",1,"ghost-button","pill",3,"click"],[1,"table-card","mat-elevation-z2"],[1,"table-wrap","desktop-only","mobile-scroll"],["mat-table","",1,"fees-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","rollNo"],["matColumnDef","attendance"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","clickable-row","tabindex","0",3,"click","keydown.enter","keydown.space",4,"matRowDef","matRowDefColumns"],[3,"page","length","pageSize","pageIndex","pageSizeOptions"],[1,"mobile-only","mobile-card-list"],["class","mobile-card clickable-card","tabindex","0",3,"click","keydown.enter","keydown.space",4,"ngFor","ngForOf"],[1,"entry-actions"],["name","bulkMark","aria-label","Bulk mark attendance",3,"change"],["value","present","color","primary"],["value","absent","color","warn"],["value","late","color","accent"],["value","excused","color","accent"],["matSuffix","","mat-icon-button","","aria-label","Clear search",3,"click"],["d","M18.3 5.71 12 12l6.3 6.29-1.41 1.42L12 13.41l-4.89 4.9-1.41-1.42L10.59 12 4.29 5.71 5.7 4.29 12 10.59l6.29-6.3z","fill","currentColor"],[3,"value"],["mat-header-cell",""],["mat-cell",""],[1,"cell-title"],[1,"cell-meta"],["type","button",1,"status-pill",3,"click","ngClass"],["aria-hidden","true",1,"pill-icon"],["viewBox","0 0 24 24",4,"ngIf"],[1,"pill-text"],["viewBox","0 0 24 24"],["d","M9 16.2l-3.5-3.5L4 14.2 9 19l12-12-1.4-1.4z","fill","currentColor"],["d","M19 13H5v-2h14v2z","fill","currentColor"],["mat-header-row",""],["mat-row","","tabindex","0",1,"clickable-row",3,"click","keydown.enter","keydown.space"],["tabindex","0",1,"mobile-card","clickable-card",3,"click","keydown.enter","keydown.space"],[1,"card-row"],["type","button",1,"status-pill","tight",3,"click","ngClass"]],template:function(t,n){t&1&&(d.\u0275\u0275elementStart(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"div",3),d.\u0275\u0275text(4,"PoliticianHub"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(5,"div",4),d.\u0275\u0275text(6,"Attendance"),d.\u0275\u0275elementEnd()(),d.\u0275\u0275element(7,"span",5),d.\u0275\u0275elementStart(8,"div",6)(9,"button",7),d.\u0275\u0275listener("click",function(){return n.addEntry()}),d.\u0275\u0275namespaceSVG(),d.\u0275\u0275elementStart(10,"svg",8),d.\u0275\u0275element(11,"path",9),d.\u0275\u0275elementEnd(),d.\u0275\u0275text(12," Add Entry "),d.\u0275\u0275elementEnd()()(),d.\u0275\u0275namespaceHTML(),d.\u0275\u0275elementStart(13,"div",10)(14,"mat-card",11)(15,"div",12),d.\u0275\u0275namespaceSVG(),d.\u0275\u0275elementStart(16,"svg",8),d.\u0275\u0275element(17,"path",13),d.\u0275\u0275elementEnd()(),d.\u0275\u0275namespaceHTML(),d.\u0275\u0275elementStart(18,"div",14)(19,"div",15),d.\u0275\u0275text(20,"Present today"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(21,"div",16),d.\u0275\u0275text(22),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(23,"div",17),d.\u0275\u0275text(24),d.\u0275\u0275elementEnd()()(),d.\u0275\u0275elementStart(25,"mat-card",11)(26,"div",18),d.\u0275\u0275namespaceSVG(),d.\u0275\u0275elementStart(27,"svg",8),d.\u0275\u0275element(28,"path",19),d.\u0275\u0275elementEnd()(),d.\u0275\u0275namespaceHTML(),d.\u0275\u0275elementStart(29,"div",14)(30,"div",15),d.\u0275\u0275text(31,"Entries marked"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(32,"div",16),d.\u0275\u0275text(33),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(34,"div",17),d.\u0275\u0275text(35,"Recorded this day"),d.\u0275\u0275elementEnd()()(),d.\u0275\u0275elementStart(36,"mat-card",11)(37,"div",20),d.\u0275\u0275namespaceSVG(),d.\u0275\u0275elementStart(38,"svg",8),d.\u0275\u0275element(39,"path",21),d.\u0275\u0275elementEnd()(),d.\u0275\u0275namespaceHTML(),d.\u0275\u0275elementStart(40,"div",14)(41,"div",15),d.\u0275\u0275text(42,"Absent"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(43,"div",22),d.\u0275\u0275text(44),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(45,"div",17),d.\u0275\u0275text(46),d.\u0275\u0275elementEnd()()()(),d.\u0275\u0275elementStart(47,"mat-card",23)(48,"div",24)(49,"div",25)(50,"mat-form-field",26)(51,"mat-label"),d.\u0275\u0275text(52,"Search students"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(53,"span",27),d.\u0275\u0275namespaceSVG(),d.\u0275\u0275elementStart(54,"svg",8),d.\u0275\u0275element(55,"path",28),d.\u0275\u0275elementEnd()(),d.\u0275\u0275namespaceHTML(),d.\u0275\u0275elementStart(56,"input",29),d.\u0275\u0275twoWayListener("ngModelChange",function(o){return d.\u0275\u0275twoWayBindingSet(n.search,o)||(n.search=o),o}),d.\u0275\u0275listener("ngModelChange",function(){return n.applyFilters()}),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(57,ac,3,0,"button",30),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(58,"div",31)(59,"mat-form-field",32)(60,"mat-label"),d.\u0275\u0275text(61,"Date"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(62,"input",33),d.\u0275\u0275listener("change",function(o){return n.onDateChange(o.target.value)}),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(63,"mat-form-field",32)(64,"mat-label"),d.\u0275\u0275text(65,"Class"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(66,"mat-select",34),d.\u0275\u0275twoWayListener("ngModelChange",function(o){return d.\u0275\u0275twoWayBindingSet(n.classFilter,o)||(n.classFilter=o),o}),d.\u0275\u0275listener("selectionChange",function(o){return n.onClassChange(o.value)}),d.\u0275\u0275elementStart(67,"mat-option",35),d.\u0275\u0275text(68,"All"),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(69,oc,2,2,"mat-option",36),d.\u0275\u0275elementEnd()()()(),d.\u0275\u0275elementStart(70,"div",37)(71,"div",38)(72,"div",39),d.\u0275\u0275text(73,"Status filter"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(74,"mat-chip-listbox",40),d.\u0275\u0275listener("selectionChange",function(o){return n.onStatusChange(o)}),d.\u0275\u0275elementStart(75,"mat-chip-option",41),d.\u0275\u0275text(76,"All"),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(77,rc,3,4,"mat-chip-option",36),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(78,"div",42)(79,"button",43),d.\u0275\u0275listener("click",function(){return n.exportCsv()}),d.\u0275\u0275namespaceSVG(),d.\u0275\u0275elementStart(80,"svg",8),d.\u0275\u0275element(81,"path",44),d.\u0275\u0275elementEnd()(),d.\u0275\u0275namespaceHTML(),d.\u0275\u0275elementStart(82,"button",45),d.\u0275\u0275listener("click",function(){return n.addEntry()}),d.\u0275\u0275namespaceSVG(),d.\u0275\u0275elementStart(83,"svg",8),d.\u0275\u0275element(84,"path",9),d.\u0275\u0275elementEnd(),d.\u0275\u0275text(85," Add Entry "),d.\u0275\u0275elementEnd()()()()(),d.\u0275\u0275namespaceHTML(),d.\u0275\u0275elementStart(86,"mat-card",46)(87,"mat-card-title"),d.\u0275\u0275text(88,"Attendance log"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(89,"mat-card-subtitle"),d.\u0275\u0275text(90,"All attendance records for selected date."),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(91,"div",47)(92,"table",48),d.\u0275\u0275elementContainerStart(93,49),d.\u0275\u0275template(94,lc,2,0,"th",50)(95,sc,5,3,"td",51),d.\u0275\u0275elementContainerEnd(),d.\u0275\u0275elementContainerStart(96,52),d.\u0275\u0275template(97,cc,2,0,"th",50)(98,dc,2,1,"td",51),d.\u0275\u0275elementContainerEnd(),d.\u0275\u0275elementContainerStart(99,53),d.\u0275\u0275template(100,mc,2,0,"th",50)(101,gc,7,4,"td",51),d.\u0275\u0275elementContainerEnd(),d.\u0275\u0275template(102,fc,1,0,"tr",54)(103,_c,1,0,"tr",55),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(104,"mat-paginator",56),d.\u0275\u0275listener("page",function(o){return n.onPageChange(o)}),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(105,"div",57),d.\u0275\u0275template(106,Cc,12,8,"div",58),d.\u0275\u0275elementStart(107,"mat-paginator",56),d.\u0275\u0275listener("page",function(o){return n.onPageChange(o)}),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(108,"div",59)(109,"mat-button-toggle-group",60),d.\u0275\u0275listener("change",function(o){return n.bulkMark(o.value)}),d.\u0275\u0275elementStart(110,"mat-button-toggle",61),d.\u0275\u0275text(111,"Mark All Present"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(112,"mat-button-toggle",62),d.\u0275\u0275text(113,"Mark All Absent"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(114,"mat-button-toggle",63),d.\u0275\u0275text(115,"Mark All Late"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(116,"mat-button-toggle",64),d.\u0275\u0275text(117,"Mark All Excused"),d.\u0275\u0275elementEnd()()()()()),t&2&&(d.\u0275\u0275advance(22),d.\u0275\u0275textInterpolate(n.metrics.present),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate1("Out of ",n.metrics.total),d.\u0275\u0275advance(9),d.\u0275\u0275textInterpolate(n.metrics.total),d.\u0275\u0275advance(11),d.\u0275\u0275textInterpolate(n.metrics.absent),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate1("For ",n.selectedDate),d.\u0275\u0275advance(10),d.\u0275\u0275twoWayProperty("ngModel",n.search),d.\u0275\u0275advance(),d.\u0275\u0275property("ngIf",n.search),d.\u0275\u0275advance(5),d.\u0275\u0275property("value",n.selectedDate),d.\u0275\u0275advance(4),d.\u0275\u0275twoWayProperty("ngModel",n.classFilter),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngForOf",n.classOptions),d.\u0275\u0275advance(5),d.\u0275\u0275property("value",n.statusFilter),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngForOf",n.statusChips),d.\u0275\u0275advance(15),d.\u0275\u0275property("dataSource",n.paginatedStudents),d.\u0275\u0275advance(10),d.\u0275\u0275property("matHeaderRowDef",d.\u0275\u0275pureFunction0(24,Ga)),d.\u0275\u0275advance(),d.\u0275\u0275property("matRowDefColumns",d.\u0275\u0275pureFunction0(25,Ga)),d.\u0275\u0275advance(),d.\u0275\u0275property("length",n.filteredStudents.length)("pageSize",n.pageSize)("pageIndex",n.pageIndex)("pageSizeOptions",d.\u0275\u0275pureFunction0(26,qa)),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngForOf",n.paginatedStudents),d.\u0275\u0275advance(),d.\u0275\u0275property("length",n.filteredStudents.length)("pageSize",n.pageSize)("pageIndex",n.pageIndex)("pageSizeOptions",d.\u0275\u0275pureFunction0(27,qa)))},dependencies:[Xs,At.NgClass,At.NgForOf,At.NgIf,tc,re.DefaultValueAccessor,re.NgControlStatus,re.NgModel,L,Qn.MatButton,Qn.MatIconButton,Ot.MatInput,Ot.MatFormField,Ot.MatLabel,Ot.MatPrefix,Ot.MatSuffix,Yn.MatSelect,Yn.MatOption,pt.MatTable,pt.MatHeaderCellDef,pt.MatHeaderRowDef,pt.MatColumnDef,pt.MatCellDef,pt.MatRowDef,pt.MatHeaderCell,pt.MatCell,pt.MatHeaderRow,pt.MatRow,le.MatCard,le.MatCardSubtitle,le.MatCardTitle,Qa.MatToolbar,Zn.MatChipListbox,Zn.MatChipOption,Ya.MatPaginator,Za.MatTooltip,Jn.MatButtonToggleGroup,Jn.MatButtonToggle,At.TitleCasePipe],styles:["[_nghost-%COMP%]{display:block}.fees-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:16px}.fees-toolbar[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(120deg,#3949ab,#1e88e5);color:#fff;padding:12px 16px}.toolbar-left[_ngcontent-%COMP%]   .eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.08em;font-size:12px;opacity:.9}.toolbar-left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.toolbar-actions[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.toolbar-actions[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled){background:#f8fafc;color:var(--brand-primary, #1e3a8a);border-color:#1e3a8a66;border-radius:12px}.toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled)   .mdc-button__label[_ngcontent-%COMP%], .toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled)   .mat-icon[_ngcontent-%COMP%]{color:var(--brand-primary, #1e3a8a)}.spacer[_ngcontent-%COMP%]{flex:1}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(190px,1fr));gap:12px}.metric-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:12px;align-items:center;border-radius:12px}.metric-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px;display:grid;place-items:center;color:#fff;background:#1976d229}.metric-icon.warn[_ngcontent-%COMP%]{background:#f443362e}.metric-icon.success[_ngcontent-%COMP%]{background:#2e7d322e}.metric-body[_ngcontent-%COMP%]{display:grid;gap:2px}.metric-label[_ngcontent-%COMP%]{font-size:13px;color:#6b7280;text-transform:uppercase;letter-spacing:.04em}.metric-value[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--brand-primary, #1e3a8a)}.metric-value.warn-text[_ngcontent-%COMP%]{color:var(--brand-warn, #f97316)}.metric-hint[_ngcontent-%COMP%]{color:#6b7280;font-size:13px}.filters-card[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(135deg,#4f46e514,#06b6d414);border:1px solid var(--brand-border, rgba(255, 255, 255, .12))}.filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.4fr auto auto;gap:12px;align-items:center}.full-width[_ngcontent-%COMP%]{width:100%}.search-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{background:#ffffff1a;box-shadow:0 8px 18px #0003}.icon-wrap[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.status-chips[_ngcontent-%COMP%]{display:flex;gap:8px}.status-chips[_ngcontent-%COMP%]   .mat-mdc-chip-option[_ngcontent-%COMP%]{border-radius:12px}.status-chips[_ngcontent-%COMP%]   .mat-mdc-chip-option.mat-mdc-chip-selected[_ngcontent-%COMP%]{background:#1e3a8a29;color:var(--brand-primary, #1e3a8a);border:1px solid rgba(30,58,138,.35)}.filter-actions[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:flex-end;flex-wrap:wrap}.filter-actions[_ngcontent-%COMP%]   .ghost-button.mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled){border-color:#4f46e573;color:var(--brand-primary, #1e3a8a);background:#ffffffc7;border-radius:12px;box-shadow:0 6px 16px #0000001f}.filter-actions[_ngcontent-%COMP%]   .ghost-button.mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled):hover{background:#ffffffe6;border-color:#4f46e5b3}.ghost-button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.table-card[_ngcontent-%COMP%]{border-radius:12px}.table-wrap[_ngcontent-%COMP%]{overflow-x:auto;margin-top:8px}.fees-table[_ngcontent-%COMP%]{min-width:720px}.fees-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.cell-title[_ngcontent-%COMP%]{font-weight:600}.cell-meta[_ngcontent-%COMP%]{color:var(--brand-muted, #94a3b8);font-size:12px}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.status-chip[_ngcontent-%COMP%]{height:28px;font-weight:600;border-radius:12px}.due[_ngcontent-%COMP%]{color:var(--brand-warn, #f97316);font-weight:700}.clear[_ngcontent-%COMP%]{color:var(--brand-success, #22c55e);font-weight:700}.action-row[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.compact-number[_ngcontent-%COMP%]{width:140px}.compact-number[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{padding-inline:8px;background:#ffffff14;border-radius:12px}.compact-number[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding:4px 0 8px}.record-btn.mat-mdc-unelevated-button[_ngcontent-%COMP%]:not(:disabled){background:linear-gradient(135deg,var(--brand-accent, #06b6d4),var(--brand-accent-strong, #0ea5c6));color:#0b1221;font-weight:700;border-radius:12px;box-shadow:0 8px 18px #06b6d459}.record-btn[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%], .record-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#0b1221}.record-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.structure-page[_ngcontent-%COMP%]{padding:0}.structure-header[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap;margin-bottom:12px}.structure-header[_ngcontent-%COMP%]   .class-select[_ngcontent-%COMP%]{min-width:180px}.structure-input[_ngcontent-%COMP%]{width:100%}.structure-page[_ngcontent-%COMP%]   .fees-table[_ngcontent-%COMP%]{min-width:680px}.mat-mdc-chip.mat-mdc-standard-chip[_ngcontent-%COMP%]{background:#ffffff14;border:1px solid var(--brand-border, rgba(255, 255, 255, .12))}.fee-empty[_ngcontent-%COMP%]{padding:1rem;text-align:center;color:#6b7280}.router-outlet-wrap[_ngcontent-%COMP%]{margin-top:8px}.exam-form[_ngcontent-%COMP%], .fee-form[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]{padding:.6rem;background:#fff;border-radius:8px;box-shadow:0 1px 6px #0000000a;margin-bottom:.6rem}.fee-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #edf2f7;border-radius:8px;padding:.6rem;box-shadow:0 1px 6px #0000000a}.fee-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;padding:.5rem 0}.fee-row-label[_ngcontent-%COMP%]{flex:1}.fee-row-fine[_ngcontent-%COMP%]{color:#718096;min-width:60px;text-align:right}.btn[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem .75rem}@media(max-width:1024px){.filter-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.fees-table[_ngcontent-%COMP%]{min-width:600px}.toolbar-actions[_ngcontent-%COMP%]{flex-wrap:wrap}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:8px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}}@media(max-width:640px){.fees-page[_ngcontent-%COMP%]{padding:12px}.summary-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.fees-table[_ngcontent-%COMP%]{min-width:520px}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}}","@media(max-width:768px){.mobile-scroll[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch;display:block}.fees-table[_ngcontent-%COMP%]{min-width:600px}}.export-wrap[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;margin-top:8px}@media(max-width:768px){.export-wrap[_ngcontent-%COMP%]{flex-direction:column;gap:8px;width:100%}.export-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;min-width:0}}@media(max-width:768px){.toolbar-actions[_ngcontent-%COMP%]{width:100%;justify-content:stretch;margin-top:12px}.toolbar-btn-group[_ngcontent-%COMP%]{flex-direction:column;gap:8px;width:100%}.toolbar-btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;min-width:0}}.toolbar-actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.toolbar-btn-group[_ngcontent-%COMP%]{display:flex;gap:8px}@media(max-width:768px){.toolbar-actions[_ngcontent-%COMP%]{width:100%;justify-content:stretch}.toolbar-btn-group[_ngcontent-%COMP%]{flex-direction:column;gap:8px;width:100%}.toolbar-btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;min-width:0}}.attendance-page[_ngcontent-%COMP%]{padding:0}.action-row[_ngcontent-%COMP%]{display:flex;gap:8px}.attendance-page[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{min-width:180px}.attendance-page[_ngcontent-%COMP%]   .status-chip[_ngcontent-%COMP%]{text-transform:capitalize}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}@media(max-width:768px){.attendance-page[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(150px,1fr))}.attendance-page[_ngcontent-%COMP%]   .table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}.attendance-page[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{min-width:640px}.attendance-page[_ngcontent-%COMP%]   .toolbar-actions[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:flex-end}.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:6px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}.mobile-card[_ngcontent-%COMP%]   .cell-meta[_ngcontent-%COMP%]{color:#6b7280;font-size:12px}}.mat-snack-bar-container.attendance-snack[_ngcontent-%COMP%]{background:#212121!important;color:#fff!important;font-size:1.1rem;font-weight:500;letter-spacing:.02em;box-shadow:0 2px 8px #0000002e;border-radius:6px;opacity:.98;z-index:99999!important;padding:16px 24px!important;position:fixed!important;left:50%!important;bottom:32px!important;transform:translate(-50%)!important;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.mat-snack-bar-container.attendance-snack[_ngcontent-%COMP%]   .mat-simple-snackbar-action[_ngcontent-%COMP%]{color:#ffd600!important;font-weight:600}.attendance-toggle-cell[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-width:80px;padding:0}.attendance-toggle[_ngcontent-%COMP%]{background:#e3f2fd;border-radius:8px;box-shadow:0 1px 4px #2196f314;padding:2px 0 0;min-width:56px;min-height:40px;display:flex;flex-direction:column;align-items:center;justify-content:center;border:1px solid #bbdefb;transition:background .2s,border .2s}.attendance-toggle.present[_ngcontent-%COMP%]{background:#e8f5e9;border-color:#43a047}.attendance-toggle.absent[_ngcontent-%COMP%]{background:#ffebee;border-color:#e53935}.attendance-toggle[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:28px;color:#43a047}.attendance-toggle.absent[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#e53935}.attendance-toggle-label[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:#333;margin-top:2px}.attendance-toggle.present[_ngcontent-%COMP%]   .attendance-toggle-label[_ngcontent-%COMP%]{color:#43a047}.attendance-toggle.absent[_ngcontent-%COMP%]   .attendance-toggle-label[_ngcontent-%COMP%]{color:#e53935}.status-pill[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;border-radius:16px;border:1.5px solid #e0e7ef;background:#f1f5fa;min-width:90px;min-height:38px;font-weight:600;font-size:15px;color:#333;cursor:pointer;transition:background .2s,border .2s;box-shadow:0 1px 4px #1126920f;outline:none;padding:0 12px}.status-pill.present[_ngcontent-%COMP%]{background:#e8f5e9;border-color:#43a047;color:#43a047}.status-pill.absent[_ngcontent-%COMP%]{background:#ffebee;border-color:#e53935;color:#e53935}.status-pill[_ngcontent-%COMP%]   .pill-icon[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:6px}.status-pill[_ngcontent-%COMP%]   .pill-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:22px;height:22px}.status-pill[_ngcontent-%COMP%]   .pill-text[_ngcontent-%COMP%]{font-size:15px;font-weight:600}.status-pill[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 2px #90caf9}.status-pill.tight[_ngcontent-%COMP%]{min-width:70px;padding:0 8px}"]})};import{CommonModule as xc}from"@angular/common";import{FormsModule as Mc}from"@angular/forms";import{RouterModule as vc}from"@angular/router";import{MatPaginator as yc}from"@angular/material/paginator";import{MatSort as wc}from"@angular/material/sort";import{MatTableDataSource as Pc}from"@angular/material/table";import*as c from"@angular/core";import*as se from"@angular/common";import*as St from"@angular/forms";import*as Kn from"@angular/router";import*as Xn from"@angular/material/button";import*as Et from"@angular/material/input";import*as Q from"@angular/material/table";import*as ce from"@angular/material/card";import*as Ja from"@angular/material/toolbar";import*as de from"@angular/material/chips";import*as Ka from"@angular/material/paginator";import*as ti from"@angular/material/sort";import*as Xa from"@angular/material/progress-bar";var Oc=()=>["/schools/fees/history"],Sc=()=>["/schools/fees/collect"],Ec=()=>["/schools/fees/categories"],kc=()=>["/schools/fees/structure"],Tc=()=>["/schools/fees/my-fees"],Dc=()=>["/schools/fees/discounts"],Ic=()=>[5,10,25];function Fc(i,e){if(i&1){let t=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"button",63),c.\u0275\u0275listener("click",function(){c.\u0275\u0275restoreView(t);let a=c.\u0275\u0275nextContext();return c.\u0275\u0275resetView(a.clearSearch())}),c.\u0275\u0275namespaceSVG(),c.\u0275\u0275elementStart(1,"svg",8),c.\u0275\u0275element(2,"path",64),c.\u0275\u0275elementEnd()()}}function Ac(i,e){i&1&&(c.\u0275\u0275elementStart(0,"th",65),c.\u0275\u0275text(1,"Student"),c.\u0275\u0275elementEnd())}function Rc(i,e){if(i&1&&(c.\u0275\u0275elementStart(0,"td",66)(1,"div",67),c.\u0275\u0275text(2),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(3,"div",68),c.\u0275\u0275text(4),c.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(t.studentName),c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate1("ID #",t.studentId)}}function Nc(i,e){i&1&&(c.\u0275\u0275elementStart(0,"th",65),c.\u0275\u0275text(1,"Class"),c.\u0275\u0275elementEnd())}function zc(i,e){if(i&1&&(c.\u0275\u0275elementStart(0,"td",66),c.\u0275\u0275text(1),c.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;c.\u0275\u0275advance(),c.\u0275\u0275textInterpolate(t.class||"\u2014")}}function Bc(i,e){i&1&&(c.\u0275\u0275elementStart(0,"th",65),c.\u0275\u0275text(1,"Balance"),c.\u0275\u0275elementEnd())}function Lc(i,e){if(i&1&&(c.\u0275\u0275elementStart(0,"td",66)(1,"span"),c.\u0275\u0275text(2),c.\u0275\u0275pipe(3,"currency"),c.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;c.\u0275\u0275advance(),c.\u0275\u0275classProp("due",t.status==="due")("clear",t.status==="clear"),c.\u0275\u0275advance(),c.\u0275\u0275textInterpolate1(" ",c.\u0275\u0275pipeBind1(3,5,t.balance)," ")}}function Vc(i,e){i&1&&(c.\u0275\u0275elementStart(0,"th",65),c.\u0275\u0275text(1,"Last Paid"),c.\u0275\u0275elementEnd())}function Hc(i,e){if(i&1&&(c.\u0275\u0275elementStart(0,"td",66),c.\u0275\u0275text(1),c.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;c.\u0275\u0275advance(),c.\u0275\u0275textInterpolate(t.lastPaid||"\u2014")}}function jc(i,e){i&1&&(c.\u0275\u0275elementStart(0,"th",69),c.\u0275\u0275text(1,"Status"),c.\u0275\u0275elementEnd())}function Wc(i,e){if(i&1&&(c.\u0275\u0275elementStart(0,"td",66)(1,"mat-chip",70),c.\u0275\u0275text(2),c.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;c.\u0275\u0275advance(),c.\u0275\u0275property("color",t.status==="due"?"warn":"primary"),c.\u0275\u0275advance(),c.\u0275\u0275textInterpolate1(" ",t.status==="due"?"Due":"Clear"," ")}}function Uc(i,e){i&1&&(c.\u0275\u0275elementStart(0,"th",69),c.\u0275\u0275text(1,"Collect"),c.\u0275\u0275elementEnd())}function $c(i,e){if(i&1){let t=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"td",66)(1,"div",71)(2,"mat-form-field",72)(3,"mat-label"),c.\u0275\u0275text(4,"Amount"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(5,"input",73),c.\u0275\u0275twoWayListener("ngModelChange",function(a){let o=c.\u0275\u0275restoreView(t).$implicit,v=c.\u0275\u0275nextContext();return c.\u0275\u0275twoWayBindingSet(v.paymentAmounts[o.studentId],a)||(v.paymentAmounts[o.studentId]=a),c.\u0275\u0275resetView(a)}),c.\u0275\u0275elementEnd()(),c.\u0275\u0275elementStart(6,"button",74),c.\u0275\u0275listener("click",function(){let a=c.\u0275\u0275restoreView(t).$implicit,o=c.\u0275\u0275nextContext();return c.\u0275\u0275resetView(o.pay(a.studentId))}),c.\u0275\u0275namespaceSVG(),c.\u0275\u0275elementStart(7,"svg",8),c.\u0275\u0275element(8,"path",75),c.\u0275\u0275elementEnd(),c.\u0275\u0275text(9," Record "),c.\u0275\u0275elementEnd()()()}if(i&2){let t=e.$implicit,n=c.\u0275\u0275nextContext();c.\u0275\u0275advance(5),c.\u0275\u0275twoWayProperty("ngModel",n.paymentAmounts[t.studentId]),c.\u0275\u0275advance(),c.\u0275\u0275property("disabled",!n.paymentAmounts[t.studentId])}}function Gc(i,e){i&1&&c.\u0275\u0275element(0,"tr",76)}function qc(i,e){i&1&&c.\u0275\u0275element(0,"tr",77)}function Qc(i,e){if(i&1&&(c.\u0275\u0275elementStart(0,"tr",78)(1,"td")(2,"div",79),c.\u0275\u0275text(3,"No students match your filters."),c.\u0275\u0275elementEnd()()()),i&2){let t=c.\u0275\u0275nextContext();c.\u0275\u0275advance(),c.\u0275\u0275attribute("colspan",t.displayedColumns.length)}}function Yc(i,e){if(i&1){let t=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"div",80)(1,"div",81)(2,"div",67),c.\u0275\u0275text(3),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(4,"mat-chip",82),c.\u0275\u0275text(5),c.\u0275\u0275elementEnd()(),c.\u0275\u0275elementStart(6,"div",68),c.\u0275\u0275text(7),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(8,"div",83),c.\u0275\u0275text(9),c.\u0275\u0275pipe(10,"currency"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(11,"div",71)(12,"mat-form-field",72)(13,"mat-label"),c.\u0275\u0275text(14,"Amount"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(15,"input",73),c.\u0275\u0275twoWayListener("ngModelChange",function(a){let o=c.\u0275\u0275restoreView(t).$implicit,v=c.\u0275\u0275nextContext();return c.\u0275\u0275twoWayBindingSet(v.paymentAmounts[o.studentId],a)||(v.paymentAmounts[o.studentId]=a),c.\u0275\u0275resetView(a)}),c.\u0275\u0275elementEnd()(),c.\u0275\u0275elementStart(16,"button",84),c.\u0275\u0275listener("click",function(){let a=c.\u0275\u0275restoreView(t).$implicit,o=c.\u0275\u0275nextContext();return c.\u0275\u0275resetView(o.pay(a.studentId))}),c.\u0275\u0275text(17," Record "),c.\u0275\u0275elementEnd()()()}if(i&2){let t=e.$implicit,n=c.\u0275\u0275nextContext();c.\u0275\u0275advance(3),c.\u0275\u0275textInterpolate(t.studentName),c.\u0275\u0275advance(),c.\u0275\u0275property("color",t.status==="due"?"warn":"primary"),c.\u0275\u0275advance(),c.\u0275\u0275textInterpolate1(" ",t.status==="due"?"Due":"Clear"," "),c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate2("Class ",t.class||"--"," \xB7 Last paid ",t.lastPaid||"--"),c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate1("Balance: ",c.\u0275\u0275pipeBind1(10,8,t.balance)),c.\u0275\u0275advance(6),c.\u0275\u0275twoWayProperty("ngModel",n.paymentAmounts[t.studentId]),c.\u0275\u0275advance(),c.\u0275\u0275property("disabled",!n.paymentAmounts[t.studentId])}}var on=class i{constructor(e){this.mock=e;this.fees=this.mock.getFees()}fees=[];search="";paymentAmounts={};students=[];viewRows=[];dataSource=new Pc([]);displayedColumns=["student","class","balance","lastPaid","status","actions"];statusFilter="all";summary={outstanding:0,dueCount:0,clearedCount:0,latestPayment:""};collectionProgress=0;paginator;sort;ngOnInit(){this.loadRows()}ngAfterViewInit(){this.attachTableHelpers()}loadRows(){this.students=this.mock.getStudents(),this.fees=this.mock.getFees();let e=new Map(this.fees.map(t=>[t.studentId,t]));this.viewRows=this.students.map(t=>{let n=e.get(t.id),a=Number(n?.balance)||0;return{studentId:t.id,studentName:`${t.firstName} ${t.lastName}`,class:t.class,balance:a,lastPaid:n?.lastPaid,status:a>0?"due":"clear"}}),this.viewRows.forEach(t=>this.paymentAmounts[t.studentId]=this.paymentAmounts[t.studentId]||0),this.applyFilters(),this.refreshSummary()}applyFilters(){let e=this.search.trim().toLowerCase(),t=this.viewRows.filter(n=>{let a=!e||n.studentName.toLowerCase().includes(e)||String(n.studentId).includes(e)||(n.class||"").toLowerCase().includes(e),o=this.statusFilter==="all"||n.status===this.statusFilter;return a&&o});this.dataSource.data=t,this.attachTableHelpers()}attachTableHelpers(){this.paginator&&(this.dataSource.paginator=this.paginator,this.paginator.firstPage()),this.sort&&(this.dataSource.sort=this.sort)}clearSearch(){this.search="",this.applyFilters()}onStatusChange(e){let t=e&&"value"in e?e.value:null;this.statusFilter=t||"all",this.applyFilters()}pay(e){let t=Number(this.paymentAmounts[e])||0;if(t<=0)return;let n=new Date().toISOString().slice(0,10);this.mock.payFee(e,t,n),this.paymentAmounts[e]=0,this.loadRows()}refreshSummary(){this.summary.outstanding=this.viewRows.reduce((n,a)=>n+(Number(a.balance)||0),0),this.summary.dueCount=this.viewRows.filter(n=>n.status==="due").length,this.summary.clearedCount=this.viewRows.filter(n=>n.status==="clear").length;let e=this.viewRows.map(n=>n.lastPaid).filter(Boolean).map(n=>new Date(n)).sort((n,a)=>a.getTime()-n.getTime())[0];this.summary.latestPayment=e?e.toISOString().slice(0,10):"";let t=this.viewRows.length;this.collectionProgress=t?Math.round(this.summary.clearedCount/t*100):0}exportCsv(){let e=["Student","Class","Balance","LastPaid","Status"],t=this.dataSource.data.map(I=>[`"${(I.studentName||"").replace(/"/g,'""')}"`,I.class||"",I.balance,I.lastPaid||"",I.status].join(",")),n=[e.join(","),...t].join(`
`),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(a),v=document.createElement("a");v.href=o,v.download="fees.csv",v.click(),URL.revokeObjectURL(o)}static \u0275fac=function(t){return new(t||i)(c.\u0275\u0275directiveInject(H))};static \u0275cmp=c.\u0275\u0275defineComponent({type:i,selectors:[["app-fees"]],viewQuery:function(t,n){if(t&1&&(c.\u0275\u0275viewQuery(yc,5),c.\u0275\u0275viewQuery(wc,5)),t&2){let a;c.\u0275\u0275queryRefresh(a=c.\u0275\u0275loadQuery())&&(n.paginator=a.first),c.\u0275\u0275queryRefresh(a=c.\u0275\u0275loadQuery())&&(n.sort=a.first)}},decls:124,vars:30,consts:[[1,"fees-page"],["color","primary",1,"fees-toolbar","mat-elevation-z2"],[1,"toolbar-left"],[1,"eyebrow"],[1,"title"],[1,"spacer"],[1,"toolbar-actions"],["mat-stroked-button","","color","accent",3,"routerLink"],["viewBox","0 0 24 24",1,"icon"],["d","M13 3a9 9 0 1 0 9 9h-2a7 7 0 1 1-7-7v2l3-3-3-3v2z","fill","currentColor"],["mat-flat-button","","color","accent",3,"routerLink"],["d","M21 7H3c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm0 8H3V9h18v6zm-2-3.5c0 .83-.67 1.5-1.5 1.5S16 12.33 16 11.5 16.67 10 17.5 10s1.5.67 1.5 1.5z","fill","currentColor"],[1,"summary-grid"],[1,"metric-card","mat-elevation-z2"],[1,"metric-icon"],[1,"metric-body"],[1,"metric-label"],[1,"metric-value"],[1,"metric-hint"],[1,"metric-icon","warn"],["d","M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2V8h2v6z","fill","currentColor"],[1,"metric-value","warn-text"],["mode","determinate",3,"value"],[1,"metric-icon","success"],["d","M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm0 18a8 8 0 1 1 0-16 8 8 0 0 1 0 16zm.5-13H11v6l4.75 2.85.75-1.23-3.5-2.07V7z","fill","currentColor"],[1,"filters-card","mat-elevation-z2"],[1,"filter-grid"],["appearance","fill",1,"full-width","search-field"],["matPrefix","",1,"icon-wrap"],["d","M15.5 14h-.79l-.28-.27A6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28h.79l5 4.99L20.49 19l-5-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z","fill","currentColor"],["matInput","","placeholder","name, id, class",3,"ngModelChange","ngModel"],["matSuffix","","mat-icon-button","","aria-label","Clear search",3,"click",4,"ngIf"],[1,"status-chips",3,"selectionChange","value"],["value","all"],["value","due"],["value","clear"],[1,"filter-actions"],["mat-stroked-button","","color","accent",1,"ghost-button",3,"routerLink"],["d","M3 3h8v8H3V3zm10 0h8v8h-8V3zM3 13h8v8H3v-8zm10 5h8v3h-8v-3zm0-5h8v3h-8v-3z","fill","currentColor"],["d","M4 6c0 1.66 3.58 3 8 3s8-1.34 8-3-3.58-3-8-3-8 1.34-8 3zm0 4c0 1.66 3.58 3 8 3s8-1.34 8-3V8c-1.73 1.27-5.02 2-8 2s-6.27-.73-8-2v2zm0 4c0 1.66 3.58 3 8 3s8-1.34 8-3v-2c-1.73 1.27-5.02 2-8 2s-6.27-.73-8-2v2z","fill","currentColor"],["d","M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z","fill","currentColor"],["d","M12 2 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-3zm0 2.18L18.59 6 12 7.82 5.41 6 12 4.18zM5 8.47l7 1.91 7-1.91v2.53c0 4.24-2.7 8.28-7 9.66-4.3-1.38-7-5.42-7-9.66V8.47z","fill","currentColor"],["mat-stroked-button","","color","accent",1,"ghost-button",3,"click"],["d","M5 20h14v-2H5v2zm7-16-4 4h3v4h2v-4h3l-4-4z","fill","currentColor"],[1,"table-card","mat-elevation-z2","desktop-only"],[1,"table-wrap"],["mat-table","","matSort","","matSortDisableClear","",1,"fees-table",3,"dataSource"],["matColumnDef","student"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","class"],["matColumnDef","balance"],["matColumnDef","lastPaid"],["matColumnDef","status"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","empty-state",4,"matNoDataRow"],["showFirstLastButtons","",3,"pageSize","pageSizeOptions"],[1,"mobile-only","mobile-card-list"],["class","mobile-card",4,"ngFor","ngForOf"],[1,"router-outlet-wrap"],["matSuffix","","mat-icon-button","","aria-label","Clear search",3,"click"],["d","M18.3 5.71 12 12l6.3 6.29-1.41 1.42L12 13.41l-4.89 4.9-1.41-1.42L10.59 12 4.29 5.71 5.7 4.29 12 10.59l6.29-6.3z","fill","currentColor"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"cell-title"],[1,"cell-meta"],["mat-header-cell",""],[1,"status-chip",3,"color"],[1,"action-row"],["appearance","fill",1,"compact-number"],["matInput","","type","number","min","0",3,"ngModelChange","ngModel"],["mat-flat-button","","color","accent",1,"record-btn",3,"click","disabled"],["d","M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm-2 15-4-4 1.41-1.41L10 14.17l6.59-6.58L18 9l-8 8z","fill","currentColor"],["mat-header-row",""],["mat-row",""],[1,"empty-state"],[1,"fee-empty"],[1,"mobile-card"],[1,"card-row"],["selected","",3,"color"],[1,"cell-strong"],["mat-stroked-button","","color","primary",3,"click","disabled"]],template:function(t,n){t&1&&(c.\u0275\u0275elementStart(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"div",3),c.\u0275\u0275text(4,"Finance"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(5,"div",4),c.\u0275\u0275text(6,"Fee Management"),c.\u0275\u0275elementEnd()(),c.\u0275\u0275element(7,"span",5),c.\u0275\u0275elementStart(8,"div",6)(9,"button",7),c.\u0275\u0275namespaceSVG(),c.\u0275\u0275elementStart(10,"svg",8),c.\u0275\u0275element(11,"path",9),c.\u0275\u0275elementEnd(),c.\u0275\u0275text(12," History "),c.\u0275\u0275elementEnd(),c.\u0275\u0275namespaceHTML(),c.\u0275\u0275elementStart(13,"button",10),c.\u0275\u0275namespaceSVG(),c.\u0275\u0275elementStart(14,"svg",8),c.\u0275\u0275element(15,"path",11),c.\u0275\u0275elementEnd(),c.\u0275\u0275text(16," Collect Fee "),c.\u0275\u0275elementEnd()()(),c.\u0275\u0275namespaceHTML(),c.\u0275\u0275elementStart(17,"div",12)(18,"mat-card",13)(19,"div",14),c.\u0275\u0275namespaceSVG(),c.\u0275\u0275elementStart(20,"svg",8),c.\u0275\u0275element(21,"path",11),c.\u0275\u0275elementEnd()(),c.\u0275\u0275namespaceHTML(),c.\u0275\u0275elementStart(22,"div",15)(23,"div",16),c.\u0275\u0275text(24,"Outstanding"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(25,"div",17),c.\u0275\u0275text(26),c.\u0275\u0275pipe(27,"currency"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(28,"div",18),c.\u0275\u0275text(29),c.\u0275\u0275elementEnd()()(),c.\u0275\u0275elementStart(30,"mat-card",13)(31,"div",19),c.\u0275\u0275namespaceSVG(),c.\u0275\u0275elementStart(32,"svg",8),c.\u0275\u0275element(33,"path",20),c.\u0275\u0275elementEnd()(),c.\u0275\u0275namespaceHTML(),c.\u0275\u0275elementStart(34,"div",15)(35,"div",16),c.\u0275\u0275text(36,"Due students"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(37,"div",21),c.\u0275\u0275text(38),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(39,"div",18),c.\u0275\u0275text(40),c.\u0275\u0275elementEnd(),c.\u0275\u0275element(41,"mat-progress-bar",22),c.\u0275\u0275elementEnd()(),c.\u0275\u0275elementStart(42,"mat-card",13)(43,"div",23),c.\u0275\u0275namespaceSVG(),c.\u0275\u0275elementStart(44,"svg",8),c.\u0275\u0275element(45,"path",24),c.\u0275\u0275elementEnd()(),c.\u0275\u0275namespaceHTML(),c.\u0275\u0275elementStart(46,"div",15)(47,"div",16),c.\u0275\u0275text(48,"Latest payment"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(49,"div",17),c.\u0275\u0275text(50),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(51,"div",18),c.\u0275\u0275text(52,"Refresh after collection"),c.\u0275\u0275elementEnd()()()(),c.\u0275\u0275elementStart(53,"mat-card",25)(54,"div",26)(55,"mat-form-field",27)(56,"mat-label"),c.\u0275\u0275text(57,"Search student"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(58,"span",28),c.\u0275\u0275namespaceSVG(),c.\u0275\u0275elementStart(59,"svg",8),c.\u0275\u0275element(60,"path",29),c.\u0275\u0275elementEnd()(),c.\u0275\u0275namespaceHTML(),c.\u0275\u0275elementStart(61,"input",30),c.\u0275\u0275twoWayListener("ngModelChange",function(o){return c.\u0275\u0275twoWayBindingSet(n.search,o)||(n.search=o),o}),c.\u0275\u0275listener("ngModelChange",function(){return n.applyFilters()}),c.\u0275\u0275elementEnd(),c.\u0275\u0275template(62,Fc,3,0,"button",31),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(63,"mat-chip-listbox",32),c.\u0275\u0275listener("selectionChange",function(o){return n.onStatusChange(o)}),c.\u0275\u0275elementStart(64,"mat-chip-option",33),c.\u0275\u0275text(65,"All"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(66,"mat-chip-option",34),c.\u0275\u0275text(67,"Due"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(68,"mat-chip-option",35),c.\u0275\u0275text(69,"Clear"),c.\u0275\u0275elementEnd()(),c.\u0275\u0275elementStart(70,"div",36)(71,"button",37),c.\u0275\u0275namespaceSVG(),c.\u0275\u0275elementStart(72,"svg",8),c.\u0275\u0275element(73,"path",38),c.\u0275\u0275elementEnd(),c.\u0275\u0275text(74," Categories "),c.\u0275\u0275elementEnd(),c.\u0275\u0275namespaceHTML(),c.\u0275\u0275elementStart(75,"button",37),c.\u0275\u0275namespaceSVG(),c.\u0275\u0275elementStart(76,"svg",8),c.\u0275\u0275element(77,"path",39),c.\u0275\u0275elementEnd(),c.\u0275\u0275text(78," Structure "),c.\u0275\u0275elementEnd(),c.\u0275\u0275namespaceHTML(),c.\u0275\u0275elementStart(79,"button",37),c.\u0275\u0275namespaceSVG(),c.\u0275\u0275elementStart(80,"svg",8),c.\u0275\u0275element(81,"path",40),c.\u0275\u0275elementEnd(),c.\u0275\u0275text(82," My Fees "),c.\u0275\u0275elementEnd(),c.\u0275\u0275namespaceHTML(),c.\u0275\u0275elementStart(83,"button",37),c.\u0275\u0275namespaceSVG(),c.\u0275\u0275elementStart(84,"svg",8),c.\u0275\u0275element(85,"path",41),c.\u0275\u0275elementEnd(),c.\u0275\u0275text(86," Discounts "),c.\u0275\u0275elementEnd(),c.\u0275\u0275namespaceHTML(),c.\u0275\u0275elementStart(87,"button",42),c.\u0275\u0275listener("click",function(){return n.exportCsv()}),c.\u0275\u0275namespaceSVG(),c.\u0275\u0275elementStart(88,"svg",8),c.\u0275\u0275element(89,"path",43),c.\u0275\u0275elementEnd(),c.\u0275\u0275text(90," Export CSV "),c.\u0275\u0275elementEnd()()()(),c.\u0275\u0275namespaceHTML(),c.\u0275\u0275elementStart(91,"mat-card",44)(92,"mat-card-title"),c.\u0275\u0275text(93,"Student balances"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(94,"mat-card-subtitle"),c.\u0275\u0275text(95,"Quickly check outstanding balances and record payments."),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(96,"div",45)(97,"table",46),c.\u0275\u0275elementContainerStart(98,47),c.\u0275\u0275template(99,Ac,2,0,"th",48)(100,Rc,5,2,"td",49),c.\u0275\u0275elementContainerEnd(),c.\u0275\u0275elementContainerStart(101,50),c.\u0275\u0275template(102,Nc,2,0,"th",48)(103,zc,2,1,"td",49),c.\u0275\u0275elementContainerEnd(),c.\u0275\u0275elementContainerStart(104,51),c.\u0275\u0275template(105,Bc,2,0,"th",48)(106,Lc,4,7,"td",49),c.\u0275\u0275elementContainerEnd(),c.\u0275\u0275elementContainerStart(107,52),c.\u0275\u0275template(108,Vc,2,0,"th",48)(109,Hc,2,1,"td",49),c.\u0275\u0275elementContainerEnd(),c.\u0275\u0275elementContainerStart(110,53),c.\u0275\u0275template(111,jc,2,0,"th",54)(112,Wc,3,2,"td",49),c.\u0275\u0275elementContainerEnd(),c.\u0275\u0275elementContainerStart(113,55),c.\u0275\u0275template(114,Uc,2,0,"th",54)(115,$c,10,2,"td",49),c.\u0275\u0275elementContainerEnd(),c.\u0275\u0275template(116,Gc,1,0,"tr",56)(117,qc,1,0,"tr",57)(118,Qc,4,1,"tr",58),c.\u0275\u0275elementEnd()(),c.\u0275\u0275element(119,"mat-paginator",59),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(120,"mat-card",60),c.\u0275\u0275template(121,Yc,18,10,"div",61),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(122,"div",62),c.\u0275\u0275element(123,"router-outlet"),c.\u0275\u0275elementEnd()()),t&2&&(c.\u0275\u0275advance(9),c.\u0275\u0275property("routerLink",c.\u0275\u0275pureFunction0(23,Oc)),c.\u0275\u0275advance(4),c.\u0275\u0275property("routerLink",c.\u0275\u0275pureFunction0(24,Sc)),c.\u0275\u0275advance(13),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(27,21,n.summary.outstanding)),c.\u0275\u0275advance(3),c.\u0275\u0275textInterpolate1("Across ",n.viewRows.length," students"),c.\u0275\u0275advance(9),c.\u0275\u0275textInterpolate(n.summary.dueCount),c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate1("Cleared: ",n.summary.clearedCount),c.\u0275\u0275advance(),c.\u0275\u0275property("value",n.collectionProgress),c.\u0275\u0275advance(9),c.\u0275\u0275textInterpolate(n.summary.latestPayment||"\u2014"),c.\u0275\u0275advance(11),c.\u0275\u0275twoWayProperty("ngModel",n.search),c.\u0275\u0275advance(),c.\u0275\u0275property("ngIf",n.search),c.\u0275\u0275advance(),c.\u0275\u0275property("value",n.statusFilter),c.\u0275\u0275advance(8),c.\u0275\u0275property("routerLink",c.\u0275\u0275pureFunction0(25,Ec)),c.\u0275\u0275advance(4),c.\u0275\u0275property("routerLink",c.\u0275\u0275pureFunction0(26,kc)),c.\u0275\u0275advance(4),c.\u0275\u0275property("routerLink",c.\u0275\u0275pureFunction0(27,Tc)),c.\u0275\u0275advance(4),c.\u0275\u0275property("routerLink",c.\u0275\u0275pureFunction0(28,Dc)),c.\u0275\u0275advance(14),c.\u0275\u0275property("dataSource",n.dataSource),c.\u0275\u0275advance(19),c.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),c.\u0275\u0275advance(),c.\u0275\u0275property("matRowDefColumns",n.displayedColumns),c.\u0275\u0275advance(2),c.\u0275\u0275property("pageSize",5)("pageSizeOptions",c.\u0275\u0275pureFunction0(29,Ic)),c.\u0275\u0275advance(2),c.\u0275\u0275property("ngForOf",n.dataSource.data))},dependencies:[xc,se.NgForOf,se.NgIf,Mc,St.DefaultValueAccessor,St.NumberValueAccessor,St.NgControlStatus,St.MinValidator,St.NgModel,vc,Kn.RouterOutlet,Kn.RouterLink,L,Xn.MatButton,Xn.MatIconButton,Et.MatInput,Et.MatFormField,Et.MatLabel,Et.MatPrefix,Et.MatSuffix,Q.MatTable,Q.MatHeaderCellDef,Q.MatHeaderRowDef,Q.MatColumnDef,Q.MatCellDef,Q.MatRowDef,Q.MatHeaderCell,Q.MatCell,Q.MatHeaderRow,Q.MatRow,Q.MatNoDataRow,ce.MatCard,ce.MatCardSubtitle,ce.MatCardTitle,Ja.MatToolbar,de.MatChip,de.MatChipListbox,de.MatChipOption,Ka.MatPaginator,ti.MatSort,ti.MatSortHeader,Xa.MatProgressBar,se.CurrencyPipe],styles:["[_nghost-%COMP%]{display:block}.fees-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:16px}.fees-toolbar[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(120deg,#3949ab,#1e88e5);color:#fff;padding:12px 16px}.toolbar-left[_ngcontent-%COMP%]   .eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.08em;font-size:12px;opacity:.9}.toolbar-left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.toolbar-actions[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.toolbar-actions[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled){background:#f8fafc;color:var(--brand-primary, #1e3a8a);border-color:#1e3a8a66;border-radius:12px}.toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled)   .mdc-button__label[_ngcontent-%COMP%], .toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled)   .mat-icon[_ngcontent-%COMP%]{color:var(--brand-primary, #1e3a8a)}.spacer[_ngcontent-%COMP%]{flex:1}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(190px,1fr));gap:12px}.metric-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:12px;align-items:center;border-radius:12px}.metric-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px;display:grid;place-items:center;color:#fff;background:#1976d229}.metric-icon.warn[_ngcontent-%COMP%]{background:#f443362e}.metric-icon.success[_ngcontent-%COMP%]{background:#2e7d322e}.metric-body[_ngcontent-%COMP%]{display:grid;gap:2px}.metric-label[_ngcontent-%COMP%]{font-size:13px;color:#6b7280;text-transform:uppercase;letter-spacing:.04em}.metric-value[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--brand-primary, #1e3a8a)}.metric-value.warn-text[_ngcontent-%COMP%]{color:var(--brand-warn, #f97316)}.metric-hint[_ngcontent-%COMP%]{color:#6b7280;font-size:13px}.filters-card[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(135deg,#4f46e514,#06b6d414);border:1px solid var(--brand-border, rgba(255, 255, 255, .12))}.filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.4fr auto auto;gap:12px;align-items:center}.full-width[_ngcontent-%COMP%]{width:100%}.search-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{background:#ffffff1a;box-shadow:0 8px 18px #0003}.icon-wrap[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.status-chips[_ngcontent-%COMP%]{display:flex;gap:8px}.status-chips[_ngcontent-%COMP%]   .mat-mdc-chip-option[_ngcontent-%COMP%]{border-radius:12px}.status-chips[_ngcontent-%COMP%]   .mat-mdc-chip-option.mat-mdc-chip-selected[_ngcontent-%COMP%]{background:#1e3a8a29;color:var(--brand-primary, #1e3a8a);border:1px solid rgba(30,58,138,.35)}.filter-actions[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:flex-end;flex-wrap:wrap}.filter-actions[_ngcontent-%COMP%]   .ghost-button.mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled){border-color:#4f46e573;color:var(--brand-primary, #1e3a8a);background:#ffffffc7;border-radius:12px;box-shadow:0 6px 16px #0000001f}.filter-actions[_ngcontent-%COMP%]   .ghost-button.mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled):hover{background:#ffffffe6;border-color:#4f46e5b3}.ghost-button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.table-card[_ngcontent-%COMP%]{border-radius:12px}.table-wrap[_ngcontent-%COMP%]{overflow-x:auto;margin-top:8px}.fees-table[_ngcontent-%COMP%]{min-width:720px}.fees-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.cell-title[_ngcontent-%COMP%]{font-weight:600}.cell-meta[_ngcontent-%COMP%]{color:var(--brand-muted, #94a3b8);font-size:12px}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.status-chip[_ngcontent-%COMP%]{height:28px;font-weight:600;border-radius:12px}.due[_ngcontent-%COMP%]{color:var(--brand-warn, #f97316);font-weight:700}.clear[_ngcontent-%COMP%]{color:var(--brand-success, #22c55e);font-weight:700}.action-row[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.compact-number[_ngcontent-%COMP%]{width:140px}.compact-number[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{padding-inline:8px;background:#ffffff14;border-radius:12px}.compact-number[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding:4px 0 8px}.record-btn.mat-mdc-unelevated-button[_ngcontent-%COMP%]:not(:disabled){background:linear-gradient(135deg,var(--brand-accent, #06b6d4),var(--brand-accent-strong, #0ea5c6));color:#0b1221;font-weight:700;border-radius:12px;box-shadow:0 8px 18px #06b6d459}.record-btn[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%], .record-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#0b1221}.record-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.structure-page[_ngcontent-%COMP%]{padding:0}.structure-header[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap;margin-bottom:12px}.structure-header[_ngcontent-%COMP%]   .class-select[_ngcontent-%COMP%]{min-width:180px}.structure-input[_ngcontent-%COMP%]{width:100%}.structure-page[_ngcontent-%COMP%]   .fees-table[_ngcontent-%COMP%]{min-width:680px}.mat-mdc-chip.mat-mdc-standard-chip[_ngcontent-%COMP%]{background:#ffffff14;border:1px solid var(--brand-border, rgba(255, 255, 255, .12))}.fee-empty[_ngcontent-%COMP%]{padding:1rem;text-align:center;color:#6b7280}.router-outlet-wrap[_ngcontent-%COMP%]{margin-top:8px}.exam-form[_ngcontent-%COMP%], .fee-form[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]{padding:.6rem;background:#fff;border-radius:8px;box-shadow:0 1px 6px #0000000a;margin-bottom:.6rem}.fee-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #edf2f7;border-radius:8px;padding:.6rem;box-shadow:0 1px 6px #0000000a}.fee-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;padding:.5rem 0}.fee-row-label[_ngcontent-%COMP%]{flex:1}.fee-row-fine[_ngcontent-%COMP%]{color:#718096;min-width:60px;text-align:right}.btn[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem .75rem}@media(max-width:1024px){.filter-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.fees-table[_ngcontent-%COMP%]{min-width:600px}.toolbar-actions[_ngcontent-%COMP%]{flex-wrap:wrap}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:8px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}}@media(max-width:640px){.fees-page[_ngcontent-%COMP%]{padding:12px}.summary-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.fees-table[_ngcontent-%COMP%]{min-width:520px}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}}"]})};import{CommonModule as Zc}from"@angular/common";import{FormsModule as Jc}from"@angular/forms";import*as N from"@angular/core";import*as ei from"@angular/core";var Mt=class i{constructor(e){this.mock=e}getFeeCategories(){return[{id:"tuition",name:"Tuition",description:"Annual tuition fee",type:"Annual",status:"active"},{id:"transport",name:"Transport",description:"Bus facility fee",type:"Monthly",status:"active"}]}getClassFeeStructure(e){return[{head:"Tuition",amount:2e4,frequency:"Annual",optional:!1},{head:"Books",amount:2500,frequency:"Annual",optional:!1},{head:"Transport",amount:1e3,frequency:"Monthly",optional:!0}]}getStudentFees(e){return{outstanding:this.mock.getFees().find(o=>o.studentId===e)||{studentId:e,balance:0,lastPaid:null},history:[{date:"2025-08-05",receipt:"R-001",mode:"Cash",amount:12700},{date:"2025-04-10",receipt:"R-002",mode:"Online",amount:15e3}]}}getStudents(){return this.mock.getStudents()}getFees(){return this.mock.getFees()}collectFee(e,t,n){let a=t.reduce((v,I)=>v+(I.amount||0),0),o=new Date().toISOString().slice(0,10);return this.mock.payFee(e,a,o)}static \u0275fac=function(t){return new(t||i)(ei.\u0275\u0275inject(H))};static \u0275prov=ei.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"})};import*as to from"@angular/common";function Kc(i,e){if(i&1){let t=N.\u0275\u0275getCurrentView();N.\u0275\u0275elementStart(0,"tr")(1,"td"),N.\u0275\u0275text(2),N.\u0275\u0275elementEnd(),N.\u0275\u0275elementStart(3,"td"),N.\u0275\u0275text(4),N.\u0275\u0275elementEnd(),N.\u0275\u0275elementStart(5,"td"),N.\u0275\u0275text(6),N.\u0275\u0275elementEnd(),N.\u0275\u0275elementStart(7,"td"),N.\u0275\u0275text(8),N.\u0275\u0275elementEnd(),N.\u0275\u0275elementStart(9,"td",9)(10,"button",10),N.\u0275\u0275listener("click",function(){let a=N.\u0275\u0275restoreView(t).$implicit,o=N.\u0275\u0275nextContext();return N.\u0275\u0275resetView(o.deleteCategory(a.id))}),N.\u0275\u0275text(11,"Delete"),N.\u0275\u0275elementEnd()()()}if(i&2){let t=e.$implicit;N.\u0275\u0275advance(2),N.\u0275\u0275textInterpolate(t.name),N.\u0275\u0275advance(2),N.\u0275\u0275textInterpolate(t.description),N.\u0275\u0275advance(2),N.\u0275\u0275textInterpolate(t.type),N.\u0275\u0275advance(2),N.\u0275\u0275textInterpolate(t.status)}}var ln=class i{constructor(e){this.fee=e;this.categories=this.fee.getFeeCategories()}categories=[];newCat={name:"",description:"",type:"Annual",status:"active"};addCategory(){if(!this.newCat.name)return alert("Name required");this.categories.push(yt(U({},this.newCat),{id:Date.now().toString()})),this.newCat={name:"",description:"",type:"Annual",status:"active"}}deleteCategory(e){this.categories=this.categories.filter(t=>t.id!==e)}static \u0275fac=function(t){return new(t||i)(N.\u0275\u0275directiveInject(Mt))};static \u0275cmp=N.\u0275\u0275defineComponent({type:i,selectors:[["app-fee-categories"]],decls:28,vars:2,consts:[[1,"students-container"],[1,"students-header"],[1,"btn","btn-primary",3,"click"],[1,"students-table-container"],[1,"view-controls"],[1,"students-count"],[1,"table-scroll-container"],[1,"students-table"],[4,"ngFor","ngForOf"],[1,"actions-cell"],[1,"btn","btn-secondary",3,"click"]],template:function(t,n){t&1&&(N.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h2"),N.\u0275\u0275text(3,"Fee Categories"),N.\u0275\u0275elementEnd(),N.\u0275\u0275elementStart(4,"div")(5,"button",2),N.\u0275\u0275listener("click",function(){return n.addCategory()}),N.\u0275\u0275text(6,"+ Add Category"),N.\u0275\u0275elementEnd()()(),N.\u0275\u0275elementStart(7,"div",3)(8,"div",4)(9,"div",5)(10,"p"),N.\u0275\u0275text(11),N.\u0275\u0275elementEnd()()(),N.\u0275\u0275elementStart(12,"div",6)(13,"table",7)(14,"thead")(15,"tr")(16,"th"),N.\u0275\u0275text(17,"Category Name"),N.\u0275\u0275elementEnd(),N.\u0275\u0275elementStart(18,"th"),N.\u0275\u0275text(19,"Description"),N.\u0275\u0275elementEnd(),N.\u0275\u0275elementStart(20,"th"),N.\u0275\u0275text(21,"Type"),N.\u0275\u0275elementEnd(),N.\u0275\u0275elementStart(22,"th"),N.\u0275\u0275text(23,"Status"),N.\u0275\u0275elementEnd(),N.\u0275\u0275elementStart(24,"th"),N.\u0275\u0275text(25,"Actions"),N.\u0275\u0275elementEnd()()(),N.\u0275\u0275elementStart(26,"tbody"),N.\u0275\u0275template(27,Kc,12,4,"tr",8),N.\u0275\u0275elementEnd()()()()()),t&2&&(N.\u0275\u0275advance(11),N.\u0275\u0275textInterpolate1("",n.categories.length," categories"),N.\u0275\u0275advance(16),N.\u0275\u0275property("ngForOf",n.categories))},dependencies:[Zc,to.NgForOf,Jc],styles:["[_nghost-%COMP%]{display:block}.fees-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:16px}.fees-toolbar[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(120deg,#3949ab,#1e88e5);color:#fff;padding:12px 16px}.toolbar-left[_ngcontent-%COMP%]   .eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.08em;font-size:12px;opacity:.9}.toolbar-left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.toolbar-actions[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.toolbar-actions[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled){background:#f8fafc;color:var(--brand-primary, #1e3a8a);border-color:#1e3a8a66;border-radius:12px}.toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled)   .mdc-button__label[_ngcontent-%COMP%], .toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled)   .mat-icon[_ngcontent-%COMP%]{color:var(--brand-primary, #1e3a8a)}.spacer[_ngcontent-%COMP%]{flex:1}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(190px,1fr));gap:12px}.metric-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:12px;align-items:center;border-radius:12px}.metric-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px;display:grid;place-items:center;color:#fff;background:#1976d229}.metric-icon.warn[_ngcontent-%COMP%]{background:#f443362e}.metric-icon.success[_ngcontent-%COMP%]{background:#2e7d322e}.metric-body[_ngcontent-%COMP%]{display:grid;gap:2px}.metric-label[_ngcontent-%COMP%]{font-size:13px;color:#6b7280;text-transform:uppercase;letter-spacing:.04em}.metric-value[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--brand-primary, #1e3a8a)}.metric-value.warn-text[_ngcontent-%COMP%]{color:var(--brand-warn, #f97316)}.metric-hint[_ngcontent-%COMP%]{color:#6b7280;font-size:13px}.filters-card[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(135deg,#4f46e514,#06b6d414);border:1px solid var(--brand-border, rgba(255, 255, 255, .12))}.filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.4fr auto auto;gap:12px;align-items:center}.full-width[_ngcontent-%COMP%]{width:100%}.search-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{background:#ffffff1a;box-shadow:0 8px 18px #0003}.icon-wrap[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.status-chips[_ngcontent-%COMP%]{display:flex;gap:8px}.status-chips[_ngcontent-%COMP%]   .mat-mdc-chip-option[_ngcontent-%COMP%]{border-radius:12px}.status-chips[_ngcontent-%COMP%]   .mat-mdc-chip-option.mat-mdc-chip-selected[_ngcontent-%COMP%]{background:#1e3a8a29;color:var(--brand-primary, #1e3a8a);border:1px solid rgba(30,58,138,.35)}.filter-actions[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:flex-end;flex-wrap:wrap}.filter-actions[_ngcontent-%COMP%]   .ghost-button.mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled){border-color:#4f46e573;color:var(--brand-primary, #1e3a8a);background:#ffffffc7;border-radius:12px;box-shadow:0 6px 16px #0000001f}.filter-actions[_ngcontent-%COMP%]   .ghost-button.mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled):hover{background:#ffffffe6;border-color:#4f46e5b3}.ghost-button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.table-card[_ngcontent-%COMP%]{border-radius:12px}.table-wrap[_ngcontent-%COMP%]{overflow-x:auto;margin-top:8px}.fees-table[_ngcontent-%COMP%]{min-width:720px}.fees-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.cell-title[_ngcontent-%COMP%]{font-weight:600}.cell-meta[_ngcontent-%COMP%]{color:var(--brand-muted, #94a3b8);font-size:12px}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.status-chip[_ngcontent-%COMP%]{height:28px;font-weight:600;border-radius:12px}.due[_ngcontent-%COMP%]{color:var(--brand-warn, #f97316);font-weight:700}.clear[_ngcontent-%COMP%]{color:var(--brand-success, #22c55e);font-weight:700}.action-row[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.compact-number[_ngcontent-%COMP%]{width:140px}.compact-number[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{padding-inline:8px;background:#ffffff14;border-radius:12px}.compact-number[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding:4px 0 8px}.record-btn.mat-mdc-unelevated-button[_ngcontent-%COMP%]:not(:disabled){background:linear-gradient(135deg,var(--brand-accent, #06b6d4),var(--brand-accent-strong, #0ea5c6));color:#0b1221;font-weight:700;border-radius:12px;box-shadow:0 8px 18px #06b6d459}.record-btn[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%], .record-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#0b1221}.record-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.structure-page[_ngcontent-%COMP%]{padding:0}.structure-header[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap;margin-bottom:12px}.structure-header[_ngcontent-%COMP%]   .class-select[_ngcontent-%COMP%]{min-width:180px}.structure-input[_ngcontent-%COMP%]{width:100%}.structure-page[_ngcontent-%COMP%]   .fees-table[_ngcontent-%COMP%]{min-width:680px}.mat-mdc-chip.mat-mdc-standard-chip[_ngcontent-%COMP%]{background:#ffffff14;border:1px solid var(--brand-border, rgba(255, 255, 255, .12))}.fee-empty[_ngcontent-%COMP%]{padding:1rem;text-align:center;color:#6b7280}.router-outlet-wrap[_ngcontent-%COMP%]{margin-top:8px}.exam-form[_ngcontent-%COMP%], .fee-form[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]{padding:.6rem;background:#fff;border-radius:8px;box-shadow:0 1px 6px #0000000a;margin-bottom:.6rem}.fee-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #edf2f7;border-radius:8px;padding:.6rem;box-shadow:0 1px 6px #0000000a}.fee-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;padding:.5rem 0}.fee-row-label[_ngcontent-%COMP%]{flex:1}.fee-row-fine[_ngcontent-%COMP%]{color:#718096;min-width:60px;text-align:right}.btn[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem .75rem}@media(max-width:1024px){.filter-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.fees-table[_ngcontent-%COMP%]{min-width:600px}.toolbar-actions[_ngcontent-%COMP%]{flex-wrap:wrap}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:8px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}}@media(max-width:640px){.fees-page[_ngcontent-%COMP%]{padding:12px}.summary-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.fees-table[_ngcontent-%COMP%]{min-width:520px}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}}"]})};import{CommonModule as Xc}from"@angular/common";import{FormsModule as td}from"@angular/forms";import*as S from"@angular/core";import*as ni from"@angular/common";import*as Rt from"@angular/forms";import*as eo from"@angular/material/button";import*as me from"@angular/material/input";import*as ii from"@angular/material/select";import*as ut from"@angular/material/table";import*as pe from"@angular/material/card";import*as no from"@angular/material/checkbox";import*as io from"@angular/material/chips";function ed(i,e){i&1&&(S.\u0275\u0275elementStart(0,"th",25),S.\u0275\u0275text(1,"Head"),S.\u0275\u0275elementEnd())}function nd(i,e){if(i&1){let t=S.\u0275\u0275getCurrentView();S.\u0275\u0275elementStart(0,"td",26)(1,"mat-form-field",27)(2,"mat-label"),S.\u0275\u0275text(3,"Fee head"),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(4,"input",28),S.\u0275\u0275twoWayListener("ngModelChange",function(a){let o=S.\u0275\u0275restoreView(t).$implicit;return S.\u0275\u0275twoWayBindingSet(o.head,a)||(o.head=a),S.\u0275\u0275resetView(a)}),S.\u0275\u0275elementEnd()()()}if(i&2){let t=e.$implicit;S.\u0275\u0275advance(4),S.\u0275\u0275twoWayProperty("ngModel",t.head)}}function id(i,e){i&1&&(S.\u0275\u0275elementStart(0,"th",25),S.\u0275\u0275text(1,"Amount"),S.\u0275\u0275elementEnd())}function ad(i,e){if(i&1){let t=S.\u0275\u0275getCurrentView();S.\u0275\u0275elementStart(0,"td",26)(1,"mat-form-field",29)(2,"mat-label"),S.\u0275\u0275text(3,"Amount"),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(4,"input",30),S.\u0275\u0275twoWayListener("ngModelChange",function(a){let o=S.\u0275\u0275restoreView(t).$implicit;return S.\u0275\u0275twoWayBindingSet(o.amount,a)||(o.amount=a),S.\u0275\u0275resetView(a)}),S.\u0275\u0275elementEnd()()()}if(i&2){let t=e.$implicit;S.\u0275\u0275advance(4),S.\u0275\u0275twoWayProperty("ngModel",t.amount)}}function od(i,e){i&1&&(S.\u0275\u0275elementStart(0,"th",25),S.\u0275\u0275text(1,"Frequency"),S.\u0275\u0275elementEnd())}function rd(i,e){if(i&1){let t=S.\u0275\u0275getCurrentView();S.\u0275\u0275elementStart(0,"td",26)(1,"mat-form-field",27)(2,"mat-label"),S.\u0275\u0275text(3,"Frequency"),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(4,"mat-select",4),S.\u0275\u0275twoWayListener("ngModelChange",function(a){let o=S.\u0275\u0275restoreView(t).$implicit;return S.\u0275\u0275twoWayBindingSet(o.frequency,a)||(o.frequency=a),S.\u0275\u0275resetView(a)}),S.\u0275\u0275elementStart(5,"mat-option",31),S.\u0275\u0275text(6,"Monthly"),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(7,"mat-option",32),S.\u0275\u0275text(8,"Quarterly"),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(9,"mat-option",33),S.\u0275\u0275text(10,"Annual"),S.\u0275\u0275elementEnd()()()()}if(i&2){let t=e.$implicit;S.\u0275\u0275advance(4),S.\u0275\u0275twoWayProperty("ngModel",t.frequency)}}function ld(i,e){i&1&&(S.\u0275\u0275elementStart(0,"th",25),S.\u0275\u0275text(1,"Optional"),S.\u0275\u0275elementEnd())}function sd(i,e){if(i&1){let t=S.\u0275\u0275getCurrentView();S.\u0275\u0275elementStart(0,"td",26)(1,"mat-checkbox",4),S.\u0275\u0275twoWayListener("ngModelChange",function(a){let o=S.\u0275\u0275restoreView(t).$implicit;return S.\u0275\u0275twoWayBindingSet(o.optional,a)||(o.optional=a),S.\u0275\u0275resetView(a)}),S.\u0275\u0275text(2,"Optional"),S.\u0275\u0275elementEnd()()}if(i&2){let t=e.$implicit;S.\u0275\u0275advance(),S.\u0275\u0275twoWayProperty("ngModel",t.optional)}}function cd(i,e){i&1&&S.\u0275\u0275element(0,"th",25)}function dd(i,e){if(i&1){let t=S.\u0275\u0275getCurrentView();S.\u0275\u0275elementStart(0,"td",26)(1,"button",34),S.\u0275\u0275listener("click",function(){let a=S.\u0275\u0275restoreView(t).index,o=S.\u0275\u0275nextContext();return S.\u0275\u0275resetView(o.removeHead(a))}),S.\u0275\u0275text(2," Remove "),S.\u0275\u0275elementEnd()()}}function md(i,e){i&1&&S.\u0275\u0275element(0,"tr",35)}function pd(i,e){i&1&&S.\u0275\u0275element(0,"tr",36)}function ud(i,e){if(i&1){let t=S.\u0275\u0275getCurrentView();S.\u0275\u0275elementStart(0,"div",37)(1,"div",38)(2,"div",39),S.\u0275\u0275text(3),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(4,"mat-chip",40),S.\u0275\u0275text(5),S.\u0275\u0275elementEnd()(),S.\u0275\u0275elementStart(6,"div",41),S.\u0275\u0275text(7),S.\u0275\u0275pipe(8,"currency"),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(9,"div",42),S.\u0275\u0275text(10),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(11,"div",43)(12,"button",34),S.\u0275\u0275listener("click",function(){let a=S.\u0275\u0275restoreView(t).index,o=S.\u0275\u0275nextContext();return S.\u0275\u0275resetView(o.removeHead(a))}),S.\u0275\u0275text(13,"Remove"),S.\u0275\u0275elementEnd()()()}if(i&2){let t=e.$implicit;S.\u0275\u0275advance(3),S.\u0275\u0275textInterpolate(t.head||"Fee head"),S.\u0275\u0275advance(2),S.\u0275\u0275textInterpolate(t.frequency),S.\u0275\u0275advance(2),S.\u0275\u0275textInterpolate(S.\u0275\u0275pipeBind1(8,4,t.amount)),S.\u0275\u0275advance(3),S.\u0275\u0275textInterpolate1("Optional: ",t.optional?"Yes":"No")}}var sn=class i{constructor(e){this.fee=e;this.structure=this.fee.getClassFeeStructure(this.classId)}classId="1A";structure=[];displayedColumns=["head","amount","frequency","optional","actions"];addHead(){this.structure.unshift({head:"New Head",amount:0,frequency:"Monthly",optional:!1})}removeHead(e){this.structure.splice(e,1)}static \u0275fac=function(t){return new(t||i)(S.\u0275\u0275directiveInject(Mt))};static \u0275cmp=S.\u0275\u0275defineComponent({type:i,selectors:[["app-fee-structure"]],decls:43,vars:5,consts:[[1,"fees-page","structure-page"],[1,"table-card","mat-elevation-z2","desktop-only"],[1,"structure-header"],["appearance","fill",1,"class-select"],[3,"ngModelChange","ngModel"],["value","1A"],["value","2A"],["value","3A"],["mat-flat-button","","color","accent",1,"record-btn",3,"click"],[1,"icon-wrap"],["viewBox","0 0 24 24",1,"icon"],["d","M11 5h2v6h6v2h-6v6h-2v-6H5v-2h6z","fill","currentColor"],[1,"table-wrap"],["mat-table","",1,"fees-table",3,"dataSource"],["matColumnDef","head"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","amount"],["matColumnDef","frequency"],["matColumnDef","optional"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"mobile-only","mobile-card-list"],["class","mobile-card",4,"ngFor","ngForOf"],["mat-header-cell",""],["mat-cell",""],["appearance","fill",1,"structure-input"],["matInput","",3,"ngModelChange","ngModel"],["appearance","fill",1,"structure-input","compact-number"],["matInput","","type","number",3,"ngModelChange","ngModel"],["value","Monthly"],["value","Quarterly"],["value","Annual"],["mat-stroked-button","","color","warn",1,"ghost-button",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mobile-card"],[1,"card-row"],[1,"cell-title"],["color","primary","selected",""],[1,"cell-strong"],[1,"cell-meta"],[1,"action-row"]],template:function(t,n){t&1&&(S.\u0275\u0275elementStart(0,"div",0)(1,"mat-card",1)(2,"mat-card-title"),S.\u0275\u0275text(3,"Fee structure"),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(4,"mat-card-subtitle"),S.\u0275\u0275text(5,"Per-class heads and amounts aligned with your finance palette."),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(6,"div",2)(7,"mat-form-field",3)(8,"mat-label"),S.\u0275\u0275text(9,"Class"),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(10,"mat-select",4),S.\u0275\u0275twoWayListener("ngModelChange",function(o){return S.\u0275\u0275twoWayBindingSet(n.classId,o)||(n.classId=o),o}),S.\u0275\u0275elementStart(11,"mat-option",5),S.\u0275\u0275text(12,"1A"),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(13,"mat-option",6),S.\u0275\u0275text(14,"2A"),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(15,"mat-option",7),S.\u0275\u0275text(16,"3A"),S.\u0275\u0275elementEnd()()(),S.\u0275\u0275elementStart(17,"button",8),S.\u0275\u0275listener("click",function(){return n.addHead()}),S.\u0275\u0275elementStart(18,"span",9),S.\u0275\u0275namespaceSVG(),S.\u0275\u0275elementStart(19,"svg",10),S.\u0275\u0275element(20,"path",11),S.\u0275\u0275elementEnd()(),S.\u0275\u0275text(21," Add head "),S.\u0275\u0275elementEnd()(),S.\u0275\u0275namespaceHTML(),S.\u0275\u0275elementStart(22,"div",12)(23,"table",13),S.\u0275\u0275elementContainerStart(24,14),S.\u0275\u0275template(25,ed,2,0,"th",15)(26,nd,5,1,"td",16),S.\u0275\u0275elementContainerEnd(),S.\u0275\u0275elementContainerStart(27,17),S.\u0275\u0275template(28,id,2,0,"th",15)(29,ad,5,1,"td",16),S.\u0275\u0275elementContainerEnd(),S.\u0275\u0275elementContainerStart(30,18),S.\u0275\u0275template(31,od,2,0,"th",15)(32,rd,11,1,"td",16),S.\u0275\u0275elementContainerEnd(),S.\u0275\u0275elementContainerStart(33,19),S.\u0275\u0275template(34,ld,2,0,"th",15)(35,sd,3,1,"td",16),S.\u0275\u0275elementContainerEnd(),S.\u0275\u0275elementContainerStart(36,20),S.\u0275\u0275template(37,cd,1,0,"th",15)(38,dd,3,0,"td",16),S.\u0275\u0275elementContainerEnd(),S.\u0275\u0275template(39,md,1,0,"tr",21)(40,pd,1,0,"tr",22),S.\u0275\u0275elementEnd()()(),S.\u0275\u0275elementStart(41,"mat-card",23),S.\u0275\u0275template(42,ud,14,6,"div",24),S.\u0275\u0275elementEnd()()),t&2&&(S.\u0275\u0275advance(10),S.\u0275\u0275twoWayProperty("ngModel",n.classId),S.\u0275\u0275advance(13),S.\u0275\u0275property("dataSource",n.structure),S.\u0275\u0275advance(16),S.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),S.\u0275\u0275advance(),S.\u0275\u0275property("matRowDefColumns",n.displayedColumns),S.\u0275\u0275advance(2),S.\u0275\u0275property("ngForOf",n.structure))},dependencies:[Xc,ni.NgForOf,td,Rt.DefaultValueAccessor,Rt.NumberValueAccessor,Rt.NgControlStatus,Rt.NgModel,L,eo.MatButton,me.MatInput,me.MatFormField,me.MatLabel,ii.MatSelect,ii.MatOption,ut.MatTable,ut.MatHeaderCellDef,ut.MatHeaderRowDef,ut.MatColumnDef,ut.MatCellDef,ut.MatRowDef,ut.MatHeaderCell,ut.MatCell,ut.MatHeaderRow,ut.MatRow,pe.MatCard,pe.MatCardSubtitle,pe.MatCardTitle,no.MatCheckbox,io.MatChip,ni.CurrencyPipe],styles:["[_nghost-%COMP%]{display:block}.fees-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:16px}.fees-toolbar[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(120deg,#3949ab,#1e88e5);color:#fff;padding:12px 16px}.toolbar-left[_ngcontent-%COMP%]   .eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.08em;font-size:12px;opacity:.9}.toolbar-left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.toolbar-actions[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.toolbar-actions[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled){background:#f8fafc;color:var(--brand-primary, #1e3a8a);border-color:#1e3a8a66;border-radius:12px}.toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled)   .mdc-button__label[_ngcontent-%COMP%], .toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled)   .mat-icon[_ngcontent-%COMP%]{color:var(--brand-primary, #1e3a8a)}.spacer[_ngcontent-%COMP%]{flex:1}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(190px,1fr));gap:12px}.metric-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:12px;align-items:center;border-radius:12px}.metric-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px;display:grid;place-items:center;color:#fff;background:#1976d229}.metric-icon.warn[_ngcontent-%COMP%]{background:#f443362e}.metric-icon.success[_ngcontent-%COMP%]{background:#2e7d322e}.metric-body[_ngcontent-%COMP%]{display:grid;gap:2px}.metric-label[_ngcontent-%COMP%]{font-size:13px;color:#6b7280;text-transform:uppercase;letter-spacing:.04em}.metric-value[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--brand-primary, #1e3a8a)}.metric-value.warn-text[_ngcontent-%COMP%]{color:var(--brand-warn, #f97316)}.metric-hint[_ngcontent-%COMP%]{color:#6b7280;font-size:13px}.filters-card[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(135deg,#4f46e514,#06b6d414);border:1px solid var(--brand-border, rgba(255, 255, 255, .12))}.filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.4fr auto auto;gap:12px;align-items:center}.full-width[_ngcontent-%COMP%]{width:100%}.search-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{background:#ffffff1a;box-shadow:0 8px 18px #0003}.icon-wrap[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.status-chips[_ngcontent-%COMP%]{display:flex;gap:8px}.status-chips[_ngcontent-%COMP%]   .mat-mdc-chip-option[_ngcontent-%COMP%]{border-radius:12px}.status-chips[_ngcontent-%COMP%]   .mat-mdc-chip-option.mat-mdc-chip-selected[_ngcontent-%COMP%]{background:#1e3a8a29;color:var(--brand-primary, #1e3a8a);border:1px solid rgba(30,58,138,.35)}.filter-actions[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:flex-end;flex-wrap:wrap}.filter-actions[_ngcontent-%COMP%]   .ghost-button.mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled){border-color:#4f46e573;color:var(--brand-primary, #1e3a8a);background:#ffffffc7;border-radius:12px;box-shadow:0 6px 16px #0000001f}.filter-actions[_ngcontent-%COMP%]   .ghost-button.mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled):hover{background:#ffffffe6;border-color:#4f46e5b3}.ghost-button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.table-card[_ngcontent-%COMP%]{border-radius:12px}.table-wrap[_ngcontent-%COMP%]{overflow-x:auto;margin-top:8px}.fees-table[_ngcontent-%COMP%]{min-width:720px}.fees-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.cell-title[_ngcontent-%COMP%]{font-weight:600}.cell-meta[_ngcontent-%COMP%]{color:var(--brand-muted, #94a3b8);font-size:12px}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.status-chip[_ngcontent-%COMP%]{height:28px;font-weight:600;border-radius:12px}.due[_ngcontent-%COMP%]{color:var(--brand-warn, #f97316);font-weight:700}.clear[_ngcontent-%COMP%]{color:var(--brand-success, #22c55e);font-weight:700}.action-row[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.compact-number[_ngcontent-%COMP%]{width:140px}.compact-number[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{padding-inline:8px;background:#ffffff14;border-radius:12px}.compact-number[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding:4px 0 8px}.record-btn.mat-mdc-unelevated-button[_ngcontent-%COMP%]:not(:disabled){background:linear-gradient(135deg,var(--brand-accent, #06b6d4),var(--brand-accent-strong, #0ea5c6));color:#0b1221;font-weight:700;border-radius:12px;box-shadow:0 8px 18px #06b6d459}.record-btn[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%], .record-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#0b1221}.record-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.structure-page[_ngcontent-%COMP%]{padding:0}.structure-header[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap;margin-bottom:12px}.structure-header[_ngcontent-%COMP%]   .class-select[_ngcontent-%COMP%]{min-width:180px}.structure-input[_ngcontent-%COMP%]{width:100%}.structure-page[_ngcontent-%COMP%]   .fees-table[_ngcontent-%COMP%]{min-width:680px}.mat-mdc-chip.mat-mdc-standard-chip[_ngcontent-%COMP%]{background:#ffffff14;border:1px solid var(--brand-border, rgba(255, 255, 255, .12))}.fee-empty[_ngcontent-%COMP%]{padding:1rem;text-align:center;color:#6b7280}.router-outlet-wrap[_ngcontent-%COMP%]{margin-top:8px}.exam-form[_ngcontent-%COMP%], .fee-form[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]{padding:.6rem;background:#fff;border-radius:8px;box-shadow:0 1px 6px #0000000a;margin-bottom:.6rem}.fee-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #edf2f7;border-radius:8px;padding:.6rem;box-shadow:0 1px 6px #0000000a}.fee-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;padding:.5rem 0}.fee-row-label[_ngcontent-%COMP%]{flex:1}.fee-row-fine[_ngcontent-%COMP%]{color:#718096;min-width:60px;text-align:right}.btn[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem .75rem}@media(max-width:1024px){.filter-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.fees-table[_ngcontent-%COMP%]{min-width:600px}.toolbar-actions[_ngcontent-%COMP%]{flex-wrap:wrap}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:8px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}}@media(max-width:640px){.fees-page[_ngcontent-%COMP%]{padding:12px}.summary-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.fees-table[_ngcontent-%COMP%]{min-width:520px}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}}",".desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:6px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}.mobile-card[_ngcontent-%COMP%]   .cell-meta[_ngcontent-%COMP%]{color:#6b7280;font-size:12px}@media(max-width:768px){.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}}"]})};import{CommonModule as gd}from"@angular/common";import{FormsModule as fd}from"@angular/forms";import*as F from"@angular/core";import*as ai from"@angular/common";import*as bt from"@angular/forms";function _d(i,e){if(i&1){let t=F.\u0275\u0275getCurrentView();F.\u0275\u0275elementStart(0,"tr")(1,"td"),F.\u0275\u0275text(2),F.\u0275\u0275elementEnd(),F.\u0275\u0275elementStart(3,"td"),F.\u0275\u0275text(4),F.\u0275\u0275elementEnd(),F.\u0275\u0275elementStart(5,"td"),F.\u0275\u0275text(6),F.\u0275\u0275elementEnd(),F.\u0275\u0275elementStart(7,"td")(8,"button",3),F.\u0275\u0275listener("click",function(){let a=F.\u0275\u0275restoreView(t).$implicit,o=F.\u0275\u0275nextContext(2);return F.\u0275\u0275resetView(o.openCollect(a))}),F.\u0275\u0275text(9,"Collect Fee"),F.\u0275\u0275elementEnd()()()}if(i&2){let t=e.$implicit,n=F.\u0275\u0275nextContext(2);F.\u0275\u0275advance(2),F.\u0275\u0275textInterpolate2("",t.firstName," ",t.lastName),F.\u0275\u0275advance(2),F.\u0275\u0275textInterpolate(t.class),F.\u0275\u0275advance(2),F.\u0275\u0275textInterpolate(n.studentOutstanding(t.id))}}function bd(i,e){if(i&1&&(F.\u0275\u0275elementStart(0,"div")(1,"div",6)(2,"div",7)(3,"table",8)(4,"thead")(5,"tr")(6,"th"),F.\u0275\u0275text(7,"Student Name"),F.\u0275\u0275elementEnd(),F.\u0275\u0275elementStart(8,"th"),F.\u0275\u0275text(9,"Class"),F.\u0275\u0275elementEnd(),F.\u0275\u0275elementStart(10,"th"),F.\u0275\u0275text(11,"Outstanding"),F.\u0275\u0275elementEnd(),F.\u0275\u0275elementStart(12,"th"),F.\u0275\u0275text(13,"Action"),F.\u0275\u0275elementEnd()()(),F.\u0275\u0275elementStart(14,"tbody"),F.\u0275\u0275template(15,_d,10,4,"tr",9),F.\u0275\u0275elementEnd()()()()()),i&2){let t=F.\u0275\u0275nextContext();F.\u0275\u0275advance(15),F.\u0275\u0275property("ngForOf",t.results)}}function hd(i,e){if(i&1){let t=F.\u0275\u0275getCurrentView();F.\u0275\u0275elementStart(0,"div",14)(1,"div",15),F.\u0275\u0275text(2),F.\u0275\u0275elementEnd(),F.\u0275\u0275elementStart(3,"div")(4,"input",16),F.\u0275\u0275twoWayListener("ngModelChange",function(a){let o=F.\u0275\u0275restoreView(t).$implicit;return F.\u0275\u0275twoWayBindingSet(o.amount,a)||(o.amount=a),F.\u0275\u0275resetView(a)}),F.\u0275\u0275elementEnd()(),F.\u0275\u0275elementStart(5,"div",17),F.\u0275\u0275text(6),F.\u0275\u0275elementEnd()()}if(i&2){let t=e.$implicit;F.\u0275\u0275advance(2),F.\u0275\u0275textInterpolate(t.head),F.\u0275\u0275advance(2),F.\u0275\u0275twoWayProperty("ngModel",t.amount),F.\u0275\u0275advance(2),F.\u0275\u0275textInterpolate(t.fine)}}function Cd(i,e){if(i&1){let t=F.\u0275\u0275getCurrentView();F.\u0275\u0275elementStart(0,"div",10)(1,"h3"),F.\u0275\u0275text(2),F.\u0275\u0275elementEnd(),F.\u0275\u0275template(3,hd,7,3,"div",11),F.\u0275\u0275elementStart(4,"div",12)(5,"label"),F.\u0275\u0275text(6,"Payment Method "),F.\u0275\u0275elementStart(7,"select",13),F.\u0275\u0275twoWayListener("ngModelChange",function(a){F.\u0275\u0275restoreView(t);let o=F.\u0275\u0275nextContext();return F.\u0275\u0275twoWayBindingSet(o.method,a)||(o.method=a),F.\u0275\u0275resetView(a)}),F.\u0275\u0275elementStart(8,"option"),F.\u0275\u0275text(9,"Cash"),F.\u0275\u0275elementEnd(),F.\u0275\u0275elementStart(10,"option"),F.\u0275\u0275text(11,"Online"),F.\u0275\u0275elementEnd(),F.\u0275\u0275elementStart(12,"option"),F.\u0275\u0275text(13,"Cheque"),F.\u0275\u0275elementEnd()()(),F.\u0275\u0275elementStart(14,"button",3),F.\u0275\u0275listener("click",function(){F.\u0275\u0275restoreView(t);let a=F.\u0275\u0275nextContext();return F.\u0275\u0275resetView(a.collect())}),F.\u0275\u0275text(15,"Generate Receipt"),F.\u0275\u0275elementEnd()()()}if(i&2){let t=F.\u0275\u0275nextContext();F.\u0275\u0275advance(2),F.\u0275\u0275textInterpolate2("Collect for ",t.selected.firstName," ",t.selected.lastName),F.\u0275\u0275advance(),F.\u0275\u0275property("ngForOf",t.payments),F.\u0275\u0275advance(4),F.\u0275\u0275twoWayProperty("ngModel",t.method)}}var ue=class i{constructor(e){this.fee=e}search="";results=[];selected=null;payments=[];amountPaid=0;method="Cash";searchStudent(){this.results=this.fee.getStudents().filter(e=>(e.firstName||"").toLowerCase().includes(this.search.toLowerCase()))}openCollect(e){this.selected=e;let t=this.fee.getFees().find(n=>n.studentId===e.id)||{balance:0};this.payments=[{head:"Outstanding",amount:t.balance||0,fine:0}],this.amountPaid=this.payments.reduce((n,a)=>n+(a.amount||0),0)}studentOutstanding(e){let t=this.fee.getFees().find(n=>n.studentId===e);return t&&Number(t.balance)||0}collect(){if(!this.selected)return alert("Select a student");let e=this.fee.collectFee(this.selected.id,this.payments.map(t=>({head:t.head,amount:Number(t.amount)})),this.method);alert("Collected: "+JSON.stringify(e)),this.selected=null,this.results=[],this.search=""}static \u0275fac=function(t){return new(t||i)(F.\u0275\u0275directiveInject(Mt))};static \u0275cmp=F.\u0275\u0275defineComponent({type:i,selectors:[["app-collect-fee"]],decls:10,vars:3,consts:[[1,"students-container"],[1,"students-header"],["placeholder","Search by name / roll",1,"form-input",3,"ngModelChange","ngModel"],[1,"btn","btn-primary",3,"click"],[4,"ngIf"],["class","students-table-container fee-card","style","margin-top:1rem;",4,"ngIf"],[1,"students-table-container"],[1,"table-scroll-container"],[1,"students-table"],[4,"ngFor","ngForOf"],[1,"students-table-container","fee-card",2,"margin-top","1rem"],["class","fee-row",4,"ngFor","ngForOf"],[2,"margin-top","0.5rem"],[1,"form-select",3,"ngModelChange","ngModel"],[1,"fee-row"],[1,"fee-row-label"],["type","number",1,"form-input",3,"ngModelChange","ngModel"],[1,"fee-row-fine"]],template:function(t,n){t&1&&(F.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h2"),F.\u0275\u0275text(3,"Collect Fee"),F.\u0275\u0275elementEnd(),F.\u0275\u0275elementStart(4,"div")(5,"input",2),F.\u0275\u0275twoWayListener("ngModelChange",function(o){return F.\u0275\u0275twoWayBindingSet(n.search,o)||(n.search=o),o}),F.\u0275\u0275elementEnd(),F.\u0275\u0275elementStart(6,"button",3),F.\u0275\u0275listener("click",function(){return n.searchStudent()}),F.\u0275\u0275text(7,"Search"),F.\u0275\u0275elementEnd()()(),F.\u0275\u0275template(8,bd,16,1,"div",4)(9,Cd,16,4,"div",5),F.\u0275\u0275elementEnd()),t&2&&(F.\u0275\u0275advance(5),F.\u0275\u0275twoWayProperty("ngModel",n.search),F.\u0275\u0275advance(3),F.\u0275\u0275property("ngIf",n.results.length),F.\u0275\u0275advance(),F.\u0275\u0275property("ngIf",n.selected))},dependencies:[gd,ai.NgForOf,ai.NgIf,fd,bt.NgSelectOption,bt.\u0275NgSelectMultipleOption,bt.DefaultValueAccessor,bt.NumberValueAccessor,bt.SelectControlValueAccessor,bt.NgControlStatus,bt.NgModel],styles:["[_nghost-%COMP%]{display:block}.fees-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:16px}.fees-toolbar[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(120deg,#3949ab,#1e88e5);color:#fff;padding:12px 16px}.toolbar-left[_ngcontent-%COMP%]   .eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.08em;font-size:12px;opacity:.9}.toolbar-left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.toolbar-actions[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.toolbar-actions[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled){background:#f8fafc;color:var(--brand-primary, #1e3a8a);border-color:#1e3a8a66;border-radius:12px}.toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled)   .mdc-button__label[_ngcontent-%COMP%], .toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled)   .mat-icon[_ngcontent-%COMP%]{color:var(--brand-primary, #1e3a8a)}.spacer[_ngcontent-%COMP%]{flex:1}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(190px,1fr));gap:12px}.metric-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:12px;align-items:center;border-radius:12px}.metric-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px;display:grid;place-items:center;color:#fff;background:#1976d229}.metric-icon.warn[_ngcontent-%COMP%]{background:#f443362e}.metric-icon.success[_ngcontent-%COMP%]{background:#2e7d322e}.metric-body[_ngcontent-%COMP%]{display:grid;gap:2px}.metric-label[_ngcontent-%COMP%]{font-size:13px;color:#6b7280;text-transform:uppercase;letter-spacing:.04em}.metric-value[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--brand-primary, #1e3a8a)}.metric-value.warn-text[_ngcontent-%COMP%]{color:var(--brand-warn, #f97316)}.metric-hint[_ngcontent-%COMP%]{color:#6b7280;font-size:13px}.filters-card[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(135deg,#4f46e514,#06b6d414);border:1px solid var(--brand-border, rgba(255, 255, 255, .12))}.filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.4fr auto auto;gap:12px;align-items:center}.full-width[_ngcontent-%COMP%]{width:100%}.search-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{background:#ffffff1a;box-shadow:0 8px 18px #0003}.icon-wrap[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.status-chips[_ngcontent-%COMP%]{display:flex;gap:8px}.status-chips[_ngcontent-%COMP%]   .mat-mdc-chip-option[_ngcontent-%COMP%]{border-radius:12px}.status-chips[_ngcontent-%COMP%]   .mat-mdc-chip-option.mat-mdc-chip-selected[_ngcontent-%COMP%]{background:#1e3a8a29;color:var(--brand-primary, #1e3a8a);border:1px solid rgba(30,58,138,.35)}.filter-actions[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:flex-end;flex-wrap:wrap}.filter-actions[_ngcontent-%COMP%]   .ghost-button.mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled){border-color:#4f46e573;color:var(--brand-primary, #1e3a8a);background:#ffffffc7;border-radius:12px;box-shadow:0 6px 16px #0000001f}.filter-actions[_ngcontent-%COMP%]   .ghost-button.mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled):hover{background:#ffffffe6;border-color:#4f46e5b3}.ghost-button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.table-card[_ngcontent-%COMP%]{border-radius:12px}.table-wrap[_ngcontent-%COMP%]{overflow-x:auto;margin-top:8px}.fees-table[_ngcontent-%COMP%]{min-width:720px}.fees-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.cell-title[_ngcontent-%COMP%]{font-weight:600}.cell-meta[_ngcontent-%COMP%]{color:var(--brand-muted, #94a3b8);font-size:12px}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.status-chip[_ngcontent-%COMP%]{height:28px;font-weight:600;border-radius:12px}.due[_ngcontent-%COMP%]{color:var(--brand-warn, #f97316);font-weight:700}.clear[_ngcontent-%COMP%]{color:var(--brand-success, #22c55e);font-weight:700}.action-row[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.compact-number[_ngcontent-%COMP%]{width:140px}.compact-number[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{padding-inline:8px;background:#ffffff14;border-radius:12px}.compact-number[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding:4px 0 8px}.record-btn.mat-mdc-unelevated-button[_ngcontent-%COMP%]:not(:disabled){background:linear-gradient(135deg,var(--brand-accent, #06b6d4),var(--brand-accent-strong, #0ea5c6));color:#0b1221;font-weight:700;border-radius:12px;box-shadow:0 8px 18px #06b6d459}.record-btn[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%], .record-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#0b1221}.record-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.structure-page[_ngcontent-%COMP%]{padding:0}.structure-header[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap;margin-bottom:12px}.structure-header[_ngcontent-%COMP%]   .class-select[_ngcontent-%COMP%]{min-width:180px}.structure-input[_ngcontent-%COMP%]{width:100%}.structure-page[_ngcontent-%COMP%]   .fees-table[_ngcontent-%COMP%]{min-width:680px}.mat-mdc-chip.mat-mdc-standard-chip[_ngcontent-%COMP%]{background:#ffffff14;border:1px solid var(--brand-border, rgba(255, 255, 255, .12))}.fee-empty[_ngcontent-%COMP%]{padding:1rem;text-align:center;color:#6b7280}.router-outlet-wrap[_ngcontent-%COMP%]{margin-top:8px}.exam-form[_ngcontent-%COMP%], .fee-form[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]{padding:.6rem;background:#fff;border-radius:8px;box-shadow:0 1px 6px #0000000a;margin-bottom:.6rem}.fee-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #edf2f7;border-radius:8px;padding:.6rem;box-shadow:0 1px 6px #0000000a}.fee-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;padding:.5rem 0}.fee-row-label[_ngcontent-%COMP%]{flex:1}.fee-row-fine[_ngcontent-%COMP%]{color:#718096;min-width:60px;text-align:right}.btn[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem .75rem}@media(max-width:1024px){.filter-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.fees-table[_ngcontent-%COMP%]{min-width:600px}.toolbar-actions[_ngcontent-%COMP%]{flex-wrap:wrap}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:8px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}}@media(max-width:640px){.fees-page[_ngcontent-%COMP%]{padding:12px}.summary-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.fees-table[_ngcontent-%COMP%]{min-width:520px}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}}"]})};import{CommonModule as xd}from"@angular/common";import{FormsModule as Md}from"@angular/forms";import*as V from"@angular/core";import*as ao from"@angular/common";function vd(i,e){if(i&1&&(V.\u0275\u0275elementStart(0,"tr")(1,"td"),V.\u0275\u0275text(2),V.\u0275\u0275elementEnd(),V.\u0275\u0275elementStart(3,"td"),V.\u0275\u0275text(4),V.\u0275\u0275elementEnd(),V.\u0275\u0275elementStart(5,"td"),V.\u0275\u0275text(6),V.\u0275\u0275elementEnd(),V.\u0275\u0275elementStart(7,"td"),V.\u0275\u0275text(8),V.\u0275\u0275elementEnd(),V.\u0275\u0275elementStart(9,"td")(10,"button",6),V.\u0275\u0275text(11,"PDF"),V.\u0275\u0275elementEnd()()()),i&2){let t=e.$implicit;V.\u0275\u0275advance(2),V.\u0275\u0275textInterpolate(t.date),V.\u0275\u0275advance(2),V.\u0275\u0275textInterpolate(t.receipt),V.\u0275\u0275advance(2),V.\u0275\u0275textInterpolate(t.mode),V.\u0275\u0275advance(2),V.\u0275\u0275textInterpolate(t.amount)}}var cn=class i{constructor(e){this.fee=e;this.data=this.fee.getStudentFees(this.studentId)}studentId=1;data={outstanding:null,history:[]};static \u0275fac=function(t){return new(t||i)(V.\u0275\u0275directiveInject(Mt))};static \u0275cmp=V.\u0275\u0275defineComponent({type:i,selectors:[["app-fee-history"]],decls:21,vars:1,consts:[[1,"students-container"],[1,"students-header"],[1,"students-table-container"],[1,"table-scroll-container"],[1,"students-table"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary"]],template:function(t,n){t&1&&(V.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h2"),V.\u0275\u0275text(3,"Student Fee History"),V.\u0275\u0275elementEnd()(),V.\u0275\u0275elementStart(4,"div",2)(5,"div",3)(6,"table",4)(7,"thead")(8,"tr")(9,"th"),V.\u0275\u0275text(10,"Date"),V.\u0275\u0275elementEnd(),V.\u0275\u0275elementStart(11,"th"),V.\u0275\u0275text(12,"Receipt No"),V.\u0275\u0275elementEnd(),V.\u0275\u0275elementStart(13,"th"),V.\u0275\u0275text(14,"Payment Mode"),V.\u0275\u0275elementEnd(),V.\u0275\u0275elementStart(15,"th"),V.\u0275\u0275text(16,"Amount"),V.\u0275\u0275elementEnd(),V.\u0275\u0275elementStart(17,"th"),V.\u0275\u0275text(18,"View"),V.\u0275\u0275elementEnd()()(),V.\u0275\u0275elementStart(19,"tbody"),V.\u0275\u0275template(20,vd,12,4,"tr",5),V.\u0275\u0275elementEnd()()()()()),t&2&&(V.\u0275\u0275advance(20),V.\u0275\u0275property("ngForOf",n.data.history))},dependencies:[xd,ao.NgForOf,Md],styles:["[_nghost-%COMP%]{display:block}.fees-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:16px}.fees-toolbar[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(120deg,#3949ab,#1e88e5);color:#fff;padding:12px 16px}.toolbar-left[_ngcontent-%COMP%]   .eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.08em;font-size:12px;opacity:.9}.toolbar-left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.toolbar-actions[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.toolbar-actions[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled){background:#f8fafc;color:var(--brand-primary, #1e3a8a);border-color:#1e3a8a66;border-radius:12px}.toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled)   .mdc-button__label[_ngcontent-%COMP%], .toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled)   .mat-icon[_ngcontent-%COMP%]{color:var(--brand-primary, #1e3a8a)}.spacer[_ngcontent-%COMP%]{flex:1}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(190px,1fr));gap:12px}.metric-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:12px;align-items:center;border-radius:12px}.metric-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px;display:grid;place-items:center;color:#fff;background:#1976d229}.metric-icon.warn[_ngcontent-%COMP%]{background:#f443362e}.metric-icon.success[_ngcontent-%COMP%]{background:#2e7d322e}.metric-body[_ngcontent-%COMP%]{display:grid;gap:2px}.metric-label[_ngcontent-%COMP%]{font-size:13px;color:#6b7280;text-transform:uppercase;letter-spacing:.04em}.metric-value[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--brand-primary, #1e3a8a)}.metric-value.warn-text[_ngcontent-%COMP%]{color:var(--brand-warn, #f97316)}.metric-hint[_ngcontent-%COMP%]{color:#6b7280;font-size:13px}.filters-card[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(135deg,#4f46e514,#06b6d414);border:1px solid var(--brand-border, rgba(255, 255, 255, .12))}.filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.4fr auto auto;gap:12px;align-items:center}.full-width[_ngcontent-%COMP%]{width:100%}.search-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{background:#ffffff1a;box-shadow:0 8px 18px #0003}.icon-wrap[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.status-chips[_ngcontent-%COMP%]{display:flex;gap:8px}.status-chips[_ngcontent-%COMP%]   .mat-mdc-chip-option[_ngcontent-%COMP%]{border-radius:12px}.status-chips[_ngcontent-%COMP%]   .mat-mdc-chip-option.mat-mdc-chip-selected[_ngcontent-%COMP%]{background:#1e3a8a29;color:var(--brand-primary, #1e3a8a);border:1px solid rgba(30,58,138,.35)}.filter-actions[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:flex-end;flex-wrap:wrap}.filter-actions[_ngcontent-%COMP%]   .ghost-button.mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled){border-color:#4f46e573;color:var(--brand-primary, #1e3a8a);background:#ffffffc7;border-radius:12px;box-shadow:0 6px 16px #0000001f}.filter-actions[_ngcontent-%COMP%]   .ghost-button.mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled):hover{background:#ffffffe6;border-color:#4f46e5b3}.ghost-button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.table-card[_ngcontent-%COMP%]{border-radius:12px}.table-wrap[_ngcontent-%COMP%]{overflow-x:auto;margin-top:8px}.fees-table[_ngcontent-%COMP%]{min-width:720px}.fees-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.cell-title[_ngcontent-%COMP%]{font-weight:600}.cell-meta[_ngcontent-%COMP%]{color:var(--brand-muted, #94a3b8);font-size:12px}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.status-chip[_ngcontent-%COMP%]{height:28px;font-weight:600;border-radius:12px}.due[_ngcontent-%COMP%]{color:var(--brand-warn, #f97316);font-weight:700}.clear[_ngcontent-%COMP%]{color:var(--brand-success, #22c55e);font-weight:700}.action-row[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.compact-number[_ngcontent-%COMP%]{width:140px}.compact-number[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{padding-inline:8px;background:#ffffff14;border-radius:12px}.compact-number[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding:4px 0 8px}.record-btn.mat-mdc-unelevated-button[_ngcontent-%COMP%]:not(:disabled){background:linear-gradient(135deg,var(--brand-accent, #06b6d4),var(--brand-accent-strong, #0ea5c6));color:#0b1221;font-weight:700;border-radius:12px;box-shadow:0 8px 18px #06b6d459}.record-btn[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%], .record-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#0b1221}.record-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.structure-page[_ngcontent-%COMP%]{padding:0}.structure-header[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap;margin-bottom:12px}.structure-header[_ngcontent-%COMP%]   .class-select[_ngcontent-%COMP%]{min-width:180px}.structure-input[_ngcontent-%COMP%]{width:100%}.structure-page[_ngcontent-%COMP%]   .fees-table[_ngcontent-%COMP%]{min-width:680px}.mat-mdc-chip.mat-mdc-standard-chip[_ngcontent-%COMP%]{background:#ffffff14;border:1px solid var(--brand-border, rgba(255, 255, 255, .12))}.fee-empty[_ngcontent-%COMP%]{padding:1rem;text-align:center;color:#6b7280}.router-outlet-wrap[_ngcontent-%COMP%]{margin-top:8px}.exam-form[_ngcontent-%COMP%], .fee-form[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]{padding:.6rem;background:#fff;border-radius:8px;box-shadow:0 1px 6px #0000000a;margin-bottom:.6rem}.fee-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #edf2f7;border-radius:8px;padding:.6rem;box-shadow:0 1px 6px #0000000a}.fee-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;padding:.5rem 0}.fee-row-label[_ngcontent-%COMP%]{flex:1}.fee-row-fine[_ngcontent-%COMP%]{color:#718096;min-width:60px;text-align:right}.btn[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem .75rem}@media(max-width:1024px){.filter-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.fees-table[_ngcontent-%COMP%]{min-width:600px}.toolbar-actions[_ngcontent-%COMP%]{flex-wrap:wrap}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:8px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}}@media(max-width:640px){.fees-page[_ngcontent-%COMP%]{padding:12px}.summary-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.fees-table[_ngcontent-%COMP%]{min-width:520px}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}}"]})};import{CommonModule as yd}from"@angular/common";import{FormsModule as wd}from"@angular/forms";import*as z from"@angular/core";import*as oo from"@angular/common";import*as ro from"@angular/material/button";import*as ge from"@angular/material/card";function Pd(i,e){if(i&1&&(z.\u0275\u0275elementStart(0,"tr")(1,"td"),z.\u0275\u0275text(2),z.\u0275\u0275elementEnd(),z.\u0275\u0275elementStart(3,"td"),z.\u0275\u0275text(4),z.\u0275\u0275elementEnd(),z.\u0275\u0275elementStart(5,"td"),z.\u0275\u0275text(6),z.\u0275\u0275elementEnd(),z.\u0275\u0275elementStart(7,"td")(8,"button",8),z.\u0275\u0275text(9,"Download"),z.\u0275\u0275elementEnd()()()),i&2){let t=e.$implicit;z.\u0275\u0275advance(2),z.\u0275\u0275textInterpolate(t.date),z.\u0275\u0275advance(2),z.\u0275\u0275textInterpolate(t.receipt),z.\u0275\u0275advance(2),z.\u0275\u0275textInterpolate(t.amount)}}var dn=class i{constructor(e){this.fee=e;this.data=this.fee.getStudentFees(this.studentId)}studentId=1;data={outstanding:null,history:[]};static \u0275fac=function(t){return new(t||i)(z.\u0275\u0275directiveInject(Mt))};static \u0275cmp=z.\u0275\u0275defineComponent({type:i,selectors:[["app-my-fees"]],decls:35,vars:3,consts:[[1,"students-container"],[1,"students-header"],[1,"students-table-container"],[1,"compact-panel"],["mat-raised-button","","color","primary"],[2,"margin-top","1rem"],[1,"students-table"],[4,"ngFor","ngForOf"],["mat-stroked-button",""]],template:function(t,n){t&1&&(z.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h2"),z.\u0275\u0275text(3,"My Fees"),z.\u0275\u0275elementEnd()(),z.\u0275\u0275elementStart(4,"div",2)(5,"mat-card",3)(6,"mat-card-content")(7,"p")(8,"strong"),z.\u0275\u0275text(9,"Outstanding:"),z.\u0275\u0275elementEnd(),z.\u0275\u0275text(10),z.\u0275\u0275elementEnd(),z.\u0275\u0275elementStart(11,"p")(12,"strong"),z.\u0275\u0275text(13,"Last Paid:"),z.\u0275\u0275elementEnd(),z.\u0275\u0275text(14),z.\u0275\u0275elementEnd()(),z.\u0275\u0275elementStart(15,"mat-card-actions")(16,"button",4),z.\u0275\u0275text(17,"Pay Online"),z.\u0275\u0275elementEnd()()()(),z.\u0275\u0275elementStart(18,"div",5)(19,"h3"),z.\u0275\u0275text(20,"Previous Receipts"),z.\u0275\u0275elementEnd(),z.\u0275\u0275elementStart(21,"div",2)(22,"table",6)(23,"thead")(24,"tr")(25,"th"),z.\u0275\u0275text(26,"Date"),z.\u0275\u0275elementEnd(),z.\u0275\u0275elementStart(27,"th"),z.\u0275\u0275text(28,"Receipt"),z.\u0275\u0275elementEnd(),z.\u0275\u0275elementStart(29,"th"),z.\u0275\u0275text(30,"Amount"),z.\u0275\u0275elementEnd(),z.\u0275\u0275elementStart(31,"th"),z.\u0275\u0275text(32,"Action"),z.\u0275\u0275elementEnd()()(),z.\u0275\u0275elementStart(33,"tbody"),z.\u0275\u0275template(34,Pd,10,3,"tr",7),z.\u0275\u0275elementEnd()()()()()),t&2&&(z.\u0275\u0275advance(10),z.\u0275\u0275textInterpolate1(" \u20B9 ",(n.data.outstanding==null?null:n.data.outstanding.balance)||0),z.\u0275\u0275advance(4),z.\u0275\u0275textInterpolate1(" ",(n.data.outstanding==null?null:n.data.outstanding.lastPaid)||"N/A"),z.\u0275\u0275advance(20),z.\u0275\u0275property("ngForOf",n.data.history))},dependencies:[yd,oo.NgForOf,wd,L,ro.MatButton,ge.MatCard,ge.MatCardActions,ge.MatCardContent],styles:["[_nghost-%COMP%]{display:block}.fees-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:16px}.fees-toolbar[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(120deg,#3949ab,#1e88e5);color:#fff;padding:12px 16px}.toolbar-left[_ngcontent-%COMP%]   .eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.08em;font-size:12px;opacity:.9}.toolbar-left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.toolbar-actions[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.toolbar-actions[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled){background:#f8fafc;color:var(--brand-primary, #1e3a8a);border-color:#1e3a8a66;border-radius:12px}.toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled)   .mdc-button__label[_ngcontent-%COMP%], .toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled)   .mat-icon[_ngcontent-%COMP%]{color:var(--brand-primary, #1e3a8a)}.spacer[_ngcontent-%COMP%]{flex:1}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(190px,1fr));gap:12px}.metric-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:12px;align-items:center;border-radius:12px}.metric-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px;display:grid;place-items:center;color:#fff;background:#1976d229}.metric-icon.warn[_ngcontent-%COMP%]{background:#f443362e}.metric-icon.success[_ngcontent-%COMP%]{background:#2e7d322e}.metric-body[_ngcontent-%COMP%]{display:grid;gap:2px}.metric-label[_ngcontent-%COMP%]{font-size:13px;color:#6b7280;text-transform:uppercase;letter-spacing:.04em}.metric-value[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--brand-primary, #1e3a8a)}.metric-value.warn-text[_ngcontent-%COMP%]{color:var(--brand-warn, #f97316)}.metric-hint[_ngcontent-%COMP%]{color:#6b7280;font-size:13px}.filters-card[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(135deg,#4f46e514,#06b6d414);border:1px solid var(--brand-border, rgba(255, 255, 255, .12))}.filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.4fr auto auto;gap:12px;align-items:center}.full-width[_ngcontent-%COMP%]{width:100%}.search-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{background:#ffffff1a;box-shadow:0 8px 18px #0003}.icon-wrap[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.status-chips[_ngcontent-%COMP%]{display:flex;gap:8px}.status-chips[_ngcontent-%COMP%]   .mat-mdc-chip-option[_ngcontent-%COMP%]{border-radius:12px}.status-chips[_ngcontent-%COMP%]   .mat-mdc-chip-option.mat-mdc-chip-selected[_ngcontent-%COMP%]{background:#1e3a8a29;color:var(--brand-primary, #1e3a8a);border:1px solid rgba(30,58,138,.35)}.filter-actions[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:flex-end;flex-wrap:wrap}.filter-actions[_ngcontent-%COMP%]   .ghost-button.mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled){border-color:#4f46e573;color:var(--brand-primary, #1e3a8a);background:#ffffffc7;border-radius:12px;box-shadow:0 6px 16px #0000001f}.filter-actions[_ngcontent-%COMP%]   .ghost-button.mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled):hover{background:#ffffffe6;border-color:#4f46e5b3}.ghost-button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.table-card[_ngcontent-%COMP%]{border-radius:12px}.table-wrap[_ngcontent-%COMP%]{overflow-x:auto;margin-top:8px}.fees-table[_ngcontent-%COMP%]{min-width:720px}.fees-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.cell-title[_ngcontent-%COMP%]{font-weight:600}.cell-meta[_ngcontent-%COMP%]{color:var(--brand-muted, #94a3b8);font-size:12px}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.status-chip[_ngcontent-%COMP%]{height:28px;font-weight:600;border-radius:12px}.due[_ngcontent-%COMP%]{color:var(--brand-warn, #f97316);font-weight:700}.clear[_ngcontent-%COMP%]{color:var(--brand-success, #22c55e);font-weight:700}.action-row[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.compact-number[_ngcontent-%COMP%]{width:140px}.compact-number[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{padding-inline:8px;background:#ffffff14;border-radius:12px}.compact-number[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding:4px 0 8px}.record-btn.mat-mdc-unelevated-button[_ngcontent-%COMP%]:not(:disabled){background:linear-gradient(135deg,var(--brand-accent, #06b6d4),var(--brand-accent-strong, #0ea5c6));color:#0b1221;font-weight:700;border-radius:12px;box-shadow:0 8px 18px #06b6d459}.record-btn[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%], .record-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#0b1221}.record-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.structure-page[_ngcontent-%COMP%]{padding:0}.structure-header[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap;margin-bottom:12px}.structure-header[_ngcontent-%COMP%]   .class-select[_ngcontent-%COMP%]{min-width:180px}.structure-input[_ngcontent-%COMP%]{width:100%}.structure-page[_ngcontent-%COMP%]   .fees-table[_ngcontent-%COMP%]{min-width:680px}.mat-mdc-chip.mat-mdc-standard-chip[_ngcontent-%COMP%]{background:#ffffff14;border:1px solid var(--brand-border, rgba(255, 255, 255, .12))}.fee-empty[_ngcontent-%COMP%]{padding:1rem;text-align:center;color:#6b7280}.router-outlet-wrap[_ngcontent-%COMP%]{margin-top:8px}.exam-form[_ngcontent-%COMP%], .fee-form[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]{padding:.6rem;background:#fff;border-radius:8px;box-shadow:0 1px 6px #0000000a;margin-bottom:.6rem}.fee-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #edf2f7;border-radius:8px;padding:.6rem;box-shadow:0 1px 6px #0000000a}.fee-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;padding:.5rem 0}.fee-row-label[_ngcontent-%COMP%]{flex:1}.fee-row-fine[_ngcontent-%COMP%]{color:#718096;min-width:60px;text-align:right}.btn[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem .75rem}@media(max-width:1024px){.filter-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.fees-table[_ngcontent-%COMP%]{min-width:600px}.toolbar-actions[_ngcontent-%COMP%]{flex-wrap:wrap}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:8px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}}@media(max-width:640px){.fees-page[_ngcontent-%COMP%]{padding:12px}.summary-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.fees-table[_ngcontent-%COMP%]{min-width:520px}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}}"]})};import{CommonModule as Od}from"@angular/common";import{FormsModule as Sd}from"@angular/forms";import*as h from"@angular/core";import*as fe from"@angular/common";import*as Nt from"@angular/forms";import*as oi from"@angular/material/button";import*as zt from"@angular/material/input";import*as ri from"@angular/material/select";import*as Y from"@angular/material/table";import*as li from"@angular/material/card";import*as lo from"@angular/material/toolbar";import*as so from"@angular/material/chips";function Ed(i,e){if(i&1){let t=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"button",42),h.\u0275\u0275listener("click",function(){h.\u0275\u0275restoreView(t);let a=h.\u0275\u0275nextContext();return h.\u0275\u0275resetView(a.clearSearch())}),h.\u0275\u0275namespaceSVG(),h.\u0275\u0275elementStart(1,"svg",24),h.\u0275\u0275element(2,"path",43),h.\u0275\u0275elementEnd()()}}function kd(i,e){i&1&&(h.\u0275\u0275elementStart(0,"th",44),h.\u0275\u0275text(1,"ID"),h.\u0275\u0275elementEnd())}function Td(i,e){if(i&1&&(h.\u0275\u0275elementStart(0,"td",45),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;h.\u0275\u0275advance(),h.\u0275\u0275textInterpolate(t.id)}}function Dd(i,e){i&1&&(h.\u0275\u0275elementStart(0,"th",44),h.\u0275\u0275text(1,"Student"),h.\u0275\u0275elementEnd())}function Id(i,e){if(i&1&&(h.\u0275\u0275elementStart(0,"td",45),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;h.\u0275\u0275advance(),h.\u0275\u0275textInterpolate(t.studentName)}}function Fd(i,e){i&1&&(h.\u0275\u0275elementStart(0,"th",44),h.\u0275\u0275text(1,"Type"),h.\u0275\u0275elementEnd())}function Ad(i,e){if(i&1&&(h.\u0275\u0275elementStart(0,"td",45),h.\u0275\u0275text(1),h.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;h.\u0275\u0275advance(),h.\u0275\u0275textInterpolate(t.type)}}function Rd(i,e){i&1&&(h.\u0275\u0275elementStart(0,"th",44),h.\u0275\u0275text(1,"Amount"),h.\u0275\u0275elementEnd())}function Nd(i,e){if(i&1&&(h.\u0275\u0275elementStart(0,"td",45),h.\u0275\u0275text(1),h.\u0275\u0275pipe(2,"currency"),h.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;h.\u0275\u0275advance(),h.\u0275\u0275textInterpolate(h.\u0275\u0275pipeBind1(2,1,t.amount))}}function zd(i,e){i&1&&(h.\u0275\u0275elementStart(0,"th",44),h.\u0275\u0275text(1,"Status"),h.\u0275\u0275elementEnd())}function Bd(i,e){if(i&1&&(h.\u0275\u0275elementStart(0,"td",45)(1,"mat-chip",46),h.\u0275\u0275text(2),h.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;h.\u0275\u0275advance(),h.\u0275\u0275property("color",t.status==="active"?"primary":"warn"),h.\u0275\u0275advance(),h.\u0275\u0275textInterpolate(t.status)}}function Ld(i,e){i&1&&h.\u0275\u0275element(0,"th",44)}function Vd(i,e){if(i&1){let t=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"td",45)(1,"button",47),h.\u0275\u0275listener("click",function(){let a=h.\u0275\u0275restoreView(t).$implicit,o=h.\u0275\u0275nextContext();return h.\u0275\u0275resetView(o.expire(a))}),h.\u0275\u0275text(2,"Expire"),h.\u0275\u0275elementEnd()()}}function Hd(i,e){i&1&&h.\u0275\u0275element(0,"tr",48)}function jd(i,e){i&1&&h.\u0275\u0275element(0,"tr",49)}function Wd(i,e){if(i&1&&(h.\u0275\u0275elementStart(0,"tr",50)(1,"td")(2,"div",51),h.\u0275\u0275text(3,"No discounts found."),h.\u0275\u0275elementEnd()()()),i&2){let t=h.\u0275\u0275nextContext();h.\u0275\u0275advance(),h.\u0275\u0275attribute("colspan",t.displayedColumns.length)}}function Ud(i,e){if(i&1){let t=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"div",52)(1,"div",53)(2,"div",54),h.\u0275\u0275text(3),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(4,"mat-chip",46),h.\u0275\u0275text(5),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(6,"div",55),h.\u0275\u0275text(7),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(8,"div",56),h.\u0275\u0275text(9),h.\u0275\u0275pipe(10,"currency"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(11,"div",55),h.\u0275\u0275text(12),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(13,"div",57)(14,"button",47),h.\u0275\u0275listener("click",function(){let a=h.\u0275\u0275restoreView(t).$implicit,o=h.\u0275\u0275nextContext();return h.\u0275\u0275resetView(o.expire(a))}),h.\u0275\u0275text(15,"Expire"),h.\u0275\u0275elementEnd()()()}if(i&2){let t=e.$implicit;h.\u0275\u0275advance(3),h.\u0275\u0275textInterpolate(t.studentName),h.\u0275\u0275advance(),h.\u0275\u0275property("color",t.status==="active"?"primary":"warn"),h.\u0275\u0275advance(),h.\u0275\u0275textInterpolate(t.status),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate2("ID ",t.id," \xB7 ",t.type),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate(h.\u0275\u0275pipeBind1(10,7,t.amount)),h.\u0275\u0275advance(3),h.\u0275\u0275textInterpolate(t.reason||"")}}var mn=class i{constructor(e){this.mock=e;this.refresh()}discounts=[];filtered=[];displayedColumns=["id","student","type","amount","status","actions"];search="";statusFilter="";form={studentName:"",type:"Scholarship",amount:0,reason:""};refresh(){this.discounts=this.mock.getDiscounts(),this.applyFilters()}applyFilters(){let e=this.search.trim().toLowerCase();this.filtered=this.discounts.filter(t=>{let n=!e||t.studentName.toLowerCase().includes(e)||t.id.toLowerCase().includes(e),a=!this.statusFilter||t.status===this.statusFilter;return n&&a})}clearSearch(){this.search="",this.applyFilters()}addDiscount(){!this.form.studentName||!this.form.amount||(this.mock.addDiscount(yt(U({},this.form),{studentId:0})),this.discounts=this.mock.getDiscounts(),this.form={studentName:"",type:"Scholarship",amount:0,reason:""},this.applyFilters())}expire(e){this.mock.updateDiscountStatus(e.id,"expired"),this.discounts=this.mock.getDiscounts(),this.applyFilters()}static \u0275fac=function(t){return new(t||i)(h.\u0275\u0275directiveInject(H))};static \u0275cmp=h.\u0275\u0275defineComponent({type:i,selectors:[["app-fee-discounts"]],decls:80,vars:11,consts:[[1,"fees-page"],["color","primary",1,"fees-toolbar","mat-elevation-z2"],[1,"toolbar-left"],[1,"eyebrow"],[1,"title"],[1,"filters-card","mat-elevation-z2"],[1,"filter-grid"],["appearance","fill",1,"full-width","search-field"],["matInput","","placeholder","student or discount id",3,"ngModelChange","ngModel"],["matSuffix","","mat-icon-button","","aria-label","Clear search",3,"click",4,"ngIf"],["appearance","fill"],[3,"ngModelChange","selectionChange","ngModel"],["value",""],["value","active"],["value","expired"],[1,"structure-header"],["appearance","fill",1,"class-select"],["matInput","",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["value","Scholarship"],["value","Sibling"],["value","Waiver"],["matInput","","type","number",3,"ngModelChange","ngModel"],["mat-flat-button","","color","accent",1,"record-btn",3,"click"],["viewBox","0 0 24 24",1,"icon"],["d","M11 5h2v6h6v2h-6v6h-2v-6H5v-2h6z","fill","currentColor"],[1,"table-card","mat-elevation-z2","desktop-only"],[1,"table-wrap"],["mat-table","",1,"fees-table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","student"],["matColumnDef","type"],["matColumnDef","amount"],["matColumnDef","status"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","empty-state",4,"matNoDataRow"],[1,"mobile-only","mobile-card-list"],["class","mobile-card",4,"ngFor","ngForOf"],["matSuffix","","mat-icon-button","","aria-label","Clear search",3,"click"],["d","M18.3 5.71 12 12l6.3 6.29-1.41 1.42L12 13.41l-4.89 4.9-1.41-1.42L10.59 12 4.29 5.71 5.7 4.29 12 10.59l6.29-6.3z","fill","currentColor"],["mat-header-cell",""],["mat-cell",""],["selected","",3,"color"],["mat-stroked-button","","color","warn",1,"ghost-button",3,"click"],["mat-header-row",""],["mat-row",""],[1,"empty-state"],[1,"fee-empty"],[1,"mobile-card"],[1,"card-row"],[1,"cell-title"],[1,"cell-meta"],[1,"cell-strong"],[1,"action-row"]],template:function(t,n){t&1&&(h.\u0275\u0275elementStart(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"div",3),h.\u0275\u0275text(4,"Fees"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(5,"div",4),h.\u0275\u0275text(6,"Discounts & Waivers"),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(7,"mat-card",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),h.\u0275\u0275text(11,"Search"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(12,"input",8),h.\u0275\u0275twoWayListener("ngModelChange",function(o){return h.\u0275\u0275twoWayBindingSet(n.search,o)||(n.search=o),o}),h.\u0275\u0275listener("ngModelChange",function(){return n.applyFilters()}),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(13,Ed,3,0,"button",9),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(14,"mat-form-field",10)(15,"mat-label"),h.\u0275\u0275text(16,"Status"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(17,"mat-select",11),h.\u0275\u0275twoWayListener("ngModelChange",function(o){return h.\u0275\u0275twoWayBindingSet(n.statusFilter,o)||(n.statusFilter=o),o}),h.\u0275\u0275listener("selectionChange",function(){return n.applyFilters()}),h.\u0275\u0275elementStart(18,"mat-option",12),h.\u0275\u0275text(19,"All"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(20,"mat-option",13),h.\u0275\u0275text(21,"Active"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(22,"mat-option",14),h.\u0275\u0275text(23,"Expired"),h.\u0275\u0275elementEnd()()()()(),h.\u0275\u0275elementStart(24,"mat-card",5)(25,"div",15)(26,"mat-form-field",16)(27,"mat-label"),h.\u0275\u0275text(28,"Student name"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(29,"input",17),h.\u0275\u0275twoWayListener("ngModelChange",function(o){return h.\u0275\u0275twoWayBindingSet(n.form.studentName,o)||(n.form.studentName=o),o}),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(30,"mat-form-field",16)(31,"mat-label"),h.\u0275\u0275text(32,"Type"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(33,"mat-select",18),h.\u0275\u0275twoWayListener("ngModelChange",function(o){return h.\u0275\u0275twoWayBindingSet(n.form.type,o)||(n.form.type=o),o}),h.\u0275\u0275elementStart(34,"mat-option",19),h.\u0275\u0275text(35,"Scholarship"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(36,"mat-option",20),h.\u0275\u0275text(37,"Sibling"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(38,"mat-option",21),h.\u0275\u0275text(39,"Waiver"),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(40,"mat-form-field",16)(41,"mat-label"),h.\u0275\u0275text(42,"Amount"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(43,"input",22),h.\u0275\u0275twoWayListener("ngModelChange",function(o){return h.\u0275\u0275twoWayBindingSet(n.form.amount,o)||(n.form.amount=o),o}),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(44,"mat-form-field",16)(45,"mat-label"),h.\u0275\u0275text(46,"Reason"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(47,"input",17),h.\u0275\u0275twoWayListener("ngModelChange",function(o){return h.\u0275\u0275twoWayBindingSet(n.form.reason,o)||(n.form.reason=o),o}),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(48,"button",23),h.\u0275\u0275listener("click",function(){return n.addDiscount()}),h.\u0275\u0275namespaceSVG(),h.\u0275\u0275elementStart(49,"svg",24),h.\u0275\u0275element(50,"path",25),h.\u0275\u0275elementEnd(),h.\u0275\u0275text(51," Add discount "),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275namespaceHTML(),h.\u0275\u0275elementStart(52,"mat-card",26)(53,"mat-card-title"),h.\u0275\u0275text(54,"Discounts"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(55,"div",27)(56,"table",28),h.\u0275\u0275elementContainerStart(57,29),h.\u0275\u0275template(58,kd,2,0,"th",30)(59,Td,2,1,"td",31),h.\u0275\u0275elementContainerEnd(),h.\u0275\u0275elementContainerStart(60,32),h.\u0275\u0275template(61,Dd,2,0,"th",30)(62,Id,2,1,"td",31),h.\u0275\u0275elementContainerEnd(),h.\u0275\u0275elementContainerStart(63,33),h.\u0275\u0275template(64,Fd,2,0,"th",30)(65,Ad,2,1,"td",31),h.\u0275\u0275elementContainerEnd(),h.\u0275\u0275elementContainerStart(66,34),h.\u0275\u0275template(67,Rd,2,0,"th",30)(68,Nd,3,3,"td",31),h.\u0275\u0275elementContainerEnd(),h.\u0275\u0275elementContainerStart(69,35),h.\u0275\u0275template(70,zd,2,0,"th",30)(71,Bd,3,2,"td",31),h.\u0275\u0275elementContainerEnd(),h.\u0275\u0275elementContainerStart(72,36),h.\u0275\u0275template(73,Ld,1,0,"th",30)(74,Vd,3,0,"td",31),h.\u0275\u0275elementContainerEnd(),h.\u0275\u0275template(75,Hd,1,0,"tr",37)(76,jd,1,0,"tr",38)(77,Wd,4,1,"tr",39),h.\u0275\u0275elementEnd()()(),h.\u0275\u0275elementStart(78,"mat-card",40),h.\u0275\u0275template(79,Ud,16,9,"div",41),h.\u0275\u0275elementEnd()()),t&2&&(h.\u0275\u0275advance(12),h.\u0275\u0275twoWayProperty("ngModel",n.search),h.\u0275\u0275advance(),h.\u0275\u0275property("ngIf",n.search),h.\u0275\u0275advance(4),h.\u0275\u0275twoWayProperty("ngModel",n.statusFilter),h.\u0275\u0275advance(12),h.\u0275\u0275twoWayProperty("ngModel",n.form.studentName),h.\u0275\u0275advance(4),h.\u0275\u0275twoWayProperty("ngModel",n.form.type),h.\u0275\u0275advance(10),h.\u0275\u0275twoWayProperty("ngModel",n.form.amount),h.\u0275\u0275advance(4),h.\u0275\u0275twoWayProperty("ngModel",n.form.reason),h.\u0275\u0275advance(9),h.\u0275\u0275property("dataSource",n.filtered),h.\u0275\u0275advance(19),h.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),h.\u0275\u0275advance(),h.\u0275\u0275property("matRowDefColumns",n.displayedColumns),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngForOf",n.filtered))},dependencies:[Od,fe.NgForOf,fe.NgIf,Sd,Nt.DefaultValueAccessor,Nt.NumberValueAccessor,Nt.NgControlStatus,Nt.NgModel,L,oi.MatButton,oi.MatIconButton,zt.MatInput,zt.MatFormField,zt.MatLabel,zt.MatSuffix,ri.MatSelect,ri.MatOption,Y.MatTable,Y.MatHeaderCellDef,Y.MatHeaderRowDef,Y.MatColumnDef,Y.MatCellDef,Y.MatRowDef,Y.MatHeaderCell,Y.MatCell,Y.MatHeaderRow,Y.MatRow,Y.MatNoDataRow,li.MatCard,li.MatCardTitle,lo.MatToolbar,so.MatChip,fe.CurrencyPipe],styles:["[_nghost-%COMP%]{display:block}.fees-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:16px}.fees-toolbar[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(120deg,#3949ab,#1e88e5);color:#fff;padding:12px 16px}.toolbar-left[_ngcontent-%COMP%]   .eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.08em;font-size:12px;opacity:.9}.toolbar-left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.toolbar-actions[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.toolbar-actions[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled){background:#f8fafc;color:var(--brand-primary, #1e3a8a);border-color:#1e3a8a66;border-radius:12px}.toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled)   .mdc-button__label[_ngcontent-%COMP%], .toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled)   .mat-icon[_ngcontent-%COMP%]{color:var(--brand-primary, #1e3a8a)}.spacer[_ngcontent-%COMP%]{flex:1}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(190px,1fr));gap:12px}.metric-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:12px;align-items:center;border-radius:12px}.metric-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px;display:grid;place-items:center;color:#fff;background:#1976d229}.metric-icon.warn[_ngcontent-%COMP%]{background:#f443362e}.metric-icon.success[_ngcontent-%COMP%]{background:#2e7d322e}.metric-body[_ngcontent-%COMP%]{display:grid;gap:2px}.metric-label[_ngcontent-%COMP%]{font-size:13px;color:#6b7280;text-transform:uppercase;letter-spacing:.04em}.metric-value[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--brand-primary, #1e3a8a)}.metric-value.warn-text[_ngcontent-%COMP%]{color:var(--brand-warn, #f97316)}.metric-hint[_ngcontent-%COMP%]{color:#6b7280;font-size:13px}.filters-card[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(135deg,#4f46e514,#06b6d414);border:1px solid var(--brand-border, rgba(255, 255, 255, .12))}.filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.4fr auto auto;gap:12px;align-items:center}.full-width[_ngcontent-%COMP%]{width:100%}.search-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{background:#ffffff1a;box-shadow:0 8px 18px #0003}.icon-wrap[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.status-chips[_ngcontent-%COMP%]{display:flex;gap:8px}.status-chips[_ngcontent-%COMP%]   .mat-mdc-chip-option[_ngcontent-%COMP%]{border-radius:12px}.status-chips[_ngcontent-%COMP%]   .mat-mdc-chip-option.mat-mdc-chip-selected[_ngcontent-%COMP%]{background:#1e3a8a29;color:var(--brand-primary, #1e3a8a);border:1px solid rgba(30,58,138,.35)}.filter-actions[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:flex-end;flex-wrap:wrap}.filter-actions[_ngcontent-%COMP%]   .ghost-button.mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled){border-color:#4f46e573;color:var(--brand-primary, #1e3a8a);background:#ffffffc7;border-radius:12px;box-shadow:0 6px 16px #0000001f}.filter-actions[_ngcontent-%COMP%]   .ghost-button.mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled):hover{background:#ffffffe6;border-color:#4f46e5b3}.ghost-button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.table-card[_ngcontent-%COMP%]{border-radius:12px}.table-wrap[_ngcontent-%COMP%]{overflow-x:auto;margin-top:8px}.fees-table[_ngcontent-%COMP%]{min-width:720px}.fees-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.cell-title[_ngcontent-%COMP%]{font-weight:600}.cell-meta[_ngcontent-%COMP%]{color:var(--brand-muted, #94a3b8);font-size:12px}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.status-chip[_ngcontent-%COMP%]{height:28px;font-weight:600;border-radius:12px}.due[_ngcontent-%COMP%]{color:var(--brand-warn, #f97316);font-weight:700}.clear[_ngcontent-%COMP%]{color:var(--brand-success, #22c55e);font-weight:700}.action-row[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.compact-number[_ngcontent-%COMP%]{width:140px}.compact-number[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{padding-inline:8px;background:#ffffff14;border-radius:12px}.compact-number[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding:4px 0 8px}.record-btn.mat-mdc-unelevated-button[_ngcontent-%COMP%]:not(:disabled){background:linear-gradient(135deg,var(--brand-accent, #06b6d4),var(--brand-accent-strong, #0ea5c6));color:#0b1221;font-weight:700;border-radius:12px;box-shadow:0 8px 18px #06b6d459}.record-btn[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%], .record-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#0b1221}.record-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.structure-page[_ngcontent-%COMP%]{padding:0}.structure-header[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap;margin-bottom:12px}.structure-header[_ngcontent-%COMP%]   .class-select[_ngcontent-%COMP%]{min-width:180px}.structure-input[_ngcontent-%COMP%]{width:100%}.structure-page[_ngcontent-%COMP%]   .fees-table[_ngcontent-%COMP%]{min-width:680px}.mat-mdc-chip.mat-mdc-standard-chip[_ngcontent-%COMP%]{background:#ffffff14;border:1px solid var(--brand-border, rgba(255, 255, 255, .12))}.fee-empty[_ngcontent-%COMP%]{padding:1rem;text-align:center;color:#6b7280}.router-outlet-wrap[_ngcontent-%COMP%]{margin-top:8px}.exam-form[_ngcontent-%COMP%], .fee-form[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]{padding:.6rem;background:#fff;border-radius:8px;box-shadow:0 1px 6px #0000000a;margin-bottom:.6rem}.fee-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #edf2f7;border-radius:8px;padding:.6rem;box-shadow:0 1px 6px #0000000a}.fee-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;padding:.5rem 0}.fee-row-label[_ngcontent-%COMP%]{flex:1}.fee-row-fine[_ngcontent-%COMP%]{color:#718096;min-width:60px;text-align:right}.btn[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem .75rem}@media(max-width:1024px){.filter-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.fees-table[_ngcontent-%COMP%]{min-width:600px}.toolbar-actions[_ngcontent-%COMP%]{flex-wrap:wrap}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:8px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}}@media(max-width:640px){.fees-page[_ngcontent-%COMP%]{padding:12px}.summary-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.fees-table[_ngcontent-%COMP%]{min-width:520px}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}}",".desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:6px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}.mobile-card[_ngcontent-%COMP%]   .cell-meta[_ngcontent-%COMP%]{color:#6b7280;font-size:12px}@media(max-width:768px){.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}}"]})};import{CommonModule as $d}from"@angular/common";import{FormsModule as Gd}from"@angular/forms";import*as k from"@angular/core";import*as _e from"@angular/common";import*as be from"@angular/forms";import*as si from"@angular/material/button";import*as Bt from"@angular/material/input";import*as ci from"@angular/material/select";import*as Z from"@angular/material/table";import*as di from"@angular/material/card";import*as co from"@angular/material/toolbar";import*as mo from"@angular/material/chips";function qd(i,e){if(i&1){let t=k.\u0275\u0275getCurrentView();k.\u0275\u0275elementStart(0,"button",32),k.\u0275\u0275listener("click",function(){k.\u0275\u0275restoreView(t);let a=k.\u0275\u0275nextContext();return k.\u0275\u0275resetView(a.clearSearch())}),k.\u0275\u0275namespaceSVG(),k.\u0275\u0275elementStart(1,"svg",33),k.\u0275\u0275element(2,"path",34),k.\u0275\u0275elementEnd()()}}function Qd(i,e){i&1&&(k.\u0275\u0275elementStart(0,"th",35),k.\u0275\u0275text(1,"Receipt"),k.\u0275\u0275elementEnd())}function Yd(i,e){if(i&1&&(k.\u0275\u0275elementStart(0,"td",36),k.\u0275\u0275text(1),k.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;k.\u0275\u0275advance(),k.\u0275\u0275textInterpolate(t.id)}}function Zd(i,e){i&1&&(k.\u0275\u0275elementStart(0,"th",35),k.\u0275\u0275text(1,"Student"),k.\u0275\u0275elementEnd())}function Jd(i,e){if(i&1&&(k.\u0275\u0275elementStart(0,"td",36),k.\u0275\u0275text(1),k.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;k.\u0275\u0275advance(),k.\u0275\u0275textInterpolate(t.studentName)}}function Kd(i,e){i&1&&(k.\u0275\u0275elementStart(0,"th",35),k.\u0275\u0275text(1,"Date"),k.\u0275\u0275elementEnd())}function Xd(i,e){if(i&1&&(k.\u0275\u0275elementStart(0,"td",36),k.\u0275\u0275text(1),k.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;k.\u0275\u0275advance(),k.\u0275\u0275textInterpolate(t.date)}}function tm(i,e){i&1&&(k.\u0275\u0275elementStart(0,"th",35),k.\u0275\u0275text(1,"Amount"),k.\u0275\u0275elementEnd())}function em(i,e){if(i&1&&(k.\u0275\u0275elementStart(0,"td",36),k.\u0275\u0275text(1),k.\u0275\u0275pipe(2,"currency"),k.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;k.\u0275\u0275advance(),k.\u0275\u0275textInterpolate(k.\u0275\u0275pipeBind1(2,1,t.amount))}}function nm(i,e){i&1&&(k.\u0275\u0275elementStart(0,"th",35),k.\u0275\u0275text(1,"Method"),k.\u0275\u0275elementEnd())}function im(i,e){if(i&1&&(k.\u0275\u0275elementStart(0,"td",36),k.\u0275\u0275text(1),k.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;k.\u0275\u0275advance(),k.\u0275\u0275textInterpolate(t.method)}}function am(i,e){i&1&&k.\u0275\u0275element(0,"tr",37)}function om(i,e){i&1&&k.\u0275\u0275element(0,"tr",38)}function rm(i,e){if(i&1&&(k.\u0275\u0275elementStart(0,"tr",39)(1,"td")(2,"div",40),k.\u0275\u0275text(3,"No receipts found."),k.\u0275\u0275elementEnd()()()),i&2){let t=k.\u0275\u0275nextContext();k.\u0275\u0275advance(),k.\u0275\u0275attribute("colspan",t.displayedColumns.length)}}function lm(i,e){if(i&1&&(k.\u0275\u0275elementStart(0,"div",41)(1,"div",42)(2,"div",43),k.\u0275\u0275text(3),k.\u0275\u0275elementEnd(),k.\u0275\u0275elementStart(4,"mat-chip",44),k.\u0275\u0275text(5),k.\u0275\u0275elementEnd()(),k.\u0275\u0275elementStart(6,"div",45),k.\u0275\u0275text(7),k.\u0275\u0275elementEnd(),k.\u0275\u0275elementStart(8,"div",46),k.\u0275\u0275text(9),k.\u0275\u0275pipe(10,"currency"),k.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;k.\u0275\u0275advance(3),k.\u0275\u0275textInterpolate(t.studentName),k.\u0275\u0275advance(2),k.\u0275\u0275textInterpolate(t.method),k.\u0275\u0275advance(2),k.\u0275\u0275textInterpolate2("Receipt ",t.id," \xB7 ",t.date),k.\u0275\u0275advance(2),k.\u0275\u0275textInterpolate(k.\u0275\u0275pipeBind1(10,5,t.amount))}}var pn=class i{constructor(e){this.mock=e;this.refresh()}receipts=[];filtered=[];search="";methodFilter="";displayedColumns=["id","student","date","amount","method"];refresh(){this.receipts=this.mock.getReceipts(),this.applyFilters()}applyFilters(){let e=this.search.trim().toLowerCase();this.filtered=this.receipts.filter(t=>{let n=!e||t.studentName.toLowerCase().includes(e)||t.id.toLowerCase().includes(e),a=!this.methodFilter||t.method===this.methodFilter;return n&&a})}clearSearch(){this.search="",this.applyFilters()}exportCsv(){let e=["Receipt","Student","Date","Amount","Method"],t=this.filtered.map(I=>[I.id,`"${(I.studentName||"").replace(/"/g,'""')}"`,I.date,I.amount,I.method].join(",")),n=[e.join(","),...t].join(`
`),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(a),v=document.createElement("a");v.href=o,v.download="receipts.csv",v.click(),URL.revokeObjectURL(o)}static \u0275fac=function(t){return new(t||i)(k.\u0275\u0275directiveInject(H))};static \u0275cmp=k.\u0275\u0275defineComponent({type:i,selectors:[["app-fee-receipts"]],decls:53,vars:7,consts:[[1,"fees-page"],["color","primary",1,"fees-toolbar","mat-elevation-z2"],[1,"toolbar-left"],[1,"eyebrow"],[1,"title"],[1,"filters-card","mat-elevation-z2"],[1,"filter-grid"],["appearance","fill",1,"full-width","search-field"],["matInput","","placeholder","student or receipt",3,"ngModelChange","ngModel"],["matSuffix","","mat-icon-button","","aria-label","Clear search",3,"click",4,"ngIf"],["appearance","fill"],[3,"ngModelChange","selectionChange","ngModel"],["value",""],["value","Cash"],["value","Online"],["value","Cheque"],["mat-stroked-button","","color","primary",1,"ghost-button",3,"click"],[1,"table-card","mat-elevation-z2","desktop-only"],[1,"table-wrap"],["mat-table","",1,"fees-table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","student"],["matColumnDef","date"],["matColumnDef","amount"],["matColumnDef","method"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","empty-state",4,"matNoDataRow"],[1,"mobile-only","mobile-card-list"],["class","mobile-card",4,"ngFor","ngForOf"],["matSuffix","","mat-icon-button","","aria-label","Clear search",3,"click"],["viewBox","0 0 24 24",1,"icon"],["d","M18.3 5.71 12 12l6.3 6.29-1.41 1.42L12 13.41l-4.89 4.9-1.41-1.42L10.59 12 4.29 5.71 5.7 4.29 12 10.59l6.29-6.3z","fill","currentColor"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"empty-state"],[1,"fee-empty"],[1,"mobile-card"],[1,"card-row"],[1,"cell-title"],["color","primary","selected",""],[1,"cell-meta"],[1,"cell-strong"]],template:function(t,n){t&1&&(k.\u0275\u0275elementStart(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"div",3),k.\u0275\u0275text(4,"Fees"),k.\u0275\u0275elementEnd(),k.\u0275\u0275elementStart(5,"div",4),k.\u0275\u0275text(6,"Receipts"),k.\u0275\u0275elementEnd()()(),k.\u0275\u0275elementStart(7,"mat-card",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),k.\u0275\u0275text(11,"Search"),k.\u0275\u0275elementEnd(),k.\u0275\u0275elementStart(12,"input",8),k.\u0275\u0275twoWayListener("ngModelChange",function(o){return k.\u0275\u0275twoWayBindingSet(n.search,o)||(n.search=o),o}),k.\u0275\u0275listener("ngModelChange",function(){return n.applyFilters()}),k.\u0275\u0275elementEnd(),k.\u0275\u0275template(13,qd,3,0,"button",9),k.\u0275\u0275elementEnd(),k.\u0275\u0275elementStart(14,"mat-form-field",10)(15,"mat-label"),k.\u0275\u0275text(16,"Method"),k.\u0275\u0275elementEnd(),k.\u0275\u0275elementStart(17,"mat-select",11),k.\u0275\u0275twoWayListener("ngModelChange",function(o){return k.\u0275\u0275twoWayBindingSet(n.methodFilter,o)||(n.methodFilter=o),o}),k.\u0275\u0275listener("selectionChange",function(){return n.applyFilters()}),k.\u0275\u0275elementStart(18,"mat-option",12),k.\u0275\u0275text(19,"All"),k.\u0275\u0275elementEnd(),k.\u0275\u0275elementStart(20,"mat-option",13),k.\u0275\u0275text(21,"Cash"),k.\u0275\u0275elementEnd(),k.\u0275\u0275elementStart(22,"mat-option",14),k.\u0275\u0275text(23,"Online"),k.\u0275\u0275elementEnd(),k.\u0275\u0275elementStart(24,"mat-option",15),k.\u0275\u0275text(25,"Cheque"),k.\u0275\u0275elementEnd()()(),k.\u0275\u0275elementStart(26,"button",16),k.\u0275\u0275listener("click",function(){return n.exportCsv()}),k.\u0275\u0275text(27," Export CSV "),k.\u0275\u0275elementEnd()()(),k.\u0275\u0275elementStart(28,"mat-card",17)(29,"mat-card-title"),k.\u0275\u0275text(30,"Receipts"),k.\u0275\u0275elementEnd(),k.\u0275\u0275elementStart(31,"div",18)(32,"table",19),k.\u0275\u0275elementContainerStart(33,20),k.\u0275\u0275template(34,Qd,2,0,"th",21)(35,Yd,2,1,"td",22),k.\u0275\u0275elementContainerEnd(),k.\u0275\u0275elementContainerStart(36,23),k.\u0275\u0275template(37,Zd,2,0,"th",21)(38,Jd,2,1,"td",22),k.\u0275\u0275elementContainerEnd(),k.\u0275\u0275elementContainerStart(39,24),k.\u0275\u0275template(40,Kd,2,0,"th",21)(41,Xd,2,1,"td",22),k.\u0275\u0275elementContainerEnd(),k.\u0275\u0275elementContainerStart(42,25),k.\u0275\u0275template(43,tm,2,0,"th",21)(44,em,3,3,"td",22),k.\u0275\u0275elementContainerEnd(),k.\u0275\u0275elementContainerStart(45,26),k.\u0275\u0275template(46,nm,2,0,"th",21)(47,im,2,1,"td",22),k.\u0275\u0275elementContainerEnd(),k.\u0275\u0275template(48,am,1,0,"tr",27)(49,om,1,0,"tr",28)(50,rm,4,1,"tr",29),k.\u0275\u0275elementEnd()()(),k.\u0275\u0275elementStart(51,"mat-card",30),k.\u0275\u0275template(52,lm,11,7,"div",31),k.\u0275\u0275elementEnd()()),t&2&&(k.\u0275\u0275advance(12),k.\u0275\u0275twoWayProperty("ngModel",n.search),k.\u0275\u0275advance(),k.\u0275\u0275property("ngIf",n.search),k.\u0275\u0275advance(4),k.\u0275\u0275twoWayProperty("ngModel",n.methodFilter),k.\u0275\u0275advance(15),k.\u0275\u0275property("dataSource",n.filtered),k.\u0275\u0275advance(16),k.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),k.\u0275\u0275advance(),k.\u0275\u0275property("matRowDefColumns",n.displayedColumns),k.\u0275\u0275advance(3),k.\u0275\u0275property("ngForOf",n.filtered))},dependencies:[$d,_e.NgForOf,_e.NgIf,Gd,be.DefaultValueAccessor,be.NgControlStatus,be.NgModel,L,si.MatButton,si.MatIconButton,Bt.MatInput,Bt.MatFormField,Bt.MatLabel,Bt.MatSuffix,ci.MatSelect,ci.MatOption,Z.MatTable,Z.MatHeaderCellDef,Z.MatHeaderRowDef,Z.MatColumnDef,Z.MatCellDef,Z.MatRowDef,Z.MatHeaderCell,Z.MatCell,Z.MatHeaderRow,Z.MatRow,Z.MatNoDataRow,di.MatCard,di.MatCardTitle,co.MatToolbar,mo.MatChip,_e.CurrencyPipe],styles:["[_nghost-%COMP%]{display:block}.fees-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:16px}.fees-toolbar[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(120deg,#3949ab,#1e88e5);color:#fff;padding:12px 16px}.toolbar-left[_ngcontent-%COMP%]   .eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.08em;font-size:12px;opacity:.9}.toolbar-left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.toolbar-actions[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.toolbar-actions[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled){background:#f8fafc;color:var(--brand-primary, #1e3a8a);border-color:#1e3a8a66;border-radius:12px}.toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled)   .mdc-button__label[_ngcontent-%COMP%], .toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled)   .mat-icon[_ngcontent-%COMP%]{color:var(--brand-primary, #1e3a8a)}.spacer[_ngcontent-%COMP%]{flex:1}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(190px,1fr));gap:12px}.metric-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:12px;align-items:center;border-radius:12px}.metric-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px;display:grid;place-items:center;color:#fff;background:#1976d229}.metric-icon.warn[_ngcontent-%COMP%]{background:#f443362e}.metric-icon.success[_ngcontent-%COMP%]{background:#2e7d322e}.metric-body[_ngcontent-%COMP%]{display:grid;gap:2px}.metric-label[_ngcontent-%COMP%]{font-size:13px;color:#6b7280;text-transform:uppercase;letter-spacing:.04em}.metric-value[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--brand-primary, #1e3a8a)}.metric-value.warn-text[_ngcontent-%COMP%]{color:var(--brand-warn, #f97316)}.metric-hint[_ngcontent-%COMP%]{color:#6b7280;font-size:13px}.filters-card[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(135deg,#4f46e514,#06b6d414);border:1px solid var(--brand-border, rgba(255, 255, 255, .12))}.filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.4fr auto auto;gap:12px;align-items:center}.full-width[_ngcontent-%COMP%]{width:100%}.search-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{background:#ffffff1a;box-shadow:0 8px 18px #0003}.icon-wrap[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.status-chips[_ngcontent-%COMP%]{display:flex;gap:8px}.status-chips[_ngcontent-%COMP%]   .mat-mdc-chip-option[_ngcontent-%COMP%]{border-radius:12px}.status-chips[_ngcontent-%COMP%]   .mat-mdc-chip-option.mat-mdc-chip-selected[_ngcontent-%COMP%]{background:#1e3a8a29;color:var(--brand-primary, #1e3a8a);border:1px solid rgba(30,58,138,.35)}.filter-actions[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:flex-end;flex-wrap:wrap}.filter-actions[_ngcontent-%COMP%]   .ghost-button.mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled){border-color:#4f46e573;color:var(--brand-primary, #1e3a8a);background:#ffffffc7;border-radius:12px;box-shadow:0 6px 16px #0000001f}.filter-actions[_ngcontent-%COMP%]   .ghost-button.mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled):hover{background:#ffffffe6;border-color:#4f46e5b3}.ghost-button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.table-card[_ngcontent-%COMP%]{border-radius:12px}.table-wrap[_ngcontent-%COMP%]{overflow-x:auto;margin-top:8px}.fees-table[_ngcontent-%COMP%]{min-width:720px}.fees-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.cell-title[_ngcontent-%COMP%]{font-weight:600}.cell-meta[_ngcontent-%COMP%]{color:var(--brand-muted, #94a3b8);font-size:12px}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.status-chip[_ngcontent-%COMP%]{height:28px;font-weight:600;border-radius:12px}.due[_ngcontent-%COMP%]{color:var(--brand-warn, #f97316);font-weight:700}.clear[_ngcontent-%COMP%]{color:var(--brand-success, #22c55e);font-weight:700}.action-row[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.compact-number[_ngcontent-%COMP%]{width:140px}.compact-number[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{padding-inline:8px;background:#ffffff14;border-radius:12px}.compact-number[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding:4px 0 8px}.record-btn.mat-mdc-unelevated-button[_ngcontent-%COMP%]:not(:disabled){background:linear-gradient(135deg,var(--brand-accent, #06b6d4),var(--brand-accent-strong, #0ea5c6));color:#0b1221;font-weight:700;border-radius:12px;box-shadow:0 8px 18px #06b6d459}.record-btn[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%], .record-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#0b1221}.record-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.structure-page[_ngcontent-%COMP%]{padding:0}.structure-header[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap;margin-bottom:12px}.structure-header[_ngcontent-%COMP%]   .class-select[_ngcontent-%COMP%]{min-width:180px}.structure-input[_ngcontent-%COMP%]{width:100%}.structure-page[_ngcontent-%COMP%]   .fees-table[_ngcontent-%COMP%]{min-width:680px}.mat-mdc-chip.mat-mdc-standard-chip[_ngcontent-%COMP%]{background:#ffffff14;border:1px solid var(--brand-border, rgba(255, 255, 255, .12))}.fee-empty[_ngcontent-%COMP%]{padding:1rem;text-align:center;color:#6b7280}.router-outlet-wrap[_ngcontent-%COMP%]{margin-top:8px}.exam-form[_ngcontent-%COMP%], .fee-form[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]{padding:.6rem;background:#fff;border-radius:8px;box-shadow:0 1px 6px #0000000a;margin-bottom:.6rem}.fee-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #edf2f7;border-radius:8px;padding:.6rem;box-shadow:0 1px 6px #0000000a}.fee-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;padding:.5rem 0}.fee-row-label[_ngcontent-%COMP%]{flex:1}.fee-row-fine[_ngcontent-%COMP%]{color:#718096;min-width:60px;text-align:right}.btn[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem .75rem}@media(max-width:1024px){.filter-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.fees-table[_ngcontent-%COMP%]{min-width:600px}.toolbar-actions[_ngcontent-%COMP%]{flex-wrap:wrap}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:8px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}}@media(max-width:640px){.fees-page[_ngcontent-%COMP%]{padding:12px}.summary-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.fees-table[_ngcontent-%COMP%]{min-width:520px}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}}",".desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:6px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}.mobile-card[_ngcontent-%COMP%]   .cell-meta[_ngcontent-%COMP%]{color:#6b7280;font-size:12px}@media(max-width:768px){.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}}"]})};import{CommonModule as sm}from"@angular/common";import{FormsModule as cm}from"@angular/forms";import*as E from"@angular/core";import*as he from"@angular/common";import*as Ce from"@angular/forms";import*as mi from"@angular/material/button";import*as Lt from"@angular/material/input";import*as J from"@angular/material/table";import*as pi from"@angular/material/card";import*as po from"@angular/material/toolbar";import*as uo from"@angular/material/chips";function dm(i,e){if(i&1){let t=E.\u0275\u0275getCurrentView();E.\u0275\u0275elementStart(0,"button",26),E.\u0275\u0275listener("click",function(){E.\u0275\u0275restoreView(t);let a=E.\u0275\u0275nextContext();return E.\u0275\u0275resetView(a.clearSearch())}),E.\u0275\u0275namespaceSVG(),E.\u0275\u0275elementStart(1,"svg",27),E.\u0275\u0275element(2,"path",28),E.\u0275\u0275elementEnd()()}}function mm(i,e){i&1&&(E.\u0275\u0275elementStart(0,"th",29),E.\u0275\u0275text(1,"Student"),E.\u0275\u0275elementEnd())}function pm(i,e){if(i&1&&(E.\u0275\u0275elementStart(0,"td",30)(1,"div",31),E.\u0275\u0275text(2),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(3,"div",32),E.\u0275\u0275text(4),E.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;E.\u0275\u0275advance(2),E.\u0275\u0275textInterpolate(t.studentName),E.\u0275\u0275advance(2),E.\u0275\u0275textInterpolate1("ID #",t.studentId)}}function um(i,e){i&1&&(E.\u0275\u0275elementStart(0,"th",29),E.\u0275\u0275text(1,"Class"),E.\u0275\u0275elementEnd())}function gm(i,e){if(i&1&&(E.\u0275\u0275elementStart(0,"td",30),E.\u0275\u0275text(1),E.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;E.\u0275\u0275advance(),E.\u0275\u0275textInterpolate(t.class||"--")}}function fm(i,e){i&1&&(E.\u0275\u0275elementStart(0,"th",29),E.\u0275\u0275text(1,"Balance"),E.\u0275\u0275elementEnd())}function _m(i,e){if(i&1&&(E.\u0275\u0275elementStart(0,"td",30),E.\u0275\u0275text(1),E.\u0275\u0275pipe(2,"currency"),E.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;E.\u0275\u0275advance(),E.\u0275\u0275textInterpolate(E.\u0275\u0275pipeBind1(2,1,t.balance))}}function bm(i,e){i&1&&(E.\u0275\u0275elementStart(0,"th",29),E.\u0275\u0275text(1,"Last Paid"),E.\u0275\u0275elementEnd())}function hm(i,e){if(i&1&&(E.\u0275\u0275elementStart(0,"td",30),E.\u0275\u0275text(1),E.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;E.\u0275\u0275advance(),E.\u0275\u0275textInterpolate(t.lastPaid||"--")}}function Cm(i,e){i&1&&(E.\u0275\u0275elementStart(0,"th",29),E.\u0275\u0275text(1,"Last Reminder"),E.\u0275\u0275elementEnd())}function xm(i,e){if(i&1&&(E.\u0275\u0275elementStart(0,"td",30),E.\u0275\u0275text(1),E.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;E.\u0275\u0275advance(),E.\u0275\u0275textInterpolate(t.lastReminder||"Not sent")}}function Mm(i,e){i&1&&E.\u0275\u0275element(0,"th",29)}function vm(i,e){if(i&1){let t=E.\u0275\u0275getCurrentView();E.\u0275\u0275elementStart(0,"td",30)(1,"button",33),E.\u0275\u0275listener("click",function(){let a=E.\u0275\u0275restoreView(t).$implicit,o=E.\u0275\u0275nextContext();return E.\u0275\u0275resetView(o.markReminder(a))}),E.\u0275\u0275text(2,"Mark sent"),E.\u0275\u0275elementEnd()()}}function ym(i,e){i&1&&E.\u0275\u0275element(0,"tr",34)}function wm(i,e){i&1&&E.\u0275\u0275element(0,"tr",35)}function Pm(i,e){if(i&1&&(E.\u0275\u0275elementStart(0,"tr",36)(1,"td")(2,"div",37),E.\u0275\u0275text(3,"No outstanding balances found."),E.\u0275\u0275elementEnd()()()),i&2){let t=E.\u0275\u0275nextContext();E.\u0275\u0275advance(),E.\u0275\u0275attribute("colspan",t.displayedColumns.length)}}function Om(i,e){if(i&1){let t=E.\u0275\u0275getCurrentView();E.\u0275\u0275elementStart(0,"div",38)(1,"div",39)(2,"div",31),E.\u0275\u0275text(3),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(4,"mat-chip",40),E.\u0275\u0275text(5,"Due"),E.\u0275\u0275elementEnd()(),E.\u0275\u0275elementStart(6,"div",32),E.\u0275\u0275text(7),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(8,"div",32),E.\u0275\u0275text(9),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(10,"div",41),E.\u0275\u0275text(11),E.\u0275\u0275pipe(12,"currency"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(13,"div",32),E.\u0275\u0275text(14),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(15,"div",42)(16,"button",33),E.\u0275\u0275listener("click",function(){let a=E.\u0275\u0275restoreView(t).$implicit,o=E.\u0275\u0275nextContext();return E.\u0275\u0275resetView(o.markReminder(a))}),E.\u0275\u0275text(17,"Mark sent"),E.\u0275\u0275elementEnd()()()}if(i&2){let t=e.$implicit;E.\u0275\u0275advance(3),E.\u0275\u0275textInterpolate(t.studentName),E.\u0275\u0275advance(4),E.\u0275\u0275textInterpolate1("Class ",t.class||"--"),E.\u0275\u0275advance(2),E.\u0275\u0275textInterpolate1("Last paid: ",t.lastPaid||"--"),E.\u0275\u0275advance(2),E.\u0275\u0275textInterpolate1("Balance: ",E.\u0275\u0275pipeBind1(12,5,t.balance)),E.\u0275\u0275advance(3),E.\u0275\u0275textInterpolate1("Last reminder: ",t.lastReminder||"Not sent")}}var un=class i{constructor(e){this.mock=e;this.refresh()}rows=[];filtered=[];search="";displayedColumns=["student","class","balance","lastPaid","reminder","actions"];refresh(){let e=this.mock.getStudents(),t=this.mock.getFees(),n=new Map(t.map(a=>[a.studentId,a]));this.rows=e.map(a=>{let o=n.get(a.id),v=Number(o?.balance)||0;return v<=0?null:{studentId:a.id,studentName:`${a.firstName} ${a.lastName}`,class:a.class,balance:v,lastPaid:o?.lastPaid,lastReminder:o?.lastReminder}}).filter(Boolean),this.applyFilters()}applyFilters(){let e=this.search.trim().toLowerCase();this.filtered=this.rows.filter(t=>!e||t.studentName.toLowerCase().includes(e)||(t.class||"").toLowerCase().includes(e))}clearSearch(){this.search="",this.applyFilters()}markReminder(e){let t=new Date().toISOString().slice(0,10),n=this.mock.getFees().find(a=>a.studentId===e.studentId);n&&(n.lastReminder=t),e.lastReminder=t,this.applyFilters()}static \u0275fac=function(t){return new(t||i)(E.\u0275\u0275directiveInject(H))};static \u0275cmp=E.\u0275\u0275defineComponent({type:i,selectors:[["app-fee-reminders"]],decls:42,vars:6,consts:[[1,"fees-page"],["color","primary",1,"fees-toolbar","mat-elevation-z2"],[1,"toolbar-left"],[1,"eyebrow"],[1,"title"],[1,"filters-card","mat-elevation-z2"],[1,"filter-grid"],["appearance","fill",1,"full-width","search-field"],["matInput","","placeholder","student or class",3,"ngModelChange","ngModel"],["matSuffix","","mat-icon-button","","aria-label","Clear search",3,"click",4,"ngIf"],[1,"table-card","mat-elevation-z2","desktop-only"],[1,"table-wrap"],["mat-table","",1,"fees-table",3,"dataSource"],["matColumnDef","student"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","class"],["matColumnDef","balance"],["matColumnDef","lastPaid"],["matColumnDef","reminder"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","empty-state",4,"matNoDataRow"],[1,"mobile-only","mobile-card-list"],["class","mobile-card",4,"ngFor","ngForOf"],["matSuffix","","mat-icon-button","","aria-label","Clear search",3,"click"],["viewBox","0 0 24 24",1,"icon"],["d","M18.3 5.71 12 12l6.3 6.29-1.41 1.42L12 13.41l-4.89 4.9-1.41-1.42L10.59 12 4.29 5.71 5.7 4.29 12 10.59l6.29-6.3z","fill","currentColor"],["mat-header-cell",""],["mat-cell",""],[1,"cell-title"],[1,"cell-meta"],["mat-stroked-button","","color","primary",1,"ghost-button",3,"click"],["mat-header-row",""],["mat-row",""],[1,"empty-state"],[1,"fee-empty"],[1,"mobile-card"],[1,"card-row"],["color","warn","selected",""],[1,"cell-strong"],[1,"action-row"]],template:function(t,n){t&1&&(E.\u0275\u0275elementStart(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"div",3),E.\u0275\u0275text(4,"Fees"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(5,"div",4),E.\u0275\u0275text(6,"Overdue reminders"),E.\u0275\u0275elementEnd()()(),E.\u0275\u0275elementStart(7,"mat-card",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),E.\u0275\u0275text(11,"Search"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(12,"input",8),E.\u0275\u0275twoWayListener("ngModelChange",function(o){return E.\u0275\u0275twoWayBindingSet(n.search,o)||(n.search=o),o}),E.\u0275\u0275listener("ngModelChange",function(){return n.applyFilters()}),E.\u0275\u0275elementEnd(),E.\u0275\u0275template(13,dm,3,0,"button",9),E.\u0275\u0275elementEnd()()(),E.\u0275\u0275elementStart(14,"mat-card",10)(15,"mat-card-title"),E.\u0275\u0275text(16,"Outstanding fees"),E.\u0275\u0275elementEnd(),E.\u0275\u0275elementStart(17,"div",11)(18,"table",12),E.\u0275\u0275elementContainerStart(19,13),E.\u0275\u0275template(20,mm,2,0,"th",14)(21,pm,5,2,"td",15),E.\u0275\u0275elementContainerEnd(),E.\u0275\u0275elementContainerStart(22,16),E.\u0275\u0275template(23,um,2,0,"th",14)(24,gm,2,1,"td",15),E.\u0275\u0275elementContainerEnd(),E.\u0275\u0275elementContainerStart(25,17),E.\u0275\u0275template(26,fm,2,0,"th",14)(27,_m,3,3,"td",15),E.\u0275\u0275elementContainerEnd(),E.\u0275\u0275elementContainerStart(28,18),E.\u0275\u0275template(29,bm,2,0,"th",14)(30,hm,2,1,"td",15),E.\u0275\u0275elementContainerEnd(),E.\u0275\u0275elementContainerStart(31,19),E.\u0275\u0275template(32,Cm,2,0,"th",14)(33,xm,2,1,"td",15),E.\u0275\u0275elementContainerEnd(),E.\u0275\u0275elementContainerStart(34,20),E.\u0275\u0275template(35,Mm,1,0,"th",14)(36,vm,3,0,"td",15),E.\u0275\u0275elementContainerEnd(),E.\u0275\u0275template(37,ym,1,0,"tr",21)(38,wm,1,0,"tr",22)(39,Pm,4,1,"tr",23),E.\u0275\u0275elementEnd()()(),E.\u0275\u0275elementStart(40,"mat-card",24),E.\u0275\u0275template(41,Om,18,7,"div",25),E.\u0275\u0275elementEnd()()),t&2&&(E.\u0275\u0275advance(12),E.\u0275\u0275twoWayProperty("ngModel",n.search),E.\u0275\u0275advance(),E.\u0275\u0275property("ngIf",n.search),E.\u0275\u0275advance(5),E.\u0275\u0275property("dataSource",n.filtered),E.\u0275\u0275advance(19),E.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),E.\u0275\u0275advance(),E.\u0275\u0275property("matRowDefColumns",n.displayedColumns),E.\u0275\u0275advance(3),E.\u0275\u0275property("ngForOf",n.filtered))},dependencies:[sm,he.NgForOf,he.NgIf,cm,Ce.DefaultValueAccessor,Ce.NgControlStatus,Ce.NgModel,L,mi.MatButton,mi.MatIconButton,Lt.MatInput,Lt.MatFormField,Lt.MatLabel,Lt.MatSuffix,J.MatTable,J.MatHeaderCellDef,J.MatHeaderRowDef,J.MatColumnDef,J.MatCellDef,J.MatRowDef,J.MatHeaderCell,J.MatCell,J.MatHeaderRow,J.MatRow,J.MatNoDataRow,pi.MatCard,pi.MatCardTitle,po.MatToolbar,uo.MatChip,he.CurrencyPipe],styles:["[_nghost-%COMP%]{display:block}.fees-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:16px}.fees-toolbar[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(120deg,#3949ab,#1e88e5);color:#fff;padding:12px 16px}.toolbar-left[_ngcontent-%COMP%]   .eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.08em;font-size:12px;opacity:.9}.toolbar-left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.toolbar-actions[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.toolbar-actions[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled){background:#f8fafc;color:var(--brand-primary, #1e3a8a);border-color:#1e3a8a66;border-radius:12px}.toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled)   .mdc-button__label[_ngcontent-%COMP%], .toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled)   .mat-icon[_ngcontent-%COMP%]{color:var(--brand-primary, #1e3a8a)}.spacer[_ngcontent-%COMP%]{flex:1}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(190px,1fr));gap:12px}.metric-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:12px;align-items:center;border-radius:12px}.metric-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px;display:grid;place-items:center;color:#fff;background:#1976d229}.metric-icon.warn[_ngcontent-%COMP%]{background:#f443362e}.metric-icon.success[_ngcontent-%COMP%]{background:#2e7d322e}.metric-body[_ngcontent-%COMP%]{display:grid;gap:2px}.metric-label[_ngcontent-%COMP%]{font-size:13px;color:#6b7280;text-transform:uppercase;letter-spacing:.04em}.metric-value[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--brand-primary, #1e3a8a)}.metric-value.warn-text[_ngcontent-%COMP%]{color:var(--brand-warn, #f97316)}.metric-hint[_ngcontent-%COMP%]{color:#6b7280;font-size:13px}.filters-card[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(135deg,#4f46e514,#06b6d414);border:1px solid var(--brand-border, rgba(255, 255, 255, .12))}.filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.4fr auto auto;gap:12px;align-items:center}.full-width[_ngcontent-%COMP%]{width:100%}.search-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{background:#ffffff1a;box-shadow:0 8px 18px #0003}.icon-wrap[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.status-chips[_ngcontent-%COMP%]{display:flex;gap:8px}.status-chips[_ngcontent-%COMP%]   .mat-mdc-chip-option[_ngcontent-%COMP%]{border-radius:12px}.status-chips[_ngcontent-%COMP%]   .mat-mdc-chip-option.mat-mdc-chip-selected[_ngcontent-%COMP%]{background:#1e3a8a29;color:var(--brand-primary, #1e3a8a);border:1px solid rgba(30,58,138,.35)}.filter-actions[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:flex-end;flex-wrap:wrap}.filter-actions[_ngcontent-%COMP%]   .ghost-button.mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled){border-color:#4f46e573;color:var(--brand-primary, #1e3a8a);background:#ffffffc7;border-radius:12px;box-shadow:0 6px 16px #0000001f}.filter-actions[_ngcontent-%COMP%]   .ghost-button.mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled):hover{background:#ffffffe6;border-color:#4f46e5b3}.ghost-button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.table-card[_ngcontent-%COMP%]{border-radius:12px}.table-wrap[_ngcontent-%COMP%]{overflow-x:auto;margin-top:8px}.fees-table[_ngcontent-%COMP%]{min-width:720px}.fees-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.cell-title[_ngcontent-%COMP%]{font-weight:600}.cell-meta[_ngcontent-%COMP%]{color:var(--brand-muted, #94a3b8);font-size:12px}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.status-chip[_ngcontent-%COMP%]{height:28px;font-weight:600;border-radius:12px}.due[_ngcontent-%COMP%]{color:var(--brand-warn, #f97316);font-weight:700}.clear[_ngcontent-%COMP%]{color:var(--brand-success, #22c55e);font-weight:700}.action-row[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.compact-number[_ngcontent-%COMP%]{width:140px}.compact-number[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{padding-inline:8px;background:#ffffff14;border-radius:12px}.compact-number[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding:4px 0 8px}.record-btn.mat-mdc-unelevated-button[_ngcontent-%COMP%]:not(:disabled){background:linear-gradient(135deg,var(--brand-accent, #06b6d4),var(--brand-accent-strong, #0ea5c6));color:#0b1221;font-weight:700;border-radius:12px;box-shadow:0 8px 18px #06b6d459}.record-btn[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%], .record-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#0b1221}.record-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.structure-page[_ngcontent-%COMP%]{padding:0}.structure-header[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap;margin-bottom:12px}.structure-header[_ngcontent-%COMP%]   .class-select[_ngcontent-%COMP%]{min-width:180px}.structure-input[_ngcontent-%COMP%]{width:100%}.structure-page[_ngcontent-%COMP%]   .fees-table[_ngcontent-%COMP%]{min-width:680px}.mat-mdc-chip.mat-mdc-standard-chip[_ngcontent-%COMP%]{background:#ffffff14;border:1px solid var(--brand-border, rgba(255, 255, 255, .12))}.fee-empty[_ngcontent-%COMP%]{padding:1rem;text-align:center;color:#6b7280}.router-outlet-wrap[_ngcontent-%COMP%]{margin-top:8px}.exam-form[_ngcontent-%COMP%], .fee-form[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]{padding:.6rem;background:#fff;border-radius:8px;box-shadow:0 1px 6px #0000000a;margin-bottom:.6rem}.fee-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #edf2f7;border-radius:8px;padding:.6rem;box-shadow:0 1px 6px #0000000a}.fee-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;padding:.5rem 0}.fee-row-label[_ngcontent-%COMP%]{flex:1}.fee-row-fine[_ngcontent-%COMP%]{color:#718096;min-width:60px;text-align:right}.btn[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem .75rem}@media(max-width:1024px){.filter-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.fees-table[_ngcontent-%COMP%]{min-width:600px}.toolbar-actions[_ngcontent-%COMP%]{flex-wrap:wrap}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:8px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}}@media(max-width:640px){.fees-page[_ngcontent-%COMP%]{padding:12px}.summary-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.fees-table[_ngcontent-%COMP%]{min-width:520px}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}}",".desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:6px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}.mobile-card[_ngcontent-%COMP%]   .cell-meta[_ngcontent-%COMP%]{color:#6b7280;font-size:12px}@media(max-width:768px){.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}}"]})};import{CommonModule as Sm}from"@angular/common";import{FormsModule as Em}from"@angular/forms";import{MatTableDataSource as km}from"@angular/material/table";import{MatPaginator as Tm}from"@angular/material/paginator";import{MatSort as Dm}from"@angular/material/sort";import*as s from"@angular/core";import*as ui from"@angular/common";import*as xe from"@angular/forms";import*as gi from"@angular/material/button";import*as kt from"@angular/material/input";import*as fi from"@angular/material/select";import*as K from"@angular/material/table";import*as Me from"@angular/material/card";import*as go from"@angular/material/toolbar";import*as fo from"@angular/material/checkbox";import*as _o from"@angular/material/chips";import*as bo from"@angular/material/paginator";import*as _i from"@angular/material/sort";var Im=()=>[8,15,25];function Fm(i,e){if(i&1){let t=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"button",59),s.\u0275\u0275listener("click",function(){s.\u0275\u0275restoreView(t);let a=s.\u0275\u0275nextContext();return s.\u0275\u0275resetView(a.clearSearch())}),s.\u0275\u0275namespaceSVG(),s.\u0275\u0275elementStart(1,"svg",8),s.\u0275\u0275element(2,"path",60),s.\u0275\u0275elementEnd()()}}function Am(i,e){if(i&1&&(s.\u0275\u0275elementStart(0,"mat-option",61),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;s.\u0275\u0275property("value",t.id),s.\u0275\u0275advance(),s.\u0275\u0275textInterpolate(t.name)}}function Rm(i,e){if(i&1&&(s.\u0275\u0275elementStart(0,"mat-option",61),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;s.\u0275\u0275property("value",t),s.\u0275\u0275advance(),s.\u0275\u0275textInterpolate(t)}}function Nm(i,e){if(i&1&&(s.\u0275\u0275elementStart(0,"mat-option",61),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;s.\u0275\u0275property("value",t.id),s.\u0275\u0275advance(),s.\u0275\u0275textInterpolate(t.name)}}function zm(i,e){if(i&1&&(s.\u0275\u0275elementStart(0,"mat-option",61),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;s.\u0275\u0275property("value",t),s.\u0275\u0275advance(),s.\u0275\u0275textInterpolate(t)}}function Bm(i,e){i&1&&(s.\u0275\u0275elementStart(0,"th",62),s.\u0275\u0275text(1,"Class"),s.\u0275\u0275elementEnd())}function Lm(i,e){if(i&1&&(s.\u0275\u0275elementStart(0,"td",63),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;s.\u0275\u0275advance(),s.\u0275\u0275textInterpolate(t.classId)}}function Vm(i,e){i&1&&(s.\u0275\u0275elementStart(0,"th",62),s.\u0275\u0275text(1,"Subject"),s.\u0275\u0275elementEnd())}function Hm(i,e){if(i&1&&(s.\u0275\u0275elementStart(0,"td",63),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;s.\u0275\u0275advance(),s.\u0275\u0275textInterpolate(t.subject)}}function jm(i,e){i&1&&(s.\u0275\u0275elementStart(0,"th",62),s.\u0275\u0275text(1,"Teacher"),s.\u0275\u0275elementEnd())}function Wm(i,e){if(i&1&&(s.\u0275\u0275elementStart(0,"td",63),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;s.\u0275\u0275advance(),s.\u0275\u0275textInterpolate(t.teacher)}}function Um(i,e){i&1&&(s.\u0275\u0275elementStart(0,"th",62),s.\u0275\u0275text(1,"Day"),s.\u0275\u0275elementEnd())}function $m(i,e){if(i&1&&(s.\u0275\u0275elementStart(0,"td",63),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;s.\u0275\u0275advance(),s.\u0275\u0275textInterpolate(t.day)}}function Gm(i,e){i&1&&(s.\u0275\u0275elementStart(0,"th",62),s.\u0275\u0275text(1,"Time"),s.\u0275\u0275elementEnd())}function qm(i,e){if(i&1&&(s.\u0275\u0275elementStart(0,"td",63),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;s.\u0275\u0275advance(),s.\u0275\u0275textInterpolate(t.time)}}function Qm(i,e){i&1&&(s.\u0275\u0275elementStart(0,"th",64),s.\u0275\u0275text(1,"Conflict"),s.\u0275\u0275elementEnd())}function Ym(i,e){if(i&1&&(s.\u0275\u0275elementStart(0,"mat-chip",67),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),i&2){let t=s.\u0275\u0275nextContext().$implicit;s.\u0275\u0275advance(),s.\u0275\u0275textInterpolate(t.conflictReason)}}function Zm(i,e){i&1&&(s.\u0275\u0275elementStart(0,"span"),s.\u0275\u0275text(1,"--"),s.\u0275\u0275elementEnd())}function Jm(i,e){if(i&1&&(s.\u0275\u0275elementStart(0,"td",63),s.\u0275\u0275template(1,Ym,2,1,"mat-chip",65)(2,Zm,2,0,"span",66),s.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;s.\u0275\u0275advance(),s.\u0275\u0275property("ngIf",t.conflict),s.\u0275\u0275advance(),s.\u0275\u0275property("ngIf",!t.conflict)}}function Km(i,e){i&1&&s.\u0275\u0275element(0,"th",64)}function Xm(i,e){if(i&1){let t=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"td",63)(1,"button",68),s.\u0275\u0275listener("click",function(){let a=s.\u0275\u0275restoreView(t).$implicit,o=s.\u0275\u0275nextContext();return s.\u0275\u0275resetView(o.deleteEntry(a.id))}),s.\u0275\u0275text(2,"Delete"),s.\u0275\u0275elementEnd()()}}function tp(i,e){i&1&&s.\u0275\u0275element(0,"tr",69)}function ep(i,e){i&1&&s.\u0275\u0275element(0,"tr",70)}function np(i,e){if(i&1&&(s.\u0275\u0275elementStart(0,"tr",71)(1,"td")(2,"div",72),s.\u0275\u0275text(3,"No timetable entries match your filters."),s.\u0275\u0275elementEnd()()()),i&2){let t=s.\u0275\u0275nextContext();s.\u0275\u0275advance(),s.\u0275\u0275attribute("colspan",t.displayedColumns.length)}}function ip(i,e){if(i&1){let t=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",73)(1,"div",74)(2,"div",75),s.\u0275\u0275text(3),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(4,"mat-chip",76),s.\u0275\u0275text(5),s.\u0275\u0275elementEnd()(),s.\u0275\u0275elementStart(6,"div",77),s.\u0275\u0275text(7),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(8,"div",77),s.\u0275\u0275text(9),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(10,"div",77),s.\u0275\u0275text(11),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(12,"div",78)(13,"button",68),s.\u0275\u0275listener("click",function(){let a=s.\u0275\u0275restoreView(t).$implicit,o=s.\u0275\u0275nextContext();return s.\u0275\u0275resetView(o.deleteEntry(a.id))}),s.\u0275\u0275text(14,"Delete"),s.\u0275\u0275elementEnd()()()}if(i&2){let t=e.$implicit;s.\u0275\u0275advance(3),s.\u0275\u0275textInterpolate2("",t.classId," \xB7 ",t.subject),s.\u0275\u0275advance(),s.\u0275\u0275property("color",t.conflict?"warn":"primary"),s.\u0275\u0275advance(),s.\u0275\u0275textInterpolate1(" ",t.conflict?"Conflict":"OK"," "),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate2("",t.day," \xB7 ",t.time),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate1("Teacher: ",t.teacher),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate1("Reason: ",t.conflictReason||"None")}}var gn=class i{constructor(e){this.mock=e;this.classes=e.getClasses(),this.rows=e.getTimetable()}classes=[];rows=[];dataSource=new km([]);displayedColumns=["classId","subject","teacher","day","time","conflict","actions"];newEntry={id:0,classId:"",subject:"",teacher:"",day:"",time:""};search="";filterClass="";filterDay="";showConflictsOnly=!1;classCount=0;nextDay="";conflictCount=0;days=["Mon","Tue","Wed","Thu","Fri","Sat"];paginator;sort;ngOnInit(){this.applyFilters(),this.refreshSummary()}ngAfterViewInit(){this.attachTableHelpers()}addEntry(){!this.newEntry.classId||!this.newEntry.subject||(this.mock.addTimetableEntry(U({},this.newEntry)),this.rows=this.mock.getTimetable(),this.newEntry={id:0,classId:"",subject:"",teacher:"",day:"",time:""},this.applyFilters(),this.refreshSummary())}deleteEntry(e){this.mock.deleteTimetableEntry(e),this.rows=this.mock.getTimetable(),this.applyFilters(),this.refreshSummary()}applyFilters(){this.flagConflicts();let e=this.search.trim().toLowerCase(),t=this.rows.filter(n=>{let a=!e||n.subject.toLowerCase().includes(e)||n.teacher.toLowerCase().includes(e)||n.classId.toLowerCase().includes(e),o=!this.filterClass||n.classId===this.filterClass,v=!this.filterDay||n.day===this.filterDay,I=!this.showConflictsOnly||!!n.conflict;return a&&o&&v&&I});this.dataSource.data=t,this.attachTableHelpers()}attachTableHelpers(){this.paginator&&(this.dataSource.paginator=this.paginator,this.paginator.firstPage()),this.sort&&(this.dataSource.sort=this.sort)}clearSearch(){this.search="",this.applyFilters()}refreshSummary(){this.classCount=new Set(this.rows.map(n=>n.classId)).size;let e=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],t=this.rows.map(n=>n.day).filter(Boolean).sort((n,a)=>e.indexOf(n)-e.indexOf(a));this.nextDay=t[0]||"",this.conflictCount=this.rows.filter(n=>n.conflict).length}flagConflicts(){let e=v=>`${v.classId}-${v.day}-${v.time}`,t=v=>`${v.teacher}-${v.day}-${v.time}`,n=new Map,a=new Map;this.rows.forEach(v=>{let I=e(v),j=t(v);n.set(I,[...n.get(I)||[],v]),a.set(j,[...a.get(j)||[],v]),v.conflict=!1,v.conflictReason=""});let o=(v,I)=>{v.length>1&&v.forEach(j=>{j.conflict=!0,j.conflictReason=I})};n.forEach(v=>o(v,"Class overlap")),a.forEach(v=>o(v,"Teacher overlap"))}exportCsv(){let e=["Class","Subject","Teacher","Day","Time","Conflict","Reason"],t=this.dataSource.data.map(I=>[I.classId,`"${(I.subject||"").replace(/"/g,'""')}"`,`"${(I.teacher||"").replace(/"/g,'""')}"`,I.day,I.time,I.conflict?"Yes":"No",I.conflictReason||""].join(",")),n=[e.join(","),...t].join(`
`),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(a),v=document.createElement("a");v.href=o,v.download="timetable.csv",v.click(),URL.revokeObjectURL(o)}static \u0275fac=function(t){return new(t||i)(s.\u0275\u0275directiveInject(H))};static \u0275cmp=s.\u0275\u0275defineComponent({type:i,selectors:[["app-timetable"]],viewQuery:function(t,n){if(t&1&&(s.\u0275\u0275viewQuery(Tm,5),s.\u0275\u0275viewQuery(Dm,5)),t&2){let a;s.\u0275\u0275queryRefresh(a=s.\u0275\u0275loadQuery())&&(n.paginator=a.first),s.\u0275\u0275queryRefresh(a=s.\u0275\u0275loadQuery())&&(n.sort=a.first)}},decls:142,vars:25,consts:[[1,"fees-page","timetable-page"],["color","primary",1,"fees-toolbar","mat-elevation-z2"],[1,"toolbar-left"],[1,"eyebrow"],[1,"title"],[1,"summary-grid"],[1,"metric-card","mat-elevation-z2"],[1,"metric-icon"],["viewBox","0 0 24 24",1,"icon"],["d","M3 5h18v2H3V5zm2 4h14v2H5V9zm-2 4h18v2H3v-2zm2 4h14v2H5v-2z","fill","currentColor"],[1,"metric-body"],[1,"metric-label"],[1,"metric-value"],[1,"metric-hint"],[1,"metric-icon","success"],["d","M4 4h16v2H4V4zm0 5h16v2H4V9zm0 5h16v2H4v-2zm0 5h16v2H4v-2z","fill","currentColor"],[1,"metric-icon","warn"],["d","M19 3H5a2 2 0 0 0-2 2v14l4-4h12a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2z","fill","currentColor"],[1,"metric-value","warn-text"],["d","M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2V8h2v6z","fill","currentColor"],[1,"filters-card","mat-elevation-z2"],[1,"filter-grid"],["appearance","fill",1,"full-width","search-field"],["matPrefix","",1,"icon-wrap"],["d","M15.5 14h-.79l-.28-.27A6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28h.79l5 4.99L20.49 19l-5-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z","fill","currentColor"],["matInput","","placeholder","subject, teacher, class",3,"ngModelChange","ngModel"],["matSuffix","","mat-icon-button","","aria-label","Clear search",3,"click",4,"ngIf"],["appearance","fill"],[3,"ngModelChange","selectionChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"ngModelChange","change","ngModel"],["mat-stroked-button","","color","primary",1,"ghost-button",3,"click"],[1,"structure-header"],["appearance","fill",1,"class-select"],[3,"ngModelChange","ngModel"],["matInput","",3,"ngModelChange","ngModel"],["matInput","","placeholder","09:00",3,"ngModelChange","ngModel"],["mat-flat-button","","color","accent",1,"record-btn",3,"click"],["d","M11 5h2v6h6v2h-6v6h-2v-6H5v-2h6z","fill","currentColor"],[1,"table-card","mat-elevation-z2","desktop-only"],[1,"table-wrap"],["mat-table","","matSort","",1,"fees-table",3,"dataSource"],["matColumnDef","classId"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","subject"],["matColumnDef","teacher"],["matColumnDef","day"],["matColumnDef","time"],["matColumnDef","conflict"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","empty-state",4,"matNoDataRow"],["showFirstLastButtons","",3,"pageSize","pageSizeOptions"],[1,"mobile-only","mobile-card-list"],["class","mobile-card",4,"ngFor","ngForOf"],["matSuffix","","mat-icon-button","","aria-label","Clear search",3,"click"],["d","M18.3 5.71 12 12l6.3 6.29-1.41 1.42L12 13.41l-4.89 4.9-1.41-1.42L10.59 12 4.29 5.71 5.7 4.29 12 10.59l6.29-6.3z","fill","currentColor"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["color","warn","selected","",4,"ngIf"],[4,"ngIf"],["color","warn","selected",""],["mat-stroked-button","","color","warn",1,"ghost-button",3,"click"],["mat-header-row",""],["mat-row",""],[1,"empty-state"],[1,"fee-empty"],[1,"mobile-card"],[1,"card-row"],[1,"cell-title"],["selected","",3,"color"],[1,"cell-meta"],[1,"action-row"]],template:function(t,n){t&1&&(s.\u0275\u0275elementStart(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"div",3),s.\u0275\u0275text(4,"PoliticianHub"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(5,"div",4),s.\u0275\u0275text(6,"Timetable"),s.\u0275\u0275elementEnd()()(),s.\u0275\u0275elementStart(7,"div",5)(8,"mat-card",6)(9,"div",7),s.\u0275\u0275namespaceSVG(),s.\u0275\u0275elementStart(10,"svg",8),s.\u0275\u0275element(11,"path",9),s.\u0275\u0275elementEnd()(),s.\u0275\u0275namespaceHTML(),s.\u0275\u0275elementStart(12,"div",10)(13,"div",11),s.\u0275\u0275text(14,"Entries"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(15,"div",12),s.\u0275\u0275text(16),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(17,"div",13),s.\u0275\u0275text(18,"Across all classes"),s.\u0275\u0275elementEnd()()(),s.\u0275\u0275elementStart(19,"mat-card",6)(20,"div",14),s.\u0275\u0275namespaceSVG(),s.\u0275\u0275elementStart(21,"svg",8),s.\u0275\u0275element(22,"path",15),s.\u0275\u0275elementEnd()(),s.\u0275\u0275namespaceHTML(),s.\u0275\u0275elementStart(23,"div",10)(24,"div",11),s.\u0275\u0275text(25,"Classes"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(26,"div",12),s.\u0275\u0275text(27),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(28,"div",13),s.\u0275\u0275text(29,"With scheduled slots"),s.\u0275\u0275elementEnd()()(),s.\u0275\u0275elementStart(30,"mat-card",6)(31,"div",16),s.\u0275\u0275namespaceSVG(),s.\u0275\u0275elementStart(32,"svg",8),s.\u0275\u0275element(33,"path",17),s.\u0275\u0275elementEnd()(),s.\u0275\u0275namespaceHTML(),s.\u0275\u0275elementStart(34,"div",10)(35,"div",11),s.\u0275\u0275text(36,"Next day"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(37,"div",18),s.\u0275\u0275text(38),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(39,"div",13),s.\u0275\u0275text(40,"Earliest scheduled day"),s.\u0275\u0275elementEnd()()(),s.\u0275\u0275elementStart(41,"mat-card",6)(42,"div",16),s.\u0275\u0275namespaceSVG(),s.\u0275\u0275elementStart(43,"svg",8),s.\u0275\u0275element(44,"path",19),s.\u0275\u0275elementEnd()(),s.\u0275\u0275namespaceHTML(),s.\u0275\u0275elementStart(45,"div",10)(46,"div",11),s.\u0275\u0275text(47,"Conflicts"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(48,"div",18),s.\u0275\u0275text(49),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(50,"div",13),s.\u0275\u0275text(51,"Check class/teacher overlaps"),s.\u0275\u0275elementEnd()()()(),s.\u0275\u0275elementStart(52,"mat-card",20)(53,"div",21)(54,"mat-form-field",22)(55,"mat-label"),s.\u0275\u0275text(56,"Search subject/teacher"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(57,"span",23),s.\u0275\u0275namespaceSVG(),s.\u0275\u0275elementStart(58,"svg",8),s.\u0275\u0275element(59,"path",24),s.\u0275\u0275elementEnd()(),s.\u0275\u0275namespaceHTML(),s.\u0275\u0275elementStart(60,"input",25),s.\u0275\u0275twoWayListener("ngModelChange",function(o){return s.\u0275\u0275twoWayBindingSet(n.search,o)||(n.search=o),o}),s.\u0275\u0275listener("ngModelChange",function(){return n.applyFilters()}),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(61,Fm,3,0,"button",26),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(62,"mat-form-field",27)(63,"mat-label"),s.\u0275\u0275text(64,"Class"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(65,"mat-select",28),s.\u0275\u0275twoWayListener("ngModelChange",function(o){return s.\u0275\u0275twoWayBindingSet(n.filterClass,o)||(n.filterClass=o),o}),s.\u0275\u0275listener("selectionChange",function(){return n.applyFilters()}),s.\u0275\u0275elementStart(66,"mat-option",29),s.\u0275\u0275text(67,"All"),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(68,Am,2,2,"mat-option",30),s.\u0275\u0275elementEnd()(),s.\u0275\u0275elementStart(69,"mat-form-field",27)(70,"mat-label"),s.\u0275\u0275text(71,"Day"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(72,"mat-select",28),s.\u0275\u0275twoWayListener("ngModelChange",function(o){return s.\u0275\u0275twoWayBindingSet(n.filterDay,o)||(n.filterDay=o),o}),s.\u0275\u0275listener("selectionChange",function(){return n.applyFilters()}),s.\u0275\u0275elementStart(73,"mat-option",29),s.\u0275\u0275text(74,"All"),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(75,Rm,2,2,"mat-option",30),s.\u0275\u0275elementEnd()(),s.\u0275\u0275elementStart(76,"mat-checkbox",31),s.\u0275\u0275twoWayListener("ngModelChange",function(o){return s.\u0275\u0275twoWayBindingSet(n.showConflictsOnly,o)||(n.showConflictsOnly=o),o}),s.\u0275\u0275listener("change",function(){return n.applyFilters()}),s.\u0275\u0275text(77,"Show conflicts only"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(78,"button",32),s.\u0275\u0275listener("click",function(){return n.exportCsv()}),s.\u0275\u0275text(79,"Export CSV"),s.\u0275\u0275elementEnd()()(),s.\u0275\u0275elementStart(80,"mat-card",20)(81,"div",33)(82,"mat-form-field",34)(83,"mat-label"),s.\u0275\u0275text(84,"Class"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(85,"mat-select",35),s.\u0275\u0275twoWayListener("ngModelChange",function(o){return s.\u0275\u0275twoWayBindingSet(n.newEntry.classId,o)||(n.newEntry.classId=o),o}),s.\u0275\u0275template(86,Nm,2,2,"mat-option",30),s.\u0275\u0275elementEnd()(),s.\u0275\u0275elementStart(87,"mat-form-field",34)(88,"mat-label"),s.\u0275\u0275text(89,"Subject"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(90,"input",36),s.\u0275\u0275twoWayListener("ngModelChange",function(o){return s.\u0275\u0275twoWayBindingSet(n.newEntry.subject,o)||(n.newEntry.subject=o),o}),s.\u0275\u0275elementEnd()(),s.\u0275\u0275elementStart(91,"mat-form-field",34)(92,"mat-label"),s.\u0275\u0275text(93,"Teacher"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(94,"input",36),s.\u0275\u0275twoWayListener("ngModelChange",function(o){return s.\u0275\u0275twoWayBindingSet(n.newEntry.teacher,o)||(n.newEntry.teacher=o),o}),s.\u0275\u0275elementEnd()(),s.\u0275\u0275elementStart(95,"mat-form-field",34)(96,"mat-label"),s.\u0275\u0275text(97,"Day"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(98,"mat-select",35),s.\u0275\u0275twoWayListener("ngModelChange",function(o){return s.\u0275\u0275twoWayBindingSet(n.newEntry.day,o)||(n.newEntry.day=o),o}),s.\u0275\u0275template(99,zm,2,2,"mat-option",30),s.\u0275\u0275elementEnd()(),s.\u0275\u0275elementStart(100,"mat-form-field",34)(101,"mat-label"),s.\u0275\u0275text(102,"Time"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(103,"input",37),s.\u0275\u0275twoWayListener("ngModelChange",function(o){return s.\u0275\u0275twoWayBindingSet(n.newEntry.time,o)||(n.newEntry.time=o),o}),s.\u0275\u0275elementEnd()(),s.\u0275\u0275elementStart(104,"button",38),s.\u0275\u0275listener("click",function(){return n.addEntry()}),s.\u0275\u0275namespaceSVG(),s.\u0275\u0275elementStart(105,"svg",8),s.\u0275\u0275element(106,"path",39),s.\u0275\u0275elementEnd(),s.\u0275\u0275text(107," Add slot "),s.\u0275\u0275elementEnd()()(),s.\u0275\u0275namespaceHTML(),s.\u0275\u0275elementStart(108,"mat-card",40)(109,"mat-card-title"),s.\u0275\u0275text(110,"Schedule"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(111,"mat-card-subtitle"),s.\u0275\u0275text(112,"Class-wise sessions with filters."),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(113,"div",41)(114,"table",42),s.\u0275\u0275elementContainerStart(115,43),s.\u0275\u0275template(116,Bm,2,0,"th",44)(117,Lm,2,1,"td",45),s.\u0275\u0275elementContainerEnd(),s.\u0275\u0275elementContainerStart(118,46),s.\u0275\u0275template(119,Vm,2,0,"th",44)(120,Hm,2,1,"td",45),s.\u0275\u0275elementContainerEnd(),s.\u0275\u0275elementContainerStart(121,47),s.\u0275\u0275template(122,jm,2,0,"th",44)(123,Wm,2,1,"td",45),s.\u0275\u0275elementContainerEnd(),s.\u0275\u0275elementContainerStart(124,48),s.\u0275\u0275template(125,Um,2,0,"th",44)(126,$m,2,1,"td",45),s.\u0275\u0275elementContainerEnd(),s.\u0275\u0275elementContainerStart(127,49),s.\u0275\u0275template(128,Gm,2,0,"th",44)(129,qm,2,1,"td",45),s.\u0275\u0275elementContainerEnd(),s.\u0275\u0275elementContainerStart(130,50),s.\u0275\u0275template(131,Qm,2,0,"th",51)(132,Jm,3,2,"td",45),s.\u0275\u0275elementContainerEnd(),s.\u0275\u0275elementContainerStart(133,52),s.\u0275\u0275template(134,Km,1,0,"th",51)(135,Xm,3,0,"td",45),s.\u0275\u0275elementContainerEnd(),s.\u0275\u0275template(136,tp,1,0,"tr",53)(137,ep,1,0,"tr",54)(138,np,4,1,"tr",55),s.\u0275\u0275elementEnd()(),s.\u0275\u0275element(139,"mat-paginator",56),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(140,"mat-card",57),s.\u0275\u0275template(141,ip,15,8,"div",58),s.\u0275\u0275elementEnd()()),t&2&&(s.\u0275\u0275advance(16),s.\u0275\u0275textInterpolate(n.rows.length),s.\u0275\u0275advance(11),s.\u0275\u0275textInterpolate(n.classCount),s.\u0275\u0275advance(11),s.\u0275\u0275textInterpolate(n.nextDay||"--"),s.\u0275\u0275advance(11),s.\u0275\u0275textInterpolate(n.conflictCount),s.\u0275\u0275advance(11),s.\u0275\u0275twoWayProperty("ngModel",n.search),s.\u0275\u0275advance(),s.\u0275\u0275property("ngIf",n.search),s.\u0275\u0275advance(4),s.\u0275\u0275twoWayProperty("ngModel",n.filterClass),s.\u0275\u0275advance(3),s.\u0275\u0275property("ngForOf",n.classes),s.\u0275\u0275advance(4),s.\u0275\u0275twoWayProperty("ngModel",n.filterDay),s.\u0275\u0275advance(3),s.\u0275\u0275property("ngForOf",n.days),s.\u0275\u0275advance(),s.\u0275\u0275twoWayProperty("ngModel",n.showConflictsOnly),s.\u0275\u0275advance(9),s.\u0275\u0275twoWayProperty("ngModel",n.newEntry.classId),s.\u0275\u0275advance(),s.\u0275\u0275property("ngForOf",n.classes),s.\u0275\u0275advance(4),s.\u0275\u0275twoWayProperty("ngModel",n.newEntry.subject),s.\u0275\u0275advance(4),s.\u0275\u0275twoWayProperty("ngModel",n.newEntry.teacher),s.\u0275\u0275advance(4),s.\u0275\u0275twoWayProperty("ngModel",n.newEntry.day),s.\u0275\u0275advance(),s.\u0275\u0275property("ngForOf",n.days),s.\u0275\u0275advance(4),s.\u0275\u0275twoWayProperty("ngModel",n.newEntry.time),s.\u0275\u0275advance(11),s.\u0275\u0275property("dataSource",n.dataSource),s.\u0275\u0275advance(22),s.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),s.\u0275\u0275advance(),s.\u0275\u0275property("matRowDefColumns",n.displayedColumns),s.\u0275\u0275advance(2),s.\u0275\u0275property("pageSize",8)("pageSizeOptions",s.\u0275\u0275pureFunction0(24,Im)),s.\u0275\u0275advance(2),s.\u0275\u0275property("ngForOf",n.dataSource.data))},dependencies:[Sm,ui.NgForOf,ui.NgIf,Em,xe.DefaultValueAccessor,xe.NgControlStatus,xe.NgModel,L,gi.MatButton,gi.MatIconButton,kt.MatInput,kt.MatFormField,kt.MatLabel,kt.MatPrefix,kt.MatSuffix,fi.MatSelect,fi.MatOption,K.MatTable,K.MatHeaderCellDef,K.MatHeaderRowDef,K.MatColumnDef,K.MatCellDef,K.MatRowDef,K.MatHeaderCell,K.MatCell,K.MatHeaderRow,K.MatRow,K.MatNoDataRow,Me.MatCard,Me.MatCardSubtitle,Me.MatCardTitle,go.MatToolbar,fo.MatCheckbox,_o.MatChip,bo.MatPaginator,_i.MatSort,_i.MatSortHeader],styles:["[_nghost-%COMP%]{display:block}.fees-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:16px}.fees-toolbar[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(120deg,#3949ab,#1e88e5);color:#fff;padding:12px 16px}.toolbar-left[_ngcontent-%COMP%]   .eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.08em;font-size:12px;opacity:.9}.toolbar-left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.toolbar-actions[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.toolbar-actions[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled){background:#f8fafc;color:var(--brand-primary, #1e3a8a);border-color:#1e3a8a66;border-radius:12px}.toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled)   .mdc-button__label[_ngcontent-%COMP%], .toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled)   .mat-icon[_ngcontent-%COMP%]{color:var(--brand-primary, #1e3a8a)}.spacer[_ngcontent-%COMP%]{flex:1}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(190px,1fr));gap:12px}.metric-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:12px;align-items:center;border-radius:12px}.metric-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px;display:grid;place-items:center;color:#fff;background:#1976d229}.metric-icon.warn[_ngcontent-%COMP%]{background:#f443362e}.metric-icon.success[_ngcontent-%COMP%]{background:#2e7d322e}.metric-body[_ngcontent-%COMP%]{display:grid;gap:2px}.metric-label[_ngcontent-%COMP%]{font-size:13px;color:#6b7280;text-transform:uppercase;letter-spacing:.04em}.metric-value[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--brand-primary, #1e3a8a)}.metric-value.warn-text[_ngcontent-%COMP%]{color:var(--brand-warn, #f97316)}.metric-hint[_ngcontent-%COMP%]{color:#6b7280;font-size:13px}.filters-card[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(135deg,#4f46e514,#06b6d414);border:1px solid var(--brand-border, rgba(255, 255, 255, .12))}.filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.4fr auto auto;gap:12px;align-items:center}.full-width[_ngcontent-%COMP%]{width:100%}.search-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{background:#ffffff1a;box-shadow:0 8px 18px #0003}.icon-wrap[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.status-chips[_ngcontent-%COMP%]{display:flex;gap:8px}.status-chips[_ngcontent-%COMP%]   .mat-mdc-chip-option[_ngcontent-%COMP%]{border-radius:12px}.status-chips[_ngcontent-%COMP%]   .mat-mdc-chip-option.mat-mdc-chip-selected[_ngcontent-%COMP%]{background:#1e3a8a29;color:var(--brand-primary, #1e3a8a);border:1px solid rgba(30,58,138,.35)}.filter-actions[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:flex-end;flex-wrap:wrap}.filter-actions[_ngcontent-%COMP%]   .ghost-button.mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled){border-color:#4f46e573;color:var(--brand-primary, #1e3a8a);background:#ffffffc7;border-radius:12px;box-shadow:0 6px 16px #0000001f}.filter-actions[_ngcontent-%COMP%]   .ghost-button.mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled):hover{background:#ffffffe6;border-color:#4f46e5b3}.ghost-button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.table-card[_ngcontent-%COMP%]{border-radius:12px}.table-wrap[_ngcontent-%COMP%]{overflow-x:auto;margin-top:8px}.fees-table[_ngcontent-%COMP%]{min-width:720px}.fees-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.cell-title[_ngcontent-%COMP%]{font-weight:600}.cell-meta[_ngcontent-%COMP%]{color:var(--brand-muted, #94a3b8);font-size:12px}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.status-chip[_ngcontent-%COMP%]{height:28px;font-weight:600;border-radius:12px}.due[_ngcontent-%COMP%]{color:var(--brand-warn, #f97316);font-weight:700}.clear[_ngcontent-%COMP%]{color:var(--brand-success, #22c55e);font-weight:700}.action-row[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.compact-number[_ngcontent-%COMP%]{width:140px}.compact-number[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{padding-inline:8px;background:#ffffff14;border-radius:12px}.compact-number[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding:4px 0 8px}.record-btn.mat-mdc-unelevated-button[_ngcontent-%COMP%]:not(:disabled){background:linear-gradient(135deg,var(--brand-accent, #06b6d4),var(--brand-accent-strong, #0ea5c6));color:#0b1221;font-weight:700;border-radius:12px;box-shadow:0 8px 18px #06b6d459}.record-btn[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%], .record-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#0b1221}.record-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.structure-page[_ngcontent-%COMP%]{padding:0}.structure-header[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap;margin-bottom:12px}.structure-header[_ngcontent-%COMP%]   .class-select[_ngcontent-%COMP%]{min-width:180px}.structure-input[_ngcontent-%COMP%]{width:100%}.structure-page[_ngcontent-%COMP%]   .fees-table[_ngcontent-%COMP%]{min-width:680px}.mat-mdc-chip.mat-mdc-standard-chip[_ngcontent-%COMP%]{background:#ffffff14;border:1px solid var(--brand-border, rgba(255, 255, 255, .12))}.fee-empty[_ngcontent-%COMP%]{padding:1rem;text-align:center;color:#6b7280}.router-outlet-wrap[_ngcontent-%COMP%]{margin-top:8px}.exam-form[_ngcontent-%COMP%], .fee-form[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]{padding:.6rem;background:#fff;border-radius:8px;box-shadow:0 1px 6px #0000000a;margin-bottom:.6rem}.fee-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #edf2f7;border-radius:8px;padding:.6rem;box-shadow:0 1px 6px #0000000a}.fee-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;padding:.5rem 0}.fee-row-label[_ngcontent-%COMP%]{flex:1}.fee-row-fine[_ngcontent-%COMP%]{color:#718096;min-width:60px;text-align:right}.btn[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem .75rem}@media(max-width:1024px){.filter-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.fees-table[_ngcontent-%COMP%]{min-width:600px}.toolbar-actions[_ngcontent-%COMP%]{flex-wrap:wrap}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:8px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}}@media(max-width:640px){.fees-page[_ngcontent-%COMP%]{padding:12px}.summary-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.fees-table[_ngcontent-%COMP%]{min-width:520px}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}}",".timetable-page[_ngcontent-%COMP%]{padding:0}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:6px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}.mobile-card[_ngcontent-%COMP%]   .cell-meta[_ngcontent-%COMP%]{color:#6b7280;font-size:12px}@media(max-width:768px){.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}}"]})};import{CommonModule as ap}from"@angular/common";import{FormsModule as op}from"@angular/forms";import*as f from"@angular/core";import*as bi from"@angular/common";import*as Vt from"@angular/forms";import*as hi from"@angular/material/button";import*as Tt from"@angular/material/input";import*as Ci from"@angular/material/select";import*as ve from"@angular/material/card";import*as ho from"@angular/material/toolbar";import*as Co from"@angular/material/chips";function rp(i,e){if(i&1){let t=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"button",39),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(t);let a=f.\u0275\u0275nextContext();return f.\u0275\u0275resetView(a.clearSearch())}),f.\u0275\u0275namespaceSVG(),f.\u0275\u0275elementStart(1,"svg",8),f.\u0275\u0275element(2,"path",40),f.\u0275\u0275elementEnd()()}}function lp(i,e){if(i&1&&(f.\u0275\u0275elementStart(0,"mat-option",41),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;f.\u0275\u0275property("value",t.id),f.\u0275\u0275advance(),f.\u0275\u0275textInterpolate2("",t.firstName," ",t.lastName)}}function sp(i,e){if(i&1){let t=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr")(1,"td")(2,"div",48),f.\u0275\u0275text(3),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div",49),f.\u0275\u0275text(5),f.\u0275\u0275elementEnd()(),f.\u0275\u0275elementStart(6,"td")(7,"mat-form-field",50)(8,"mat-label"),f.\u0275\u0275text(9,"Marks"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"input",51),f.\u0275\u0275twoWayListener("ngModelChange",function(a){let o=f.\u0275\u0275restoreView(t).$implicit;return f.\u0275\u0275twoWayBindingSet(o.marks,a)||(o.marks=a),f.\u0275\u0275resetView(a)}),f.\u0275\u0275elementEnd()()()()}if(i&2){let t=e.$implicit,n=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(n.studentName(t.studentId)),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1("ID #",t.studentId),f.\u0275\u0275advance(5),f.\u0275\u0275twoWayProperty("ngModel",t.marks)}}function cp(i,e){if(i&1){let t=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"mat-card",42)(1,"mat-card-title"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"mat-card-subtitle"),f.\u0275\u0275text(4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"div",43)(6,"table",44)(7,"thead")(8,"tr")(9,"th"),f.\u0275\u0275text(10,"Student"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"th"),f.\u0275\u0275text(12,"Marks"),f.\u0275\u0275elementEnd()()(),f.\u0275\u0275elementStart(13,"tbody"),f.\u0275\u0275template(14,sp,11,3,"tr",45),f.\u0275\u0275elementEnd()()(),f.\u0275\u0275elementStart(15,"div",46)(16,"button",33),f.\u0275\u0275listener("click",function(){let a=f.\u0275\u0275restoreView(t).$implicit,o=f.\u0275\u0275nextContext();return f.\u0275\u0275resetView(o.saveMarks(a))}),f.\u0275\u0275namespaceSVG(),f.\u0275\u0275elementStart(17,"svg",8),f.\u0275\u0275element(18,"path",47),f.\u0275\u0275elementEnd(),f.\u0275\u0275text(19," Save marks "),f.\u0275\u0275elementEnd()()()}if(i&2){let t=e.$implicit;f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(t.title),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate2("",t.date," \uFFFD ",(t.studentMarks==null?null:t.studentMarks.length)||0," students"),f.\u0275\u0275advance(10),f.\u0275\u0275property("ngForOf",t.studentMarks)}}function dp(i,e){if(i&1){let t=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",57)(1,"div",49),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"mat-form-field",50)(4,"mat-label"),f.\u0275\u0275text(5,"Marks"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"input",51),f.\u0275\u0275twoWayListener("ngModelChange",function(a){let o=f.\u0275\u0275restoreView(t).$implicit;return f.\u0275\u0275twoWayBindingSet(o.marks,a)||(o.marks=a),f.\u0275\u0275resetView(a)}),f.\u0275\u0275elementEnd()()()}if(i&2){let t=e.$implicit,n=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(n.studentName(t.studentId)),f.\u0275\u0275advance(4),f.\u0275\u0275twoWayProperty("ngModel",t.marks)}}function mp(i,e){if(i&1){let t=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",52)(1,"div",53)(2,"div",48),f.\u0275\u0275text(3),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"mat-chip",54),f.\u0275\u0275text(5),f.\u0275\u0275elementEnd()(),f.\u0275\u0275elementStart(6,"div",55),f.\u0275\u0275text(7),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(8,dp,7,2,"div",56),f.\u0275\u0275elementStart(9,"div",46)(10,"button",33),f.\u0275\u0275listener("click",function(){let a=f.\u0275\u0275restoreView(t).$implicit,o=f.\u0275\u0275nextContext();return f.\u0275\u0275resetView(o.saveMarks(a))}),f.\u0275\u0275text(11," Save marks "),f.\u0275\u0275elementEnd()()()}if(i&2){let t=e.$implicit;f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(t.title),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(t.date),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1("Students: ",(t.studentMarks==null?null:t.studentMarks.length)||0),f.\u0275\u0275advance(),f.\u0275\u0275property("ngForOf",t.studentMarks)}}var fn=class i{constructor(e){this.mock=e;this.exams=e.getExams(),this.students=e.getStudents(),this.refreshMetrics()}exams=[];students=[];search="";dateFilter="";newTitle="";newDate=new Date().toISOString().slice(0,10);selectedStudentIds=[];metrics={nextExam:"",totalMarks:0};get filteredExams(){let e=this.search.trim().toLowerCase();return this.exams.filter(t=>{let n=!e||t.title.toLowerCase().includes(e)||t.date.includes(e),a=!this.dateFilter||t.date===this.dateFilter;return n&&a})}clearSearch(){this.search="",this.applyFilters()}applyFilters(){this.exams=this.mock.getExams()}studentName(e){let t=this.students.find(n=>n.id===e);return t?`${t.firstName} ${t.lastName}`:e}createExam(){this.newTitle&&(this.mock.createExam(this.newTitle,this.newDate,this.selectedStudentIds),this.exams=this.mock.getExams(),this.newTitle="",this.selectedStudentIds=[],this.refreshMetrics())}saveMarks(e){let t=e.studentMarks.map(n=>({studentId:n.studentId,marks:Number(n.marks)}));this.mock.recordMarks(e.id,t),this.exams=this.mock.getExams(),this.refreshMetrics()}refreshMetrics(){let e=this.exams.map(t=>t.date).filter(Boolean).sort();this.metrics.nextExam=e[0]||"",this.metrics.totalMarks=this.exams.reduce((t,n)=>t+(n.studentMarks?.length||0),0)}static \u0275fac=function(t){return new(t||i)(f.\u0275\u0275directiveInject(H))};static \u0275cmp=f.\u0275\u0275defineComponent({type:i,selectors:[["app-exams"]],decls:78,vars:12,consts:[[1,"fees-page","exams-page"],["color","primary",1,"fees-toolbar","mat-elevation-z2"],[1,"toolbar-left"],[1,"eyebrow"],[1,"title"],[1,"summary-grid"],[1,"metric-card","mat-elevation-z2"],[1,"metric-icon"],["viewBox","0 0 24 24",1,"icon"],["d","M5 4v3h5.5v12h3V7H19V4z","fill","currentColor"],[1,"metric-body"],[1,"metric-label"],[1,"metric-value"],[1,"metric-hint"],[1,"metric-icon","success"],["d","M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm-1 5h2v4h4v2h-6V7z","fill","currentColor"],[1,"metric-icon","warn"],["d","M7 5h14v2H7V5zm0 4h14v2H7V9zm0 4h14v2H7v-2zm0 4h14v2H7v-2zM3 5h2v2H3V5zm0 4h2v2H3V9zm0 4h2v2H3v-2zm0 4h2v2H3v-2z","fill","currentColor"],[1,"metric-value","warn-text"],[1,"filters-card","mat-elevation-z2"],[1,"filter-grid"],["appearance","fill",1,"full-width","search-field"],["matPrefix","",1,"icon-wrap"],["d","M15.5 14h-.79l-.28-.27A6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28h.79l5 4.99L20.49 19l-5-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z","fill","currentColor"],["matInput","","placeholder","title or date",3,"ngModelChange","ngModel"],["matSuffix","","mat-icon-button","","aria-label","Clear search",3,"click",4,"ngIf"],["appearance","fill"],["matInput","","type","date",3,"ngModelChange","ngModel"],[1,"structure-header"],["appearance","fill",1,"class-select"],["matInput","",3,"ngModelChange","ngModel"],["multiple","",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","color","accent",1,"record-btn",3,"click"],["d","M11 5h2v6h6v2h-6v6h-2v-6H5v-2h6z","fill","currentColor"],[1,"exam-grid","desktop-only"],["class","table-card mat-elevation-z2",4,"ngFor","ngForOf"],[1,"mobile-only","mobile-card-list"],["class","mobile-card",4,"ngFor","ngForOf"],["matSuffix","","mat-icon-button","","aria-label","Clear search",3,"click"],["d","M18.3 5.71 12 12l6.3 6.29-1.41 1.42L12 13.41l-4.89 4.9-1.41-1.42L10.59 12 4.29 5.71 5.7 4.29 12 10.59l6.29-6.3z","fill","currentColor"],[3,"value"],[1,"table-card","mat-elevation-z2"],[1,"table-wrap"],[1,"fees-table"],[4,"ngFor","ngForOf"],[1,"card-actions"],["d","M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm-2 15-4-4 1.41-1.41L10 14.17l6.59-6.58L18 9l-8 8z","fill","currentColor"],[1,"cell-title"],[1,"cell-meta"],["appearance","fill",1,"compact-number"],["matInput","","type","number",3,"ngModelChange","ngModel"],[1,"mobile-card"],[1,"card-row"],["color","primary","selected",""],[1,"cell-sub"],["class","mobile-marks",4,"ngFor","ngForOf"],[1,"mobile-marks"]],template:function(t,n){t&1&&(f.\u0275\u0275elementStart(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"div",3),f.\u0275\u0275text(4,"School Management"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"div",4),f.\u0275\u0275text(6,"Exams & Results"),f.\u0275\u0275elementEnd()()(),f.\u0275\u0275elementStart(7,"div",5)(8,"mat-card",6)(9,"div",7),f.\u0275\u0275namespaceSVG(),f.\u0275\u0275elementStart(10,"svg",8),f.\u0275\u0275element(11,"path",9),f.\u0275\u0275elementEnd()(),f.\u0275\u0275namespaceHTML(),f.\u0275\u0275elementStart(12,"div",10)(13,"div",11),f.\u0275\u0275text(14,"Total exams"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"div",12),f.\u0275\u0275text(16),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(17,"div",13),f.\u0275\u0275text(18,"Managed in this module"),f.\u0275\u0275elementEnd()()(),f.\u0275\u0275elementStart(19,"mat-card",6)(20,"div",14),f.\u0275\u0275namespaceSVG(),f.\u0275\u0275elementStart(21,"svg",8),f.\u0275\u0275element(22,"path",15),f.\u0275\u0275elementEnd()(),f.\u0275\u0275namespaceHTML(),f.\u0275\u0275elementStart(23,"div",10)(24,"div",11),f.\u0275\u0275text(25,"Next exam"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(26,"div",12),f.\u0275\u0275text(27),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(28,"div",13),f.\u0275\u0275text(29,"Sorted by date"),f.\u0275\u0275elementEnd()()(),f.\u0275\u0275elementStart(30,"mat-card",6)(31,"div",16),f.\u0275\u0275namespaceSVG(),f.\u0275\u0275elementStart(32,"svg",8),f.\u0275\u0275element(33,"path",17),f.\u0275\u0275elementEnd()(),f.\u0275\u0275namespaceHTML(),f.\u0275\u0275elementStart(34,"div",10)(35,"div",11),f.\u0275\u0275text(36,"Students marked"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(37,"div",18),f.\u0275\u0275text(38),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(39,"div",13),f.\u0275\u0275text(40,"Across all exams"),f.\u0275\u0275elementEnd()()()(),f.\u0275\u0275elementStart(41,"mat-card",19)(42,"div",20)(43,"mat-form-field",21)(44,"mat-label"),f.\u0275\u0275text(45,"Search exam"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(46,"span",22),f.\u0275\u0275namespaceSVG(),f.\u0275\u0275elementStart(47,"svg",8),f.\u0275\u0275element(48,"path",23),f.\u0275\u0275elementEnd()(),f.\u0275\u0275namespaceHTML(),f.\u0275\u0275elementStart(49,"input",24),f.\u0275\u0275twoWayListener("ngModelChange",function(o){return f.\u0275\u0275twoWayBindingSet(n.search,o)||(n.search=o),o}),f.\u0275\u0275listener("ngModelChange",function(){return n.applyFilters()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(50,rp,3,0,"button",25),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(51,"mat-form-field",26)(52,"mat-label"),f.\u0275\u0275text(53,"Date"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(54,"input",27),f.\u0275\u0275twoWayListener("ngModelChange",function(o){return f.\u0275\u0275twoWayBindingSet(n.dateFilter,o)||(n.dateFilter=o),o}),f.\u0275\u0275listener("ngModelChange",function(){return n.applyFilters()}),f.\u0275\u0275elementEnd()()()(),f.\u0275\u0275elementStart(55,"mat-card",19)(56,"div",28)(57,"mat-form-field",29)(58,"mat-label"),f.\u0275\u0275text(59,"Title"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(60,"input",30),f.\u0275\u0275twoWayListener("ngModelChange",function(o){return f.\u0275\u0275twoWayBindingSet(n.newTitle,o)||(n.newTitle=o),o}),f.\u0275\u0275elementEnd()(),f.\u0275\u0275elementStart(61,"mat-form-field",29)(62,"mat-label"),f.\u0275\u0275text(63,"Date"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(64,"input",27),f.\u0275\u0275twoWayListener("ngModelChange",function(o){return f.\u0275\u0275twoWayBindingSet(n.newDate,o)||(n.newDate=o),o}),f.\u0275\u0275elementEnd()(),f.\u0275\u0275elementStart(65,"mat-form-field",29)(66,"mat-label"),f.\u0275\u0275text(67,"Assign students"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(68,"mat-select",31),f.\u0275\u0275twoWayListener("ngModelChange",function(o){return f.\u0275\u0275twoWayBindingSet(n.selectedStudentIds,o)||(n.selectedStudentIds=o),o}),f.\u0275\u0275template(69,lp,2,3,"mat-option",32),f.\u0275\u0275elementEnd()(),f.\u0275\u0275elementStart(70,"button",33),f.\u0275\u0275listener("click",function(){return n.createExam()}),f.\u0275\u0275namespaceSVG(),f.\u0275\u0275elementStart(71,"svg",8),f.\u0275\u0275element(72,"path",34),f.\u0275\u0275elementEnd(),f.\u0275\u0275text(73," Create exam "),f.\u0275\u0275elementEnd()()(),f.\u0275\u0275namespaceHTML(),f.\u0275\u0275elementStart(74,"div",35),f.\u0275\u0275template(75,cp,20,4,"mat-card",36),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(76,"div",37),f.\u0275\u0275template(77,mp,12,4,"div",38),f.\u0275\u0275elementEnd()()),t&2&&(f.\u0275\u0275advance(16),f.\u0275\u0275textInterpolate(n.exams.length),f.\u0275\u0275advance(11),f.\u0275\u0275textInterpolate(n.metrics.nextExam||"--"),f.\u0275\u0275advance(11),f.\u0275\u0275textInterpolate(n.metrics.totalMarks),f.\u0275\u0275advance(11),f.\u0275\u0275twoWayProperty("ngModel",n.search),f.\u0275\u0275advance(),f.\u0275\u0275property("ngIf",n.search),f.\u0275\u0275advance(4),f.\u0275\u0275twoWayProperty("ngModel",n.dateFilter),f.\u0275\u0275advance(6),f.\u0275\u0275twoWayProperty("ngModel",n.newTitle),f.\u0275\u0275advance(4),f.\u0275\u0275twoWayProperty("ngModel",n.newDate),f.\u0275\u0275advance(4),f.\u0275\u0275twoWayProperty("ngModel",n.selectedStudentIds),f.\u0275\u0275advance(),f.\u0275\u0275property("ngForOf",n.students),f.\u0275\u0275advance(6),f.\u0275\u0275property("ngForOf",n.filteredExams),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",n.filteredExams))},dependencies:[ap,bi.NgForOf,bi.NgIf,op,Vt.DefaultValueAccessor,Vt.NumberValueAccessor,Vt.NgControlStatus,Vt.NgModel,L,hi.MatButton,hi.MatIconButton,Tt.MatInput,Tt.MatFormField,Tt.MatLabel,Tt.MatPrefix,Tt.MatSuffix,Ci.MatSelect,Ci.MatOption,ve.MatCard,ve.MatCardSubtitle,ve.MatCardTitle,ho.MatToolbar,Co.MatChip],styles:["[_nghost-%COMP%]{display:block}.fees-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:16px}.fees-toolbar[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(120deg,#3949ab,#1e88e5);color:#fff;padding:12px 16px}.toolbar-left[_ngcontent-%COMP%]   .eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.08em;font-size:12px;opacity:.9}.toolbar-left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.toolbar-actions[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.toolbar-actions[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled){background:#f8fafc;color:var(--brand-primary, #1e3a8a);border-color:#1e3a8a66;border-radius:12px}.toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled)   .mdc-button__label[_ngcontent-%COMP%], .toolbar-actions[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled)   .mat-icon[_ngcontent-%COMP%]{color:var(--brand-primary, #1e3a8a)}.spacer[_ngcontent-%COMP%]{flex:1}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(190px,1fr));gap:12px}.metric-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:12px;align-items:center;border-radius:12px}.metric-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px;display:grid;place-items:center;color:#fff;background:#1976d229}.metric-icon.warn[_ngcontent-%COMP%]{background:#f443362e}.metric-icon.success[_ngcontent-%COMP%]{background:#2e7d322e}.metric-body[_ngcontent-%COMP%]{display:grid;gap:2px}.metric-label[_ngcontent-%COMP%]{font-size:13px;color:#6b7280;text-transform:uppercase;letter-spacing:.04em}.metric-value[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--brand-primary, #1e3a8a)}.metric-value.warn-text[_ngcontent-%COMP%]{color:var(--brand-warn, #f97316)}.metric-hint[_ngcontent-%COMP%]{color:#6b7280;font-size:13px}.filters-card[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(135deg,#4f46e514,#06b6d414);border:1px solid var(--brand-border, rgba(255, 255, 255, .12))}.filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.4fr auto auto;gap:12px;align-items:center}.full-width[_ngcontent-%COMP%]{width:100%}.search-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{background:#ffffff1a;box-shadow:0 8px 18px #0003}.icon-wrap[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.status-chips[_ngcontent-%COMP%]{display:flex;gap:8px}.status-chips[_ngcontent-%COMP%]   .mat-mdc-chip-option[_ngcontent-%COMP%]{border-radius:12px}.status-chips[_ngcontent-%COMP%]   .mat-mdc-chip-option.mat-mdc-chip-selected[_ngcontent-%COMP%]{background:#1e3a8a29;color:var(--brand-primary, #1e3a8a);border:1px solid rgba(30,58,138,.35)}.filter-actions[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:flex-end;flex-wrap:wrap}.filter-actions[_ngcontent-%COMP%]   .ghost-button.mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled){border-color:#4f46e573;color:var(--brand-primary, #1e3a8a);background:#ffffffc7;border-radius:12px;box-shadow:0 6px 16px #0000001f}.filter-actions[_ngcontent-%COMP%]   .ghost-button.mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:disabled):hover{background:#ffffffe6;border-color:#4f46e5b3}.ghost-button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.table-card[_ngcontent-%COMP%]{border-radius:12px}.table-wrap[_ngcontent-%COMP%]{overflow-x:auto;margin-top:8px}.fees-table[_ngcontent-%COMP%]{min-width:720px}.fees-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.cell-title[_ngcontent-%COMP%]{font-weight:600}.cell-meta[_ngcontent-%COMP%]{color:var(--brand-muted, #94a3b8);font-size:12px}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.status-chip[_ngcontent-%COMP%]{height:28px;font-weight:600;border-radius:12px}.due[_ngcontent-%COMP%]{color:var(--brand-warn, #f97316);font-weight:700}.clear[_ngcontent-%COMP%]{color:var(--brand-success, #22c55e);font-weight:700}.action-row[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.compact-number[_ngcontent-%COMP%]{width:140px}.compact-number[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{padding-inline:8px;background:#ffffff14;border-radius:12px}.compact-number[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding:4px 0 8px}.record-btn.mat-mdc-unelevated-button[_ngcontent-%COMP%]:not(:disabled){background:linear-gradient(135deg,var(--brand-accent, #06b6d4),var(--brand-accent-strong, #0ea5c6));color:#0b1221;font-weight:700;border-radius:12px;box-shadow:0 8px 18px #06b6d459}.record-btn[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%], .record-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#0b1221}.record-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.structure-page[_ngcontent-%COMP%]{padding:0}.structure-header[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap;margin-bottom:12px}.structure-header[_ngcontent-%COMP%]   .class-select[_ngcontent-%COMP%]{min-width:180px}.structure-input[_ngcontent-%COMP%]{width:100%}.structure-page[_ngcontent-%COMP%]   .fees-table[_ngcontent-%COMP%]{min-width:680px}.mat-mdc-chip.mat-mdc-standard-chip[_ngcontent-%COMP%]{background:#ffffff14;border:1px solid var(--brand-border, rgba(255, 255, 255, .12))}.fee-empty[_ngcontent-%COMP%]{padding:1rem;text-align:center;color:#6b7280}.router-outlet-wrap[_ngcontent-%COMP%]{margin-top:8px}.exam-form[_ngcontent-%COMP%], .fee-form[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]{padding:.6rem;background:#fff;border-radius:8px;box-shadow:0 1px 6px #0000000a;margin-bottom:.6rem}.fee-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #edf2f7;border-radius:8px;padding:.6rem;box-shadow:0 1px 6px #0000000a}.fee-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;padding:.5rem 0}.fee-row-label[_ngcontent-%COMP%]{flex:1}.fee-row-fine[_ngcontent-%COMP%]{color:#718096;min-width:60px;text-align:right}.btn[_ngcontent-%COMP%]{font-size:.9rem;padding:.5rem .75rem}@media(max-width:1024px){.filter-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.fees-table[_ngcontent-%COMP%]{min-width:600px}.toolbar-actions[_ngcontent-%COMP%]{flex-wrap:wrap}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:8px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}}@media(max-width:640px){.fees-page[_ngcontent-%COMP%]{padding:12px}.summary-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.fees-table[_ngcontent-%COMP%]{min-width:520px}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}}",".exams-page[_ngcontent-%COMP%]{padding:0}.exam-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:12px}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:8px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}.mobile-card[_ngcontent-%COMP%]   .cell-sub[_ngcontent-%COMP%], .mobile-card[_ngcontent-%COMP%]   .cell-meta[_ngcontent-%COMP%]{color:#6b7280;font-size:12px}.mobile-marks[_ngcontent-%COMP%]{display:grid;gap:4px}@media(max-width:768px){.exam-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}}"]})};import{CommonModule as pp}from"@angular/common";import{FormsModule as up}from"@angular/forms";import*as T from"@angular/core";import*as ye from"@angular/forms";import*as xo from"@angular/material/button";import*as Ht from"@angular/material/input";import*as X from"@angular/material/table";import*as xi from"@angular/material/card";import*as we from"@angular/material/chips";function gp(i,e){i&1&&(T.\u0275\u0275elementStart(0,"th",29),T.\u0275\u0275text(1,"Name"),T.\u0275\u0275elementEnd())}function fp(i,e){if(i&1&&(T.\u0275\u0275elementStart(0,"td",30),T.\u0275\u0275text(1),T.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;T.\u0275\u0275advance(),T.\u0275\u0275textInterpolate(t.name)}}function _p(i,e){i&1&&(T.\u0275\u0275elementStart(0,"th",29),T.\u0275\u0275text(1,"Class"),T.\u0275\u0275elementEnd())}function bp(i,e){if(i&1&&(T.\u0275\u0275elementStart(0,"td",30),T.\u0275\u0275text(1),T.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;T.\u0275\u0275advance(),T.\u0275\u0275textInterpolate(t.class)}}function hp(i,e){i&1&&(T.\u0275\u0275elementStart(0,"th",29),T.\u0275\u0275text(1,"Status"),T.\u0275\u0275elementEnd())}function Cp(i,e){if(i&1&&(T.\u0275\u0275elementStart(0,"td",30)(1,"mat-chip",31),T.\u0275\u0275text(2),T.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;T.\u0275\u0275advance(),T.\u0275\u0275property("color",t.status==="verified"?"primary":t.status==="rejected"?"warn":void 0),T.\u0275\u0275advance(),T.\u0275\u0275textInterpolate1(" ",t.status," ")}}function xp(i,e){i&1&&(T.\u0275\u0275elementStart(0,"th",29),T.\u0275\u0275text(1,"Submitted"),T.\u0275\u0275elementEnd())}function Mp(i,e){if(i&1&&(T.\u0275\u0275elementStart(0,"td",30),T.\u0275\u0275text(1),T.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;T.\u0275\u0275advance(),T.\u0275\u0275textInterpolate(t.submitted)}}function vp(i,e){i&1&&(T.\u0275\u0275elementStart(0,"th",29),T.\u0275\u0275text(1,"Notes"),T.\u0275\u0275elementEnd())}function yp(i,e){if(i&1&&(T.\u0275\u0275elementStart(0,"td",30),T.\u0275\u0275text(1),T.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;T.\u0275\u0275advance(),T.\u0275\u0275textInterpolate(t.notes||"--")}}function wp(i,e){i&1&&T.\u0275\u0275element(0,"th",29)}function Pp(i,e){if(i&1){let t=T.\u0275\u0275getCurrentView();T.\u0275\u0275elementStart(0,"td",30)(1,"button",32),T.\u0275\u0275listener("click",function(){let a=T.\u0275\u0275restoreView(t).$implicit,o=T.\u0275\u0275nextContext();return T.\u0275\u0275resetView(o.update(a,"verified"))}),T.\u0275\u0275text(2,"Verify"),T.\u0275\u0275elementEnd(),T.\u0275\u0275elementStart(3,"button",33),T.\u0275\u0275listener("click",function(){let a=T.\u0275\u0275restoreView(t).$implicit,o=T.\u0275\u0275nextContext();return T.\u0275\u0275resetView(o.update(a,"rejected"))}),T.\u0275\u0275text(4,"Reject"),T.\u0275\u0275elementEnd()()}}function Op(i,e){i&1&&T.\u0275\u0275element(0,"tr",34)}function Sp(i,e){i&1&&T.\u0275\u0275element(0,"tr",35)}function Ep(i,e){if(i&1&&(T.\u0275\u0275elementStart(0,"tr",36)(1,"td"),T.\u0275\u0275text(2,"No admissions match your filters."),T.\u0275\u0275elementEnd()()),i&2){let t=T.\u0275\u0275nextContext();T.\u0275\u0275advance(),T.\u0275\u0275attribute("colspan",t.displayedColumns.length)}}var _n=class i{constructor(e){this.mock=e;this.refresh()}admissions=[];filtered=[];displayedColumns=["name","class","status","submitted","notes","actions"];search="";statusFilter="all";refresh(){this.admissions=this.mock.getAdmissions(),this.applyFilters()}applyFilters(){let e=this.search.trim().toLowerCase();this.filtered=this.admissions.filter(t=>{let n=!e||t.name.toLowerCase().includes(e)||(t.class||"").toLowerCase().includes(e),a=this.statusFilter==="all"||t.status===this.statusFilter;return n&&a})}onStatusChange(e){let t=e&&"value"in e?e.value:null;this.statusFilter=t||"all",this.applyFilters()}update(e,t){this.mock.updateAdmission(e.id,t),this.refresh()}static \u0275fac=function(t){return new(t||i)(T.\u0275\u0275directiveInject(H))};static \u0275cmp=T.\u0275\u0275defineComponent({type:i,selectors:[["app-admissions"]],decls:54,vars:5,consts:[[1,"admissions-page"],[1,"admissions-hero","mat-elevation-z2"],[1,"hero-text"],[1,"eyebrow"],[1,"title"],["mat-flat-button","","color","accent",1,"hero-action",3,"click"],[1,"icon-wrap"],[2,"display","flex","gap","12px","align-items","center","flex-wrap","wrap"],["appearance","fill",2,"flex","1 1 260px"],["matPrefix","",1,"icon-wrap"],["matInput","","placeholder","name or class",3,"ngModelChange","ngModel"],[3,"selectionChange","value"],["value","all"],["value","new"],["value","verified"],["value","rejected"],[1,"table-wrap"],["mat-table","",1,"mat-elevation-z1",2,"width","100%",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","class"],["matColumnDef","status"],["matColumnDef","submitted"],["matColumnDef","notes"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["mat-header-cell",""],["mat-cell",""],["selected","",3,"color"],["mat-stroked-button","","color","primary",3,"click"],["mat-stroked-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"]],template:function(t,n){t&1&&(T.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),T.\u0275\u0275text(4,"PoliticianHub"),T.\u0275\u0275elementEnd(),T.\u0275\u0275elementStart(5,"div",4),T.\u0275\u0275text(6,"Admissions"),T.\u0275\u0275elementEnd()(),T.\u0275\u0275elementStart(7,"button",5),T.\u0275\u0275listener("click",function(){return n.refresh()}),T.\u0275\u0275elementStart(8,"span",6),T.\u0275\u0275text(9,"+"),T.\u0275\u0275elementEnd(),T.\u0275\u0275text(10," Refresh "),T.\u0275\u0275elementEnd()(),T.\u0275\u0275elementStart(11,"mat-card")(12,"div",7)(13,"mat-form-field",8)(14,"mat-label"),T.\u0275\u0275text(15,"Search"),T.\u0275\u0275elementEnd(),T.\u0275\u0275elementStart(16,"span",9),T.\u0275\u0275text(17,"\u{1F50D}"),T.\u0275\u0275elementEnd(),T.\u0275\u0275elementStart(18,"input",10),T.\u0275\u0275twoWayListener("ngModelChange",function(o){return T.\u0275\u0275twoWayBindingSet(n.search,o)||(n.search=o),o}),T.\u0275\u0275listener("ngModelChange",function(){return n.applyFilters()}),T.\u0275\u0275elementEnd()(),T.\u0275\u0275elementStart(19,"mat-chip-listbox",11),T.\u0275\u0275listener("selectionChange",function(o){return n.onStatusChange(o)}),T.\u0275\u0275elementStart(20,"mat-chip-option",12),T.\u0275\u0275text(21,"All"),T.\u0275\u0275elementEnd(),T.\u0275\u0275elementStart(22,"mat-chip-option",13),T.\u0275\u0275text(23,"New"),T.\u0275\u0275elementEnd(),T.\u0275\u0275elementStart(24,"mat-chip-option",14),T.\u0275\u0275text(25,"Verified"),T.\u0275\u0275elementEnd(),T.\u0275\u0275elementStart(26,"mat-chip-option",15),T.\u0275\u0275text(27,"Rejected"),T.\u0275\u0275elementEnd()()()(),T.\u0275\u0275elementStart(28,"mat-card")(29,"mat-card-title"),T.\u0275\u0275text(30,"Admissions queue"),T.\u0275\u0275elementEnd(),T.\u0275\u0275elementStart(31,"div",16)(32,"table",17),T.\u0275\u0275elementContainerStart(33,18),T.\u0275\u0275template(34,gp,2,0,"th",19)(35,fp,2,1,"td",20),T.\u0275\u0275elementContainerEnd(),T.\u0275\u0275elementContainerStart(36,21),T.\u0275\u0275template(37,_p,2,0,"th",19)(38,bp,2,1,"td",20),T.\u0275\u0275elementContainerEnd(),T.\u0275\u0275elementContainerStart(39,22),T.\u0275\u0275template(40,hp,2,0,"th",19)(41,Cp,3,2,"td",20),T.\u0275\u0275elementContainerEnd(),T.\u0275\u0275elementContainerStart(42,23),T.\u0275\u0275template(43,xp,2,0,"th",19)(44,Mp,2,1,"td",20),T.\u0275\u0275elementContainerEnd(),T.\u0275\u0275elementContainerStart(45,24),T.\u0275\u0275template(46,vp,2,0,"th",19)(47,yp,2,1,"td",20),T.\u0275\u0275elementContainerEnd(),T.\u0275\u0275elementContainerStart(48,25),T.\u0275\u0275template(49,wp,1,0,"th",19)(50,Pp,5,0,"td",20),T.\u0275\u0275elementContainerEnd(),T.\u0275\u0275template(51,Op,1,0,"tr",26)(52,Sp,1,0,"tr",27)(53,Ep,3,1,"tr",28),T.\u0275\u0275elementEnd()()()()),t&2&&(T.\u0275\u0275advance(18),T.\u0275\u0275twoWayProperty("ngModel",n.search),T.\u0275\u0275advance(),T.\u0275\u0275property("value",n.statusFilter),T.\u0275\u0275advance(13),T.\u0275\u0275property("dataSource",n.filtered),T.\u0275\u0275advance(19),T.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),T.\u0275\u0275advance(),T.\u0275\u0275property("matRowDefColumns",n.displayedColumns))},dependencies:[pp,up,ye.DefaultValueAccessor,ye.NgControlStatus,ye.NgModel,L,xo.MatButton,Ht.MatInput,Ht.MatFormField,Ht.MatLabel,Ht.MatPrefix,X.MatTable,X.MatHeaderCellDef,X.MatHeaderRowDef,X.MatColumnDef,X.MatCellDef,X.MatRowDef,X.MatHeaderCell,X.MatCell,X.MatHeaderRow,X.MatRow,X.MatNoDataRow,xi.MatCard,xi.MatCardTitle,we.MatChip,we.MatChipListbox,we.MatChipOption],styles:[".admissions-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:16px}.admissions-hero[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px 16px;border-radius:16px;background:linear-gradient(90deg,#3b5998,#1e88e5);color:#fff}.hero-text[_ngcontent-%COMP%]   .eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.08em;font-size:12px;opacity:.9}.hero-text[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.hero-action[_ngcontent-%COMP%]{background:linear-gradient(135deg,#06b6d4,#0ea5c6);color:#0b1221;font-weight:700;border-radius:12px;padding:10px 16px;box-shadow:0 10px 25px #06b6d44d}.hero-action[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;margin-right:6px;font-weight:900}.table-wrap[_ngcontent-%COMP%]{overflow:auto}"]})};import{CommonModule as kp}from"@angular/common";import{FormsModule as Tp}from"@angular/forms";import*as l from"@angular/core";import*as jt from"@angular/material/dialog";import*as Mi from"@angular/common";import*as Pe from"@angular/forms";import*as Mo from"@angular/material/button";import*as vo from"@angular/material/icon";import*as Oe from"@angular/material/input";import*as vi from"@angular/material/select";import*as tt from"@angular/material/table";import*as yo from"@angular/material/card";import*as wo from"@angular/material/checkbox";import*as yi from"@angular/material/chips";var Dp=["incidentDialog"];function Ip(i,e){if(i&1&&(l.\u0275\u0275elementStart(0,"mat-chip")(1,"mat-icon",11),l.\u0275\u0275text(2,"trending_up"),l.\u0275\u0275elementEnd(),l.\u0275\u0275text(3),l.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;l.\u0275\u0275advance(3),l.\u0275\u0275textInterpolate2(" ",t.type," (",t.count,") ")}}function Fp(i,e){if(i&1&&(l.\u0275\u0275elementStart(0,"mat-option",44),l.\u0275\u0275text(1),l.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;l.\u0275\u0275property("value",t),l.\u0275\u0275advance(),l.\u0275\u0275textInterpolate(t)}}function Ap(i,e){i&1&&(l.\u0275\u0275elementStart(0,"th",45),l.\u0275\u0275text(1,"Student"),l.\u0275\u0275elementEnd())}function Rp(i,e){if(i&1&&(l.\u0275\u0275elementStart(0,"td",46)(1,"div",47),l.\u0275\u0275text(2),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(3,"div",48),l.\u0275\u0275text(4),l.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate(t.studentName),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate(t.class)}}function Np(i,e){i&1&&(l.\u0275\u0275elementStart(0,"th",45),l.\u0275\u0275text(1,"Date"),l.\u0275\u0275elementEnd())}function zp(i,e){if(i&1&&(l.\u0275\u0275elementStart(0,"td",46),l.\u0275\u0275text(1),l.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;l.\u0275\u0275advance(),l.\u0275\u0275textInterpolate(t.date)}}function Bp(i,e){i&1&&(l.\u0275\u0275elementStart(0,"th",45),l.\u0275\u0275text(1,"Type"),l.\u0275\u0275elementEnd())}function Lp(i,e){i&1&&(l.\u0275\u0275elementStart(0,"mat-chip",50),l.\u0275\u0275text(1,"Repeat"),l.\u0275\u0275elementEnd())}function Vp(i,e){if(i&1&&(l.\u0275\u0275elementStart(0,"td",46),l.\u0275\u0275text(1),l.\u0275\u0275template(2,Lp,2,0,"mat-chip",49),l.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;l.\u0275\u0275advance(),l.\u0275\u0275textInterpolate1(" ",t.type," "),l.\u0275\u0275advance(),l.\u0275\u0275property("ngIf",t.isRepeat)}}function Hp(i,e){i&1&&(l.\u0275\u0275elementStart(0,"th",45),l.\u0275\u0275text(1,"Severity"),l.\u0275\u0275elementEnd())}function jp(i,e){if(i&1&&(l.\u0275\u0275elementStart(0,"td",46)(1,"mat-chip",51),l.\u0275\u0275text(2),l.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit,n=l.\u0275\u0275nextContext();l.\u0275\u0275advance(),l.\u0275\u0275property("color",n.severityColor(t.severity)),l.\u0275\u0275advance(),l.\u0275\u0275textInterpolate1(" ",t.severity," ")}}function Wp(i,e){i&1&&(l.\u0275\u0275elementStart(0,"th",45),l.\u0275\u0275text(1,"Action taken"),l.\u0275\u0275elementEnd())}function Up(i,e){if(i&1&&(l.\u0275\u0275elementStart(0,"td",46),l.\u0275\u0275text(1),l.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;l.\u0275\u0275advance(),l.\u0275\u0275textInterpolate(t.actionTaken)}}function $p(i,e){i&1&&(l.\u0275\u0275elementStart(0,"th",45),l.\u0275\u0275text(1,"Staff"),l.\u0275\u0275elementEnd())}function Gp(i,e){if(i&1&&(l.\u0275\u0275elementStart(0,"td",46),l.\u0275\u0275text(1),l.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;l.\u0275\u0275advance(),l.\u0275\u0275textInterpolate(t.staff)}}function qp(i,e){i&1&&(l.\u0275\u0275elementStart(0,"th",45),l.\u0275\u0275text(1,"Follow-up"),l.\u0275\u0275elementEnd())}function Qp(i,e){i&1&&(l.\u0275\u0275elementStart(0,"mat-icon",54),l.\u0275\u0275text(1,"check_circle"),l.\u0275\u0275elementEnd())}function Yp(i,e){i&1&&(l.\u0275\u0275elementStart(0,"span"),l.\u0275\u0275text(1,"Parent notified"),l.\u0275\u0275elementEnd())}function Zp(i,e){if(i&1&&(l.\u0275\u0275elementStart(0,"td",46)(1,"div",47),l.\u0275\u0275text(2),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(3,"div",48),l.\u0275\u0275template(4,Qp,2,0,"mat-icon",52)(5,Yp,2,0,"span",53),l.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate(t.followUpDate||"\u2014"),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",t.parentNotified),l.\u0275\u0275advance(),l.\u0275\u0275property("ngIf",t.parentNotified)}}function Jp(i,e){i&1&&l.\u0275\u0275element(0,"th",45)}function Kp(i,e){if(i&1){let t=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"td",46)(1,"button",6),l.\u0275\u0275listener("click",function(){let a=l.\u0275\u0275restoreView(t).$implicit,o=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(o.openDialog(a))}),l.\u0275\u0275text(2,"Add follow-up"),l.\u0275\u0275elementEnd()()}}function Xp(i,e){i&1&&l.\u0275\u0275element(0,"tr",55)}function t0(i,e){i&1&&l.\u0275\u0275element(0,"tr",56)}function e0(i,e){if(i&1&&(l.\u0275\u0275elementStart(0,"tr",57)(1,"td"),l.\u0275\u0275text(2,"No incidents match your filters."),l.\u0275\u0275elementEnd()()),i&2){let t=l.\u0275\u0275nextContext();l.\u0275\u0275advance(),l.\u0275\u0275attribute("colspan",t.displayedColumns.length)}}function n0(i,e){i&1&&(l.\u0275\u0275elementStart(0,"span",62),l.\u0275\u0275text(1,"Repeat"),l.\u0275\u0275elementEnd())}function i0(i,e){i&1&&(l.\u0275\u0275elementStart(0,"span"),l.\u0275\u0275text(1,"\xB7 Parent notified"),l.\u0275\u0275elementEnd())}function a0(i,e){if(i&1){let t=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"div",58)(1,"div",59)(2,"div")(3,"div",47),l.\u0275\u0275text(4),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(5,"div",48),l.\u0275\u0275text(6),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(7,"mat-chip",51),l.\u0275\u0275text(8),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(9,"div",48),l.\u0275\u0275text(10),l.\u0275\u0275template(11,n0,2,0,"span",60),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(12,"div",48),l.\u0275\u0275text(13),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(14,"div",48),l.\u0275\u0275text(15),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(16,"div",48),l.\u0275\u0275text(17),l.\u0275\u0275template(18,i0,2,0,"span",53),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(19,"div",61)(20,"button",6),l.\u0275\u0275listener("click",function(){let a=l.\u0275\u0275restoreView(t).$implicit,o=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(o.openDialog(a))}),l.\u0275\u0275text(21,"Add follow-up"),l.\u0275\u0275elementEnd()()()}if(i&2){let t=e.$implicit,n=l.\u0275\u0275nextContext();l.\u0275\u0275advance(4),l.\u0275\u0275textInterpolate(t.studentName),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate2("",t.class," \xB7 ",t.date),l.\u0275\u0275advance(),l.\u0275\u0275property("color",n.severityColor(t.severity)),l.\u0275\u0275advance(),l.\u0275\u0275textInterpolate(t.severity),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate1("Type: ",t.type," "),l.\u0275\u0275advance(),l.\u0275\u0275property("ngIf",t.isRepeat),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate1("Action: ",t.actionTaken),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate1("Staff: ",t.staff),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate1("Follow-up: ",t.followUpDate||"\u2014"," "),l.\u0275\u0275advance(),l.\u0275\u0275property("ngIf",t.parentNotified)}}function o0(i,e){if(i&1&&(l.\u0275\u0275elementStart(0,"mat-option",44),l.\u0275\u0275text(1),l.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;l.\u0275\u0275property("value",t.id),l.\u0275\u0275advance(),l.\u0275\u0275textInterpolate2("",t.firstName," ",t.lastName)}}function r0(i,e){if(i&1&&(l.\u0275\u0275elementStart(0,"mat-option",44),l.\u0275\u0275text(1),l.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;l.\u0275\u0275property("value",t.name),l.\u0275\u0275advance(),l.\u0275\u0275textInterpolate(t.name)}}function l0(i,e){if(i&1){let t=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"h2",63),l.\u0275\u0275text(1,"Log behavior incident"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(2,"mat-dialog-content",64)(3,"div",65)(4,"mat-form-field",66)(5,"mat-label"),l.\u0275\u0275text(6,"Student"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(7,"mat-select",67),l.\u0275\u0275twoWayListener("ngModelChange",function(a){l.\u0275\u0275restoreView(t);let o=l.\u0275\u0275nextContext();return l.\u0275\u0275twoWayBindingSet(o.form.studentId,a)||(o.form.studentId=a),l.\u0275\u0275resetView(a)}),l.\u0275\u0275template(8,o0,2,3,"mat-option",20),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(9,"mat-form-field",66)(10,"mat-label"),l.\u0275\u0275text(11,"Type"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(12,"input",68),l.\u0275\u0275twoWayListener("ngModelChange",function(a){l.\u0275\u0275restoreView(t);let o=l.\u0275\u0275nextContext();return l.\u0275\u0275twoWayBindingSet(o.form.type,a)||(o.form.type=a),l.\u0275\u0275resetView(a)}),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(13,"mat-form-field",66)(14,"mat-label"),l.\u0275\u0275text(15,"Severity"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(16,"mat-select",67),l.\u0275\u0275twoWayListener("ngModelChange",function(a){l.\u0275\u0275restoreView(t);let o=l.\u0275\u0275nextContext();return l.\u0275\u0275twoWayBindingSet(o.form.severity,a)||(o.form.severity=a),l.\u0275\u0275resetView(a)}),l.\u0275\u0275elementStart(17,"mat-option",21),l.\u0275\u0275text(18,"Low"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(19,"mat-option",22),l.\u0275\u0275text(20,"Medium"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(21,"mat-option",23),l.\u0275\u0275text(22,"High"),l.\u0275\u0275elementEnd()()(),l.\u0275\u0275elementStart(23,"mat-form-field",66)(24,"mat-label"),l.\u0275\u0275text(25,"Date"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(26,"input",69),l.\u0275\u0275twoWayListener("ngModelChange",function(a){l.\u0275\u0275restoreView(t);let o=l.\u0275\u0275nextContext();return l.\u0275\u0275twoWayBindingSet(o.form.date,a)||(o.form.date=a),l.\u0275\u0275resetView(a)}),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(27,"mat-form-field",66)(28,"mat-label"),l.\u0275\u0275text(29,"Follow-up date"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(30,"input",69),l.\u0275\u0275twoWayListener("ngModelChange",function(a){l.\u0275\u0275restoreView(t);let o=l.\u0275\u0275nextContext();return l.\u0275\u0275twoWayBindingSet(o.form.followUpDate,a)||(o.form.followUpDate=a),l.\u0275\u0275resetView(a)}),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(31,"mat-form-field",66)(32,"mat-label"),l.\u0275\u0275text(33,"Staff"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(34,"mat-select",67),l.\u0275\u0275twoWayListener("ngModelChange",function(a){l.\u0275\u0275restoreView(t);let o=l.\u0275\u0275nextContext();return l.\u0275\u0275twoWayBindingSet(o.form.staff,a)||(o.form.staff=a),l.\u0275\u0275resetView(a)}),l.\u0275\u0275template(35,r0,2,2,"mat-option",20),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(36,"mat-form-field",70)(37,"mat-label"),l.\u0275\u0275text(38,"Action / Notes"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(39,"textarea",71),l.\u0275\u0275twoWayListener("ngModelChange",function(a){l.\u0275\u0275restoreView(t);let o=l.\u0275\u0275nextContext();return l.\u0275\u0275twoWayBindingSet(o.form.actionTaken,a)||(o.form.actionTaken=a),l.\u0275\u0275resetView(a)}),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(40,"mat-checkbox",67),l.\u0275\u0275twoWayListener("ngModelChange",function(a){l.\u0275\u0275restoreView(t);let o=l.\u0275\u0275nextContext();return l.\u0275\u0275twoWayBindingSet(o.form.parentNotified,a)||(o.form.parentNotified=a),l.\u0275\u0275resetView(a)}),l.\u0275\u0275text(41,"Parent notified"),l.\u0275\u0275elementEnd()()(),l.\u0275\u0275elementStart(42,"mat-dialog-actions",72)(43,"button",73),l.\u0275\u0275listener("click",function(){let a=l.\u0275\u0275restoreView(t).$implicit;return l.\u0275\u0275resetView(a.close())}),l.\u0275\u0275text(44,"Cancel"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(45,"button",74),l.\u0275\u0275listener("click",function(){let a=l.\u0275\u0275restoreView(t).$implicit,o=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(o.save(a))}),l.\u0275\u0275text(46,"Save"),l.\u0275\u0275elementEnd()()}if(i&2){let t=l.\u0275\u0275nextContext();l.\u0275\u0275advance(7),l.\u0275\u0275twoWayProperty("ngModel",t.form.studentId),l.\u0275\u0275advance(),l.\u0275\u0275property("ngForOf",t.students),l.\u0275\u0275advance(4),l.\u0275\u0275twoWayProperty("ngModel",t.form.type),l.\u0275\u0275advance(4),l.\u0275\u0275twoWayProperty("ngModel",t.form.severity),l.\u0275\u0275advance(10),l.\u0275\u0275twoWayProperty("ngModel",t.form.date),l.\u0275\u0275advance(4),l.\u0275\u0275twoWayProperty("ngModel",t.form.followUpDate),l.\u0275\u0275advance(4),l.\u0275\u0275twoWayProperty("ngModel",t.form.staff),l.\u0275\u0275advance(),l.\u0275\u0275property("ngForOf",t.staff),l.\u0275\u0275advance(4),l.\u0275\u0275twoWayProperty("ngModel",t.form.actionTaken),l.\u0275\u0275advance(),l.\u0275\u0275twoWayProperty("ngModel",t.form.parentNotified),l.\u0275\u0275advance(5),l.\u0275\u0275property("disabled",!t.form.studentId||!t.form.type)}}var bn=class i{constructor(e,t){this.mock=e;this.dialog=t;this.students=this.mock.getStudents(),this.staff=this.mock.getStaff(),this.refresh()}incidentDialog;incidents=[];filtered=[];displayedColumns=["student","date","type","severity","action","staff","followUp","actions"];classes=[];students=[];staff=[];search="";classFilter="all";severityFilter="all";startDate="";endDate="";metrics={openFollowUps:0,incidentsThisMonth:0,topCauses:[]};form={};refresh(){this.incidents=this.mock.getBehaviorIncidents(),this.classes=Array.from(new Set(this.incidents.map(e=>e.class).filter(Boolean))),this.applyFilters(),this.computeMetrics()}applyFilters(){let e=this.search.trim().toLowerCase(),t=this.startDate?new Date(this.startDate):null,n=this.endDate?new Date(this.endDate):null;this.filtered=this.incidents.filter(a=>{let o=!e||[a.studentName,a.type,a.staff].some(qt=>(qt||"").toLowerCase().includes(e)),v=this.classFilter==="all"||a.class===this.classFilter,I=this.severityFilter==="all"||a.severity===this.severityFilter,j=new Date(a.date),_t=!t||j>=t,dt=!n||j<=n;return o&&v&&I&&_t&&dt})}computeMetrics(){let e=new Date,t=e.toISOString().slice(0,7);this.metrics.incidentsThisMonth=this.incidents.filter(a=>(a.date||"").startsWith(t)).length,this.metrics.openFollowUps=this.incidents.filter(a=>a.followUpDate?new Date(a.followUpDate)>=e:!1).length;let n={};this.incidents.forEach(a=>{n[a.type]=(n[a.type]||0)+1}),this.metrics.topCauses=Object.entries(n).sort((a,o)=>o[1]-a[1]).slice(0,3).map(([a,o])=>({type:a,count:o}))}severityColor(e){return e==="high"?"warn":e==="medium"?"accent":"primary"}openDialog(e){let t=new Date().toISOString().slice(0,10);this.form={studentId:e?.studentId||(this.students[0]?.id??null),type:e?.type||"General",severity:e?.severity||"medium",date:t,followUpDate:e?.followUpDate||"",staff:e?.staff||(this.staff[0]?.name??""),actionTaken:e?.actionTaken||""},this.dialog.open(this.incidentDialog,{width:"520px"})}save(e){let t=this.students.find(n=>n.id===this.form.studentId);this.mock.addBehaviorIncident({studentId:this.form.studentId,studentName:t?`${t.firstName} ${t.lastName}`:void 0,class:t?.class,type:this.form.type,severity:this.form.severity,date:this.form.date,followUpDate:this.form.followUpDate,staff:this.form.staff,actionTaken:this.form.actionTaken||"Logged",parentNotified:!!this.form.parentNotified}),this.refresh(),e.close()}exportCsv(){let e=["Student","Class","Date","Type","Severity","Action","Staff","FollowUp","ParentNotified","Repeat"],t=this.filtered.map(I=>[I.studentName,I.class,I.date,I.type,I.severity,I.actionTaken,I.staff,I.followUpDate||"",I.parentNotified?"Yes":"No",I.isRepeat?"Yes":"No"]),n=[e,...t].map(I=>I.map(j=>`"${(j??"").toString().replace(/"/g,'""')}"`).join(",")).join(`
`),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(a),v=document.createElement("a");v.href=o,v.download="behavior-incidents.csv",v.click(),URL.revokeObjectURL(o)}static \u0275fac=function(t){return new(t||i)(l.\u0275\u0275directiveInject(H),l.\u0275\u0275directiveInject(jt.MatDialog))};static \u0275cmp=l.\u0275\u0275defineComponent({type:i,selectors:[["app-behavior"]],viewQuery:function(t,n){if(t&1&&l.\u0275\u0275viewQuery(Dp,5),t&2){let a;l.\u0275\u0275queryRefresh(a=l.\u0275\u0275loadQuery())&&(n.incidentDialog=a.first)}},decls:94,vars:13,consts:[["incidentDialog",""],[1,"behavior-page","mat-typography"],[1,"hero","mat-elevation-z2"],[1,"eyebrow"],[1,"title"],[1,"hero-actions"],["mat-stroked-button","","color","primary",3,"click"],["mat-flat-button","","color","accent",3,"click"],[1,"icon"],[1,"chips","mat-elevation-z1"],["color","accent","selected",""],["inline",""],["color","primary","selected",""],[4,"ngFor","ngForOf"],[1,"filters"],[1,"filter-grid"],["appearance","fill"],["matInput","","placeholder","student, type, staff",3,"ngModelChange","ngModel"],[3,"ngModelChange","selectionChange","ngModel"],["value","all"],[3,"value",4,"ngFor","ngForOf"],["value","low"],["value","medium"],["value","high"],["matInput","","type","date",3,"ngModelChange","change","ngModel"],[1,"table-card"],[1,"table-title"],[1,"table-wrap","desktop-only"],["mat-table","",1,"mat-elevation-z2","mat-table",3,"dataSource"],["matColumnDef","student"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","date"],["matColumnDef","type"],["matColumnDef","severity"],["matColumnDef","action"],["matColumnDef","staff"],["matColumnDef","followUp"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[1,"mobile-only","mobile-card-list"],["class","mobile-card",4,"ngFor","ngForOf"],[3,"value"],["mat-header-cell",""],["mat-cell",""],[1,"cell-strong"],[1,"cell-sub"],["color","warn","selected","","class","chip-tight",4,"ngIf"],["color","warn","selected","",1,"chip-tight"],["selected","",1,"chip-tight",3,"color"],["inline","true","aria-label","Parent notified",4,"ngIf"],[4,"ngIf"],["inline","true","aria-label","Parent notified"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],[1,"mobile-card"],[1,"card-row"],["class","pill-warn",4,"ngIf"],[1,"action-row"],[1,"pill-warn"],["mat-dialog-title",""],[1,"dialog-content"],[1,"dialog-grid"],["appearance","outline"],[3,"ngModelChange","ngModel"],["matInput","",3,"ngModelChange","ngModel"],["matInput","","type","date",3,"ngModelChange","ngModel"],["appearance","outline",1,"full-row"],["matInput","","rows","3",3,"ngModelChange","ngModel"],["align","end"],["mat-button","",3,"click"],["mat-flat-button","","color","primary",3,"click","disabled"]],template:function(t,n){if(t&1){let a=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"div",1)(1,"div",2)(2,"div")(3,"div",3),l.\u0275\u0275text(4,"PoliticianHub"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(5,"div",4),l.\u0275\u0275text(6,"Behavior"),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(7,"div",5)(8,"button",6),l.\u0275\u0275listener("click",function(){return l.\u0275\u0275restoreView(a),l.\u0275\u0275resetView(n.exportCsv())}),l.\u0275\u0275text(9,"Export CSV"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(10,"button",7),l.\u0275\u0275listener("click",function(){return l.\u0275\u0275restoreView(a),l.\u0275\u0275resetView(n.openDialog())}),l.\u0275\u0275elementStart(11,"span",8),l.\u0275\u0275text(12,"+"),l.\u0275\u0275elementEnd(),l.\u0275\u0275text(13," Log incident "),l.\u0275\u0275elementEnd()()(),l.\u0275\u0275elementStart(14,"mat-card",9)(15,"mat-chip-set")(16,"mat-chip",10)(17,"mat-icon",11),l.\u0275\u0275text(18,"schedule"),l.\u0275\u0275elementEnd(),l.\u0275\u0275text(19),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(20,"mat-chip",12)(21,"mat-icon",11),l.\u0275\u0275text(22,"event"),l.\u0275\u0275elementEnd(),l.\u0275\u0275text(23),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(24,Ip,4,2,"mat-chip",13),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(25,"mat-card",14)(26,"div",15)(27,"mat-form-field",16)(28,"mat-label"),l.\u0275\u0275text(29,"Search"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(30,"input",17),l.\u0275\u0275twoWayListener("ngModelChange",function(v){return l.\u0275\u0275restoreView(a),l.\u0275\u0275twoWayBindingSet(n.search,v)||(n.search=v),l.\u0275\u0275resetView(v)}),l.\u0275\u0275listener("ngModelChange",function(){return l.\u0275\u0275restoreView(a),l.\u0275\u0275resetView(n.applyFilters())}),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(31,"mat-form-field",16)(32,"mat-label"),l.\u0275\u0275text(33,"Class"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(34,"mat-select",18),l.\u0275\u0275twoWayListener("ngModelChange",function(v){return l.\u0275\u0275restoreView(a),l.\u0275\u0275twoWayBindingSet(n.classFilter,v)||(n.classFilter=v),l.\u0275\u0275resetView(v)}),l.\u0275\u0275listener("selectionChange",function(){return l.\u0275\u0275restoreView(a),l.\u0275\u0275resetView(n.applyFilters())}),l.\u0275\u0275elementStart(35,"mat-option",19),l.\u0275\u0275text(36,"All"),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(37,Fp,2,2,"mat-option",20),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(38,"mat-form-field",16)(39,"mat-label"),l.\u0275\u0275text(40,"Severity"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(41,"mat-select",18),l.\u0275\u0275twoWayListener("ngModelChange",function(v){return l.\u0275\u0275restoreView(a),l.\u0275\u0275twoWayBindingSet(n.severityFilter,v)||(n.severityFilter=v),l.\u0275\u0275resetView(v)}),l.\u0275\u0275listener("selectionChange",function(){return l.\u0275\u0275restoreView(a),l.\u0275\u0275resetView(n.applyFilters())}),l.\u0275\u0275elementStart(42,"mat-option",19),l.\u0275\u0275text(43,"All"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(44,"mat-option",21),l.\u0275\u0275text(45,"Low"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(46,"mat-option",22),l.\u0275\u0275text(47,"Medium"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(48,"mat-option",23),l.\u0275\u0275text(49,"High"),l.\u0275\u0275elementEnd()()(),l.\u0275\u0275elementStart(50,"mat-form-field",16)(51,"mat-label"),l.\u0275\u0275text(52,"Start date"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(53,"input",24),l.\u0275\u0275twoWayListener("ngModelChange",function(v){return l.\u0275\u0275restoreView(a),l.\u0275\u0275twoWayBindingSet(n.startDate,v)||(n.startDate=v),l.\u0275\u0275resetView(v)}),l.\u0275\u0275listener("change",function(){return l.\u0275\u0275restoreView(a),l.\u0275\u0275resetView(n.applyFilters())}),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(54,"mat-form-field",16)(55,"mat-label"),l.\u0275\u0275text(56,"End date"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(57,"input",24),l.\u0275\u0275twoWayListener("ngModelChange",function(v){return l.\u0275\u0275restoreView(a),l.\u0275\u0275twoWayBindingSet(n.endDate,v)||(n.endDate=v),l.\u0275\u0275resetView(v)}),l.\u0275\u0275listener("change",function(){return l.\u0275\u0275restoreView(a),l.\u0275\u0275resetView(n.applyFilters())}),l.\u0275\u0275elementEnd()()()(),l.\u0275\u0275elementStart(58,"mat-card",25)(59,"div",26),l.\u0275\u0275text(60,"Behavior incidents"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(61,"div",27)(62,"table",28),l.\u0275\u0275elementContainerStart(63,29),l.\u0275\u0275template(64,Ap,2,0,"th",30)(65,Rp,5,2,"td",31),l.\u0275\u0275elementContainerEnd(),l.\u0275\u0275elementContainerStart(66,32),l.\u0275\u0275template(67,Np,2,0,"th",30)(68,zp,2,1,"td",31),l.\u0275\u0275elementContainerEnd(),l.\u0275\u0275elementContainerStart(69,33),l.\u0275\u0275template(70,Bp,2,0,"th",30)(71,Vp,3,2,"td",31),l.\u0275\u0275elementContainerEnd(),l.\u0275\u0275elementContainerStart(72,34),l.\u0275\u0275template(73,Hp,2,0,"th",30)(74,jp,3,2,"td",31),l.\u0275\u0275elementContainerEnd(),l.\u0275\u0275elementContainerStart(75,35),l.\u0275\u0275template(76,Wp,2,0,"th",30)(77,Up,2,1,"td",31),l.\u0275\u0275elementContainerEnd(),l.\u0275\u0275elementContainerStart(78,36),l.\u0275\u0275template(79,$p,2,0,"th",30)(80,Gp,2,1,"td",31),l.\u0275\u0275elementContainerEnd(),l.\u0275\u0275elementContainerStart(81,37),l.\u0275\u0275template(82,qp,2,0,"th",30)(83,Zp,6,3,"td",31),l.\u0275\u0275elementContainerEnd(),l.\u0275\u0275elementContainerStart(84,38),l.\u0275\u0275template(85,Jp,1,0,"th",30)(86,Kp,3,0,"td",31),l.\u0275\u0275elementContainerEnd(),l.\u0275\u0275template(87,Xp,1,0,"tr",39)(88,t0,1,0,"tr",40)(89,e0,3,1,"tr",41),l.\u0275\u0275elementEnd()()(),l.\u0275\u0275elementStart(90,"mat-card",42),l.\u0275\u0275template(91,a0,22,11,"div",43),l.\u0275\u0275elementEnd()(),l.\u0275\u0275template(92,l0,47,11,"ng-template",null,0,l.\u0275\u0275templateRefExtractor)}t&2&&(l.\u0275\u0275advance(19),l.\u0275\u0275textInterpolate1(" Open follow-ups: ",n.metrics.openFollowUps," "),l.\u0275\u0275advance(4),l.\u0275\u0275textInterpolate1(" This month: ",n.metrics.incidentsThisMonth," "),l.\u0275\u0275advance(),l.\u0275\u0275property("ngForOf",n.metrics.topCauses),l.\u0275\u0275advance(6),l.\u0275\u0275twoWayProperty("ngModel",n.search),l.\u0275\u0275advance(4),l.\u0275\u0275twoWayProperty("ngModel",n.classFilter),l.\u0275\u0275advance(3),l.\u0275\u0275property("ngForOf",n.classes),l.\u0275\u0275advance(4),l.\u0275\u0275twoWayProperty("ngModel",n.severityFilter),l.\u0275\u0275advance(12),l.\u0275\u0275twoWayProperty("ngModel",n.startDate),l.\u0275\u0275advance(4),l.\u0275\u0275twoWayProperty("ngModel",n.endDate),l.\u0275\u0275advance(5),l.\u0275\u0275property("dataSource",n.filtered),l.\u0275\u0275advance(25),l.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),l.\u0275\u0275advance(),l.\u0275\u0275property("matRowDefColumns",n.displayedColumns),l.\u0275\u0275advance(3),l.\u0275\u0275property("ngForOf",n.filtered))},dependencies:[kp,Mi.NgForOf,Mi.NgIf,Tp,Pe.DefaultValueAccessor,Pe.NgControlStatus,Pe.NgModel,L,Mo.MatButton,vo.MatIcon,Oe.MatInput,Oe.MatFormField,Oe.MatLabel,vi.MatSelect,vi.MatOption,tt.MatTable,tt.MatHeaderCellDef,tt.MatHeaderRowDef,tt.MatColumnDef,tt.MatCellDef,tt.MatRowDef,tt.MatHeaderCell,tt.MatCell,tt.MatHeaderRow,tt.MatRow,tt.MatNoDataRow,yo.MatCard,jt.MatDialogTitle,jt.MatDialogActions,jt.MatDialogContent,wo.MatCheckbox,yi.MatChip,yi.MatChipSet],styles:[".behavior-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.hero[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 1.25rem;border-radius:14px;background:linear-gradient(90deg,#3353c6,#1b82e8);color:#fff}.eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700;letter-spacing:.08em;font-size:.8rem;opacity:.9}.title[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:700}.hero-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-wrap:wrap}.icon[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;margin-right:4px}.chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:0 .25rem}.filters[_ngcontent-%COMP%]{padding:.75rem}.filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:.75rem}.table-card[_ngcontent-%COMP%]{padding:.5rem .5rem 1rem}.table-title[_ngcontent-%COMP%]{font-weight:700;padding:.5rem .75rem}.table-wrap[_ngcontent-%COMP%]{overflow-x:auto}table[_ngcontent-%COMP%]{width:100%}.cell-strong[_ngcontent-%COMP%]{font-weight:700}.cell-sub[_ngcontent-%COMP%]{font-size:.8rem;color:#5f6472}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.chip-tight[_ngcontent-%COMP%]{height:26px;line-height:26px;margin-left:6px}.dialog-content[_ngcontent-%COMP%]{min-width:480px}.dialog-grid[_ngcontent-%COMP%]{display:grid;gap:.75rem;grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}.full-row[_ngcontent-%COMP%]{grid-column:1/-1}@media(max-width:768px){.behavior-page[_ngcontent-%COMP%]{padding:.25rem}.chips[_ngcontent-%COMP%]{padding:0 .5rem}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}table[_ngcontent-%COMP%]{min-width:640px}.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:6px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}.pill-warn[_ngcontent-%COMP%]{background:#f443361a;color:#c62828;padding:2px 8px;border-radius:999px;font-size:12px;margin-left:6px}}"]})};import{CommonModule as s0}from"@angular/common";import{FormsModule as c0}from"@angular/forms";import*as m from"@angular/core";import*as Wt from"@angular/material/dialog";import*as Po from"@angular/common";import*as Se from"@angular/forms";import*as Oo from"@angular/material/button";import*as Ee from"@angular/material/input";import*as wi from"@angular/material/select";import*as et from"@angular/material/table";import*as So from"@angular/material/card";import*as Eo from"@angular/material/chips";var d0=["announceDialog"];function m0(i,e){i&1&&(m.\u0275\u0275elementStart(0,"th",37),m.\u0275\u0275text(1,"Title"),m.\u0275\u0275elementEnd())}function p0(i,e){if(i&1&&(m.\u0275\u0275elementStart(0,"td",38)(1,"div",39),m.\u0275\u0275text(2),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"div",40),m.\u0275\u0275text(4),m.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate(t.title),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate(t.body)}}function u0(i,e){i&1&&(m.\u0275\u0275elementStart(0,"th",37),m.\u0275\u0275text(1,"Audience"),m.\u0275\u0275elementEnd())}function g0(i,e){if(i&1&&(m.\u0275\u0275elementStart(0,"td",38),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;m.\u0275\u0275advance(),m.\u0275\u0275textInterpolate(t.audience)}}function f0(i,e){i&1&&(m.\u0275\u0275elementStart(0,"th",37),m.\u0275\u0275text(1,"Priority"),m.\u0275\u0275elementEnd())}function _0(i,e){if(i&1&&(m.\u0275\u0275elementStart(0,"td",38)(1,"mat-chip",41),m.\u0275\u0275text(2),m.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit,n=m.\u0275\u0275nextContext();m.\u0275\u0275advance(),m.\u0275\u0275property("color",n.priorityColor(t.priority)),m.\u0275\u0275advance(),m.\u0275\u0275textInterpolate(t.priority)}}function b0(i,e){i&1&&(m.\u0275\u0275elementStart(0,"th",37),m.\u0275\u0275text(1,"Date"),m.\u0275\u0275elementEnd())}function h0(i,e){if(i&1&&(m.\u0275\u0275elementStart(0,"td",38),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;m.\u0275\u0275advance(),m.\u0275\u0275textInterpolate(t.date)}}function C0(i,e){i&1&&(m.\u0275\u0275elementStart(0,"th",37),m.\u0275\u0275text(1,"Author"),m.\u0275\u0275elementEnd())}function x0(i,e){if(i&1&&(m.\u0275\u0275elementStart(0,"td",38),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;m.\u0275\u0275advance(),m.\u0275\u0275textInterpolate(t.author)}}function M0(i,e){i&1&&m.\u0275\u0275element(0,"tr",42)}function v0(i,e){i&1&&m.\u0275\u0275element(0,"tr",43)}function y0(i,e){if(i&1&&(m.\u0275\u0275elementStart(0,"tr",44)(1,"td"),m.\u0275\u0275text(2,"No announcements match your filters."),m.\u0275\u0275elementEnd()()),i&2){let t=m.\u0275\u0275nextContext();m.\u0275\u0275advance(),m.\u0275\u0275attribute("colspan",t.displayedColumns.length)}}function w0(i,e){if(i&1&&(m.\u0275\u0275elementStart(0,"div",45)(1,"div",46)(2,"div",39),m.\u0275\u0275text(3),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(4,"mat-chip",41),m.\u0275\u0275text(5),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(6,"div",40),m.\u0275\u0275text(7),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(8,"div",40),m.\u0275\u0275text(9),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(10,"div",40),m.\u0275\u0275text(11),m.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit,n=m.\u0275\u0275nextContext();m.\u0275\u0275advance(3),m.\u0275\u0275textInterpolate(t.title),m.\u0275\u0275advance(),m.\u0275\u0275property("color",n.priorityColor(t.priority)),m.\u0275\u0275advance(),m.\u0275\u0275textInterpolate(t.priority),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate2("",t.audience," \xB7 ",t.date),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate(t.body),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1("Author: ",t.author)}}function P0(i,e){if(i&1){let t=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"h2",47),m.\u0275\u0275text(1,"New announcement"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(2,"mat-dialog-content",48)(3,"div",49)(4,"mat-form-field",50)(5,"mat-label"),m.\u0275\u0275text(6,"Title"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(7,"input",51),m.\u0275\u0275twoWayListener("ngModelChange",function(a){m.\u0275\u0275restoreView(t);let o=m.\u0275\u0275nextContext();return m.\u0275\u0275twoWayBindingSet(o.form.title,a)||(o.form.title=a),m.\u0275\u0275resetView(a)}),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(8,"mat-form-field",50)(9,"mat-label"),m.\u0275\u0275text(10,"Audience"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(11,"mat-select",52),m.\u0275\u0275twoWayListener("ngModelChange",function(a){m.\u0275\u0275restoreView(t);let o=m.\u0275\u0275nextContext();return m.\u0275\u0275twoWayBindingSet(o.form.audience,a)||(o.form.audience=a),m.\u0275\u0275resetView(a)}),m.\u0275\u0275elementStart(12,"mat-option",14),m.\u0275\u0275text(13,"All"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(14,"mat-option",15),m.\u0275\u0275text(15,"Students"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(16,"mat-option",16),m.\u0275\u0275text(17,"Teachers"),m.\u0275\u0275elementEnd()()(),m.\u0275\u0275elementStart(18,"mat-form-field",50)(19,"mat-label"),m.\u0275\u0275text(20,"Priority"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(21,"mat-select",52),m.\u0275\u0275twoWayListener("ngModelChange",function(a){m.\u0275\u0275restoreView(t);let o=m.\u0275\u0275nextContext();return m.\u0275\u0275twoWayBindingSet(o.form.priority,a)||(o.form.priority=a),m.\u0275\u0275resetView(a)}),m.\u0275\u0275elementStart(22,"mat-option",17),m.\u0275\u0275text(23,"Low"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(24,"mat-option",18),m.\u0275\u0275text(25,"Normal"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(26,"mat-option",19),m.\u0275\u0275text(27,"High"),m.\u0275\u0275elementEnd()()(),m.\u0275\u0275elementStart(28,"mat-form-field",50)(29,"mat-label"),m.\u0275\u0275text(30,"Date"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(31,"input",53),m.\u0275\u0275twoWayListener("ngModelChange",function(a){m.\u0275\u0275restoreView(t);let o=m.\u0275\u0275nextContext();return m.\u0275\u0275twoWayBindingSet(o.form.date,a)||(o.form.date=a),m.\u0275\u0275resetView(a)}),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(32,"mat-form-field",50)(33,"mat-label"),m.\u0275\u0275text(34,"Author"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(35,"input",51),m.\u0275\u0275twoWayListener("ngModelChange",function(a){m.\u0275\u0275restoreView(t);let o=m.\u0275\u0275nextContext();return m.\u0275\u0275twoWayBindingSet(o.form.author,a)||(o.form.author=a),m.\u0275\u0275resetView(a)}),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(36,"mat-form-field",54)(37,"mat-label"),m.\u0275\u0275text(38,"Body"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(39,"textarea",55),m.\u0275\u0275twoWayListener("ngModelChange",function(a){m.\u0275\u0275restoreView(t);let o=m.\u0275\u0275nextContext();return m.\u0275\u0275twoWayBindingSet(o.form.body,a)||(o.form.body=a),m.\u0275\u0275resetView(a)}),m.\u0275\u0275elementEnd()()()(),m.\u0275\u0275elementStart(40,"mat-dialog-actions",56)(41,"button",57),m.\u0275\u0275listener("click",function(){let a=m.\u0275\u0275restoreView(t).$implicit;return m.\u0275\u0275resetView(a.close())}),m.\u0275\u0275text(42,"Cancel"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(43,"button",58),m.\u0275\u0275listener("click",function(){let a=m.\u0275\u0275restoreView(t).$implicit,o=m.\u0275\u0275nextContext();return m.\u0275\u0275resetView(o.save(a))}),m.\u0275\u0275text(44,"Save"),m.\u0275\u0275elementEnd()()}if(i&2){let t=m.\u0275\u0275nextContext();m.\u0275\u0275advance(7),m.\u0275\u0275twoWayProperty("ngModel",t.form.title),m.\u0275\u0275advance(4),m.\u0275\u0275twoWayProperty("ngModel",t.form.audience),m.\u0275\u0275advance(10),m.\u0275\u0275twoWayProperty("ngModel",t.form.priority),m.\u0275\u0275advance(10),m.\u0275\u0275twoWayProperty("ngModel",t.form.date),m.\u0275\u0275advance(4),m.\u0275\u0275twoWayProperty("ngModel",t.form.author),m.\u0275\u0275advance(4),m.\u0275\u0275twoWayProperty("ngModel",t.form.body),m.\u0275\u0275advance(4),m.\u0275\u0275property("disabled",!t.form.title)}}var hn=class i{constructor(e,t){this.mock=e;this.dialog=t;this.refresh()}announceDialog;announcements=[];filtered=[];displayedColumns=["title","audience","priority","date","author"];search="";audience="all";priority="all";startDate="";endDate="";form={};refresh(){this.announcements=this.mock.getAnnouncements()||[],this.applyFilters()}applyFilters(){let e=this.search.trim().toLowerCase(),t=this.startDate?new Date(this.startDate):null,n=this.endDate?new Date(this.endDate):null;this.filtered=this.announcements.filter(a=>{let o=!e||[a.title,a.body,a.author].some(qt=>(qt||"").toLowerCase().includes(e)),v=this.audience==="all"||a.audience===this.audience,I=this.priority==="all"||a.priority===this.priority,j=new Date(a.date),_t=!t||j>=t,dt=!n||j<=n;return o&&v&&I&&_t&&dt})}priorityColor(e){return e==="high"?"warn":e==="normal"?"primary":"accent"}openDialog(){let e=new Date().toISOString().slice(0,10);this.form={title:"",audience:"all",priority:"normal",date:e,author:"Admin",body:""},this.dialog.open(this.announceDialog,{width:"520px"})}save(e){this.mock.addAnnouncement(this.form),this.refresh(),e.close()}exportCsv(){let e=["Title","Audience","Priority","Date","Author","Body"],t=this.filtered.map(I=>[I.title,I.audience,I.priority,I.date,I.author,I.body]),n=[e,...t].map(I=>I.map(j=>`"${(j??"").toString().replace(/"/g,'""')}"`).join(",")).join(`
`),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(a),v=document.createElement("a");v.href=o,v.download="announcements.csv",v.click(),URL.revokeObjectURL(o)}static \u0275fac=function(t){return new(t||i)(m.\u0275\u0275directiveInject(H),m.\u0275\u0275directiveInject(Wt.MatDialog))};static \u0275cmp=m.\u0275\u0275defineComponent({type:i,selectors:[["app-announcements"]],viewQuery:function(t,n){if(t&1&&m.\u0275\u0275viewQuery(d0,5),t&2){let a;m.\u0275\u0275queryRefresh(a=m.\u0275\u0275loadQuery())&&(n.announceDialog=a.first)}},decls:77,vars:9,consts:[["announceDialog",""],[1,"announcements","mat-typography"],[1,"hero","mat-elevation-z2"],[1,"eyebrow"],[1,"title"],[1,"hero-actions"],["mat-stroked-button","","color","primary",3,"click"],["mat-flat-button","","color","accent",3,"click"],[1,"icon"],[1,"filters"],[1,"filter-grid"],["appearance","fill"],["matInput","","placeholder","title or body",3,"ngModelChange","ngModel"],[3,"ngModelChange","selectionChange","ngModel"],["value","all"],["value","students"],["value","teachers"],["value","low"],["value","normal"],["value","high"],["matInput","","type","date",3,"ngModelChange","change","ngModel"],[1,"table-card","desktop-only"],[1,"table-title"],[1,"table-wrap"],["mat-table","",1,"mat-elevation-z2","mat-table",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","audience"],["matColumnDef","priority"],["matColumnDef","date"],["matColumnDef","author"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[1,"mobile-only","mobile-card-list"],["class","mobile-card",4,"ngFor","ngForOf"],["mat-header-cell",""],["mat-cell",""],[1,"cell-strong"],[1,"cell-sub"],["selected","",3,"color"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],[1,"mobile-card"],[1,"card-row"],["mat-dialog-title",""],[1,"dialog-content"],[1,"dialog-grid"],["appearance","outline"],["matInput","",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["matInput","","type","date",3,"ngModelChange","ngModel"],["appearance","outline",1,"full-row"],["matInput","","rows","3",3,"ngModelChange","ngModel"],["align","end"],["mat-button","",3,"click"],["mat-flat-button","","color","primary",3,"click","disabled"]],template:function(t,n){if(t&1){let a=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"div",1)(1,"div",2)(2,"div")(3,"div",3),m.\u0275\u0275text(4,"PoliticianHub"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(5,"div",4),m.\u0275\u0275text(6,"Announcements"),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(7,"div",5)(8,"button",6),m.\u0275\u0275listener("click",function(){return m.\u0275\u0275restoreView(a),m.\u0275\u0275resetView(n.exportCsv())}),m.\u0275\u0275text(9,"Export CSV"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(10,"button",7),m.\u0275\u0275listener("click",function(){return m.\u0275\u0275restoreView(a),m.\u0275\u0275resetView(n.openDialog())}),m.\u0275\u0275elementStart(11,"span",8),m.\u0275\u0275text(12,"+"),m.\u0275\u0275elementEnd(),m.\u0275\u0275text(13," New announcement "),m.\u0275\u0275elementEnd()()(),m.\u0275\u0275elementStart(14,"mat-card",9)(15,"div",10)(16,"mat-form-field",11)(17,"mat-label"),m.\u0275\u0275text(18,"Search"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(19,"input",12),m.\u0275\u0275twoWayListener("ngModelChange",function(v){return m.\u0275\u0275restoreView(a),m.\u0275\u0275twoWayBindingSet(n.search,v)||(n.search=v),m.\u0275\u0275resetView(v)}),m.\u0275\u0275listener("ngModelChange",function(){return m.\u0275\u0275restoreView(a),m.\u0275\u0275resetView(n.applyFilters())}),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(20,"mat-form-field",11)(21,"mat-label"),m.\u0275\u0275text(22,"Audience"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(23,"mat-select",13),m.\u0275\u0275twoWayListener("ngModelChange",function(v){return m.\u0275\u0275restoreView(a),m.\u0275\u0275twoWayBindingSet(n.audience,v)||(n.audience=v),m.\u0275\u0275resetView(v)}),m.\u0275\u0275listener("selectionChange",function(){return m.\u0275\u0275restoreView(a),m.\u0275\u0275resetView(n.applyFilters())}),m.\u0275\u0275elementStart(24,"mat-option",14),m.\u0275\u0275text(25,"All"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(26,"mat-option",15),m.\u0275\u0275text(27,"Students"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(28,"mat-option",16),m.\u0275\u0275text(29,"Teachers"),m.\u0275\u0275elementEnd()()(),m.\u0275\u0275elementStart(30,"mat-form-field",11)(31,"mat-label"),m.\u0275\u0275text(32,"Priority"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(33,"mat-select",13),m.\u0275\u0275twoWayListener("ngModelChange",function(v){return m.\u0275\u0275restoreView(a),m.\u0275\u0275twoWayBindingSet(n.priority,v)||(n.priority=v),m.\u0275\u0275resetView(v)}),m.\u0275\u0275listener("selectionChange",function(){return m.\u0275\u0275restoreView(a),m.\u0275\u0275resetView(n.applyFilters())}),m.\u0275\u0275elementStart(34,"mat-option",14),m.\u0275\u0275text(35,"All"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(36,"mat-option",17),m.\u0275\u0275text(37,"Low"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(38,"mat-option",18),m.\u0275\u0275text(39,"Normal"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(40,"mat-option",19),m.\u0275\u0275text(41,"High"),m.\u0275\u0275elementEnd()()(),m.\u0275\u0275elementStart(42,"mat-form-field",11)(43,"mat-label"),m.\u0275\u0275text(44,"Start date"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(45,"input",20),m.\u0275\u0275twoWayListener("ngModelChange",function(v){return m.\u0275\u0275restoreView(a),m.\u0275\u0275twoWayBindingSet(n.startDate,v)||(n.startDate=v),m.\u0275\u0275resetView(v)}),m.\u0275\u0275listener("change",function(){return m.\u0275\u0275restoreView(a),m.\u0275\u0275resetView(n.applyFilters())}),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(46,"mat-form-field",11)(47,"mat-label"),m.\u0275\u0275text(48,"End date"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(49,"input",20),m.\u0275\u0275twoWayListener("ngModelChange",function(v){return m.\u0275\u0275restoreView(a),m.\u0275\u0275twoWayBindingSet(n.endDate,v)||(n.endDate=v),m.\u0275\u0275resetView(v)}),m.\u0275\u0275listener("change",function(){return m.\u0275\u0275restoreView(a),m.\u0275\u0275resetView(n.applyFilters())}),m.\u0275\u0275elementEnd()()()(),m.\u0275\u0275elementStart(50,"mat-card",21)(51,"div",22),m.\u0275\u0275text(52,"Recent announcements"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(53,"div",23)(54,"table",24),m.\u0275\u0275elementContainerStart(55,25),m.\u0275\u0275template(56,m0,2,0,"th",26)(57,p0,5,2,"td",27),m.\u0275\u0275elementContainerEnd(),m.\u0275\u0275elementContainerStart(58,28),m.\u0275\u0275template(59,u0,2,0,"th",26)(60,g0,2,1,"td",27),m.\u0275\u0275elementContainerEnd(),m.\u0275\u0275elementContainerStart(61,29),m.\u0275\u0275template(62,f0,2,0,"th",26)(63,_0,3,2,"td",27),m.\u0275\u0275elementContainerEnd(),m.\u0275\u0275elementContainerStart(64,30),m.\u0275\u0275template(65,b0,2,0,"th",26)(66,h0,2,1,"td",27),m.\u0275\u0275elementContainerEnd(),m.\u0275\u0275elementContainerStart(67,31),m.\u0275\u0275template(68,C0,2,0,"th",26)(69,x0,2,1,"td",27),m.\u0275\u0275elementContainerEnd(),m.\u0275\u0275template(70,M0,1,0,"tr",32)(71,v0,1,0,"tr",33)(72,y0,3,1,"tr",34),m.\u0275\u0275elementEnd()()(),m.\u0275\u0275elementStart(73,"mat-card",35),m.\u0275\u0275template(74,w0,12,7,"div",36),m.\u0275\u0275elementEnd()(),m.\u0275\u0275template(75,P0,45,7,"ng-template",null,0,m.\u0275\u0275templateRefExtractor)}t&2&&(m.\u0275\u0275advance(19),m.\u0275\u0275twoWayProperty("ngModel",n.search),m.\u0275\u0275advance(4),m.\u0275\u0275twoWayProperty("ngModel",n.audience),m.\u0275\u0275advance(10),m.\u0275\u0275twoWayProperty("ngModel",n.priority),m.\u0275\u0275advance(12),m.\u0275\u0275twoWayProperty("ngModel",n.startDate),m.\u0275\u0275advance(4),m.\u0275\u0275twoWayProperty("ngModel",n.endDate),m.\u0275\u0275advance(5),m.\u0275\u0275property("dataSource",n.filtered),m.\u0275\u0275advance(16),m.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),m.\u0275\u0275advance(),m.\u0275\u0275property("matRowDefColumns",n.displayedColumns),m.\u0275\u0275advance(3),m.\u0275\u0275property("ngForOf",n.filtered))},dependencies:[s0,Po.NgForOf,c0,Se.DefaultValueAccessor,Se.NgControlStatus,Se.NgModel,L,Oo.MatButton,Ee.MatInput,Ee.MatFormField,Ee.MatLabel,wi.MatSelect,wi.MatOption,et.MatTable,et.MatHeaderCellDef,et.MatHeaderRowDef,et.MatColumnDef,et.MatCellDef,et.MatRowDef,et.MatHeaderCell,et.MatCell,et.MatHeaderRow,et.MatRow,et.MatNoDataRow,So.MatCard,Wt.MatDialogTitle,Wt.MatDialogActions,Wt.MatDialogContent,Eo.MatChip],styles:[".announcements[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.hero[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 1.25rem;border-radius:14px;background:linear-gradient(90deg,#334ac6,#2185e3);color:#fff}.eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700;letter-spacing:.08em;font-size:.8rem;opacity:.9}.title[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:700}.hero-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-wrap:wrap}.icon[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;margin-right:4px}.filters[_ngcontent-%COMP%]{padding:.75rem}.filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:.75rem}.table-card[_ngcontent-%COMP%]{padding:.5rem .5rem 1rem}.table-title[_ngcontent-%COMP%]{font-weight:700;padding:.5rem .75rem}.table-wrap[_ngcontent-%COMP%]{overflow:auto}table[_ngcontent-%COMP%]{width:100%}.cell-strong[_ngcontent-%COMP%]{font-weight:700}.cell-sub[_ngcontent-%COMP%]{font-size:.85rem;color:#5f6472}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:6px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}@media(max-width:768px){.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}.announcements[_ngcontent-%COMP%]{padding:.25rem}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}}.dialog-content[_ngcontent-%COMP%]{min-width:480px}.dialog-grid[_ngcontent-%COMP%]{display:grid;gap:.75rem;grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}.full-row[_ngcontent-%COMP%]{grid-column:1/-1}"]})};import{CommonModule as O0}from"@angular/common";import{FormsModule as S0}from"@angular/forms";import*as C from"@angular/core";import*as Pi from"@angular/common";import*as ke from"@angular/forms";import*as ko from"@angular/material/button";import*as Te from"@angular/material/input";import*as Oi from"@angular/material/select";import*as nt from"@angular/material/table";import*as To from"@angular/material/card";import*as Do from"@angular/material/chips";function E0(i,e){if(i&1&&(C.\u0275\u0275elementStart(0,"mat-option",31),C.\u0275\u0275text(1),C.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;C.\u0275\u0275property("value",t),C.\u0275\u0275advance(),C.\u0275\u0275textInterpolate(t)}}function k0(i,e){i&1&&(C.\u0275\u0275elementStart(0,"th",32),C.\u0275\u0275text(1,"Title"),C.\u0275\u0275elementEnd())}function T0(i,e){if(i&1&&(C.\u0275\u0275elementStart(0,"td",33)(1,"div",34),C.\u0275\u0275text(2),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(3,"div",35),C.\u0275\u0275text(4),C.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;C.\u0275\u0275advance(2),C.\u0275\u0275textInterpolate(t.title),C.\u0275\u0275advance(2),C.\u0275\u0275textInterpolate(t.author)}}function D0(i,e){i&1&&(C.\u0275\u0275elementStart(0,"th",32),C.\u0275\u0275text(1,"Category"),C.\u0275\u0275elementEnd())}function I0(i,e){if(i&1&&(C.\u0275\u0275elementStart(0,"td",33),C.\u0275\u0275text(1),C.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;C.\u0275\u0275advance(),C.\u0275\u0275textInterpolate(t.category)}}function F0(i,e){i&1&&(C.\u0275\u0275elementStart(0,"th",32),C.\u0275\u0275text(1,"Status"),C.\u0275\u0275elementEnd())}function A0(i,e){if(i&1&&(C.\u0275\u0275elementStart(0,"td",33)(1,"mat-chip",36),C.\u0275\u0275text(2),C.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;C.\u0275\u0275advance(),C.\u0275\u0275property("color",t.status==="available"?"primary":"warn"),C.\u0275\u0275advance(),C.\u0275\u0275textInterpolate(t.status)}}function R0(i,e){i&1&&(C.\u0275\u0275elementStart(0,"th",32),C.\u0275\u0275text(1,"Borrower"),C.\u0275\u0275elementEnd())}function N0(i,e){if(i&1&&(C.\u0275\u0275elementStart(0,"div")(1,"div",34),C.\u0275\u0275text(2),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(3,"div",35),C.\u0275\u0275text(4),C.\u0275\u0275elementEnd()()),i&2){let t=C.\u0275\u0275nextContext().$implicit;C.\u0275\u0275advance(2),C.\u0275\u0275textInterpolate(t.borrower),C.\u0275\u0275advance(2),C.\u0275\u0275textInterpolate1("Due ",t.dueDate||"--")}}function z0(i,e){i&1&&(C.\u0275\u0275elementStart(0,"span"),C.\u0275\u0275text(1,"\u2014"),C.\u0275\u0275elementEnd())}function B0(i,e){if(i&1&&(C.\u0275\u0275elementStart(0,"td",33),C.\u0275\u0275template(1,N0,5,2,"div",37)(2,z0,2,0,"span",37),C.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;C.\u0275\u0275advance(),C.\u0275\u0275property("ngIf",t.status==="checked-out"),C.\u0275\u0275advance(),C.\u0275\u0275property("ngIf",t.status==="available")}}function L0(i,e){i&1&&C.\u0275\u0275element(0,"th",32)}function V0(i,e){if(i&1){let t=C.\u0275\u0275getCurrentView();C.\u0275\u0275elementStart(0,"button",5),C.\u0275\u0275listener("click",function(){C.\u0275\u0275restoreView(t);let a=C.\u0275\u0275nextContext().$implicit,o=C.\u0275\u0275nextContext();return C.\u0275\u0275resetView(o.quickCheckout(a))}),C.\u0275\u0275text(1,"Checkout"),C.\u0275\u0275elementEnd()}}function H0(i,e){if(i&1){let t=C.\u0275\u0275getCurrentView();C.\u0275\u0275elementStart(0,"button",40),C.\u0275\u0275listener("click",function(){C.\u0275\u0275restoreView(t);let a=C.\u0275\u0275nextContext().$implicit,o=C.\u0275\u0275nextContext();return C.\u0275\u0275resetView(o.markReturned(a))}),C.\u0275\u0275text(1,"Return"),C.\u0275\u0275elementEnd()}}function j0(i,e){if(i&1&&(C.\u0275\u0275elementStart(0,"td",33),C.\u0275\u0275template(1,V0,2,0,"button",38)(2,H0,2,0,"button",39),C.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;C.\u0275\u0275advance(),C.\u0275\u0275property("ngIf",t.status==="available"),C.\u0275\u0275advance(),C.\u0275\u0275property("ngIf",t.status==="checked-out")}}function W0(i,e){i&1&&C.\u0275\u0275element(0,"tr",41)}function U0(i,e){i&1&&C.\u0275\u0275element(0,"tr",42)}function $0(i,e){if(i&1&&(C.\u0275\u0275elementStart(0,"tr",43)(1,"td"),C.\u0275\u0275text(2,"No books match your filters."),C.\u0275\u0275elementEnd()()),i&2){let t=C.\u0275\u0275nextContext();C.\u0275\u0275advance(),C.\u0275\u0275attribute("colspan",t.displayedColumns.length)}}function G0(i,e){if(i&1&&(C.\u0275\u0275elementStart(0,"div",35),C.\u0275\u0275text(1),C.\u0275\u0275elementEnd()),i&2){let t=C.\u0275\u0275nextContext().$implicit;C.\u0275\u0275advance(),C.\u0275\u0275textInterpolate2("Borrower: ",t.borrower," \xB7 Due ",t.dueDate||"--")}}function q0(i,e){i&1&&(C.\u0275\u0275elementStart(0,"div",35),C.\u0275\u0275text(1,"Available for checkout"),C.\u0275\u0275elementEnd())}function Q0(i,e){if(i&1){let t=C.\u0275\u0275getCurrentView();C.\u0275\u0275elementStart(0,"button",5),C.\u0275\u0275listener("click",function(){C.\u0275\u0275restoreView(t);let a=C.\u0275\u0275nextContext().$implicit,o=C.\u0275\u0275nextContext();return C.\u0275\u0275resetView(o.quickCheckout(a))}),C.\u0275\u0275text(1,"Checkout"),C.\u0275\u0275elementEnd()}}function Y0(i,e){if(i&1){let t=C.\u0275\u0275getCurrentView();C.\u0275\u0275elementStart(0,"button",40),C.\u0275\u0275listener("click",function(){C.\u0275\u0275restoreView(t);let a=C.\u0275\u0275nextContext().$implicit,o=C.\u0275\u0275nextContext();return C.\u0275\u0275resetView(o.markReturned(a))}),C.\u0275\u0275text(1,"Return"),C.\u0275\u0275elementEnd()}}function Z0(i,e){if(i&1&&(C.\u0275\u0275elementStart(0,"div",44)(1,"div",45)(2,"div")(3,"div",34),C.\u0275\u0275text(4),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(5,"div",35),C.\u0275\u0275text(6),C.\u0275\u0275elementEnd()(),C.\u0275\u0275elementStart(7,"mat-chip",36),C.\u0275\u0275text(8),C.\u0275\u0275elementEnd()(),C.\u0275\u0275template(9,G0,2,2,"div",46)(10,q0,2,0,"div",46),C.\u0275\u0275elementStart(11,"div",47),C.\u0275\u0275template(12,Q0,2,0,"button",38)(13,Y0,2,0,"button",39),C.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;C.\u0275\u0275advance(4),C.\u0275\u0275textInterpolate(t.title),C.\u0275\u0275advance(2),C.\u0275\u0275textInterpolate2("",t.author," \xB7 ",t.category),C.\u0275\u0275advance(),C.\u0275\u0275property("color",t.status==="available"?"primary":"warn"),C.\u0275\u0275advance(),C.\u0275\u0275textInterpolate(t.status),C.\u0275\u0275advance(),C.\u0275\u0275property("ngIf",t.status==="checked-out"),C.\u0275\u0275advance(),C.\u0275\u0275property("ngIf",t.status==="available"),C.\u0275\u0275advance(2),C.\u0275\u0275property("ngIf",t.status==="available"),C.\u0275\u0275advance(),C.\u0275\u0275property("ngIf",t.status==="checked-out")}}var Cn=class i{constructor(e){this.mock=e;this.refresh()}items=[];filtered=[];categories=[];displayedColumns=["title","category","status","borrower","actions"];search="";status="all";category="all";refresh(){this.items=this.mock.getLibraryItems()||[],this.categories=Array.from(new Set(this.items.map(e=>e.category).filter(Boolean))),this.applyFilters()}applyFilters(){let e=this.search.trim().toLowerCase();this.filtered=this.items.filter(t=>{let n=!e||[t.title,t.author,t.borrower].some(v=>(v||"").toLowerCase().includes(e)),a=this.status==="all"||t.status===this.status,o=this.category==="all"||t.category===this.category;return n&&a&&o})}quickCheckout(e){let t=e.borrower||"Student",n=e.dueDate||new Date(Date.now()+10080*60*1e3).toISOString().slice(0,10);this.mock.checkoutBook(e.id,t,n),this.refresh()}markReturned(e){this.mock.returnBook(e.id),this.refresh()}exportCsv(){let e=["Title","Author","Category","Status","Borrower","DueDate"],t=this.filtered.map(I=>[I.title,I.author,I.category,I.status,I.borrower||"",I.dueDate||""]),n=[e,...t].map(I=>I.map(j=>`"${(j??"").toString().replace(/"/g,'""')}"`).join(",")).join(`
`),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(a),v=document.createElement("a");v.href=o,v.download="library-catalog.csv",v.click(),URL.revokeObjectURL(o)}static \u0275fac=function(t){return new(t||i)(C.\u0275\u0275directiveInject(H))};static \u0275cmp=C.\u0275\u0275defineComponent({type:i,selectors:[["app-library"]],decls:58,vars:8,consts:[[1,"library","mat-typography"],[1,"hero","mat-elevation-z2"],[1,"eyebrow"],[1,"title"],[1,"hero-actions"],["mat-stroked-button","","color","primary",3,"click"],[1,"filters"],[1,"filter-grid"],["appearance","fill"],["matInput","","placeholder","title, author, borrower",3,"ngModelChange","ngModel"],[3,"ngModelChange","selectionChange","ngModel"],["value","all"],["value","available"],["value","checked-out"],[3,"value",4,"ngFor","ngForOf"],[1,"table-card","desktop-only"],[1,"table-title"],[1,"table-wrap"],["mat-table","",1,"mat-elevation-z2","mat-table",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","category"],["matColumnDef","status"],["matColumnDef","borrower"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[1,"mobile-only","mobile-card-list"],["class","mobile-card",4,"ngFor","ngForOf"],[3,"value"],["mat-header-cell",""],["mat-cell",""],[1,"cell-strong"],[1,"cell-sub"],["selected","",3,"color"],[4,"ngIf"],["mat-stroked-button","","color","primary",3,"click",4,"ngIf"],["mat-stroked-button","","color","accent",3,"click",4,"ngIf"],["mat-stroked-button","","color","accent",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],[1,"mobile-card"],[1,"card-row"],["class","cell-sub",4,"ngIf"],[1,"action-row"]],template:function(t,n){t&1&&(C.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div")(3,"div",2),C.\u0275\u0275text(4,"PoliticianHub"),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(5,"div",3),C.\u0275\u0275text(6,"Library"),C.\u0275\u0275elementEnd()(),C.\u0275\u0275elementStart(7,"div",4)(8,"button",5),C.\u0275\u0275listener("click",function(){return n.exportCsv()}),C.\u0275\u0275text(9,"Export CSV"),C.\u0275\u0275elementEnd()()(),C.\u0275\u0275elementStart(10,"mat-card",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),C.\u0275\u0275text(14,"Search"),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(15,"input",9),C.\u0275\u0275twoWayListener("ngModelChange",function(o){return C.\u0275\u0275twoWayBindingSet(n.search,o)||(n.search=o),o}),C.\u0275\u0275listener("ngModelChange",function(){return n.applyFilters()}),C.\u0275\u0275elementEnd()(),C.\u0275\u0275elementStart(16,"mat-form-field",8)(17,"mat-label"),C.\u0275\u0275text(18,"Status"),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(19,"mat-select",10),C.\u0275\u0275twoWayListener("ngModelChange",function(o){return C.\u0275\u0275twoWayBindingSet(n.status,o)||(n.status=o),o}),C.\u0275\u0275listener("selectionChange",function(){return n.applyFilters()}),C.\u0275\u0275elementStart(20,"mat-option",11),C.\u0275\u0275text(21,"All"),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(22,"mat-option",12),C.\u0275\u0275text(23,"Available"),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(24,"mat-option",13),C.\u0275\u0275text(25,"Checked out"),C.\u0275\u0275elementEnd()()(),C.\u0275\u0275elementStart(26,"mat-form-field",8)(27,"mat-label"),C.\u0275\u0275text(28,"Category"),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(29,"mat-select",10),C.\u0275\u0275twoWayListener("ngModelChange",function(o){return C.\u0275\u0275twoWayBindingSet(n.category,o)||(n.category=o),o}),C.\u0275\u0275listener("selectionChange",function(){return n.applyFilters()}),C.\u0275\u0275elementStart(30,"mat-option",11),C.\u0275\u0275text(31,"All"),C.\u0275\u0275elementEnd(),C.\u0275\u0275template(32,E0,2,2,"mat-option",14),C.\u0275\u0275elementEnd()()()(),C.\u0275\u0275elementStart(33,"mat-card",15)(34,"div",16),C.\u0275\u0275text(35,"Catalog"),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(36,"div",17)(37,"table",18),C.\u0275\u0275elementContainerStart(38,19),C.\u0275\u0275template(39,k0,2,0,"th",20)(40,T0,5,2,"td",21),C.\u0275\u0275elementContainerEnd(),C.\u0275\u0275elementContainerStart(41,22),C.\u0275\u0275template(42,D0,2,0,"th",20)(43,I0,2,1,"td",21),C.\u0275\u0275elementContainerEnd(),C.\u0275\u0275elementContainerStart(44,23),C.\u0275\u0275template(45,F0,2,0,"th",20)(46,A0,3,2,"td",21),C.\u0275\u0275elementContainerEnd(),C.\u0275\u0275elementContainerStart(47,24),C.\u0275\u0275template(48,R0,2,0,"th",20)(49,B0,3,2,"td",21),C.\u0275\u0275elementContainerEnd(),C.\u0275\u0275elementContainerStart(50,25),C.\u0275\u0275template(51,L0,1,0,"th",20)(52,j0,3,2,"td",21),C.\u0275\u0275elementContainerEnd(),C.\u0275\u0275template(53,W0,1,0,"tr",26)(54,U0,1,0,"tr",27)(55,$0,3,1,"tr",28),C.\u0275\u0275elementEnd()()(),C.\u0275\u0275elementStart(56,"mat-card",29),C.\u0275\u0275template(57,Z0,14,9,"div",30),C.\u0275\u0275elementEnd()()),t&2&&(C.\u0275\u0275advance(15),C.\u0275\u0275twoWayProperty("ngModel",n.search),C.\u0275\u0275advance(4),C.\u0275\u0275twoWayProperty("ngModel",n.status),C.\u0275\u0275advance(10),C.\u0275\u0275twoWayProperty("ngModel",n.category),C.\u0275\u0275advance(3),C.\u0275\u0275property("ngForOf",n.categories),C.\u0275\u0275advance(5),C.\u0275\u0275property("dataSource",n.filtered),C.\u0275\u0275advance(16),C.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),C.\u0275\u0275advance(),C.\u0275\u0275property("matRowDefColumns",n.displayedColumns),C.\u0275\u0275advance(3),C.\u0275\u0275property("ngForOf",n.filtered))},dependencies:[O0,Pi.NgForOf,Pi.NgIf,S0,ke.DefaultValueAccessor,ke.NgControlStatus,ke.NgModel,L,ko.MatButton,Te.MatInput,Te.MatFormField,Te.MatLabel,Oi.MatSelect,Oi.MatOption,nt.MatTable,nt.MatHeaderCellDef,nt.MatHeaderRowDef,nt.MatColumnDef,nt.MatCellDef,nt.MatRowDef,nt.MatHeaderCell,nt.MatCell,nt.MatHeaderRow,nt.MatRow,nt.MatNoDataRow,To.MatCard,Do.MatChip],styles:[".library[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.hero[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 1.25rem;border-radius:14px;background:linear-gradient(90deg,#3353c6,#1b82e8);color:#fff}.eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700;letter-spacing:.08em;font-size:.8rem;opacity:.9}.title[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:700}.hero-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-wrap:wrap}.filters[_ngcontent-%COMP%]{padding:.75rem}.filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:.75rem}.table-card[_ngcontent-%COMP%]{padding:.5rem .5rem 1rem}.table-title[_ngcontent-%COMP%]{font-weight:700;padding:.5rem .75rem}.table-wrap[_ngcontent-%COMP%]{overflow-x:auto}table[_ngcontent-%COMP%]{width:100%}.cell-strong[_ngcontent-%COMP%]{font-weight:700}.cell-sub[_ngcontent-%COMP%]{font-size:.85rem;color:#5f6472}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}@media(max-width:768px){.library[_ngcontent-%COMP%]{padding:.25rem}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}table[_ngcontent-%COMP%]{min-width:640px}.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:6px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}}"]})};import{CommonModule as J0}from"@angular/common";import{FormsModule as K0}from"@angular/forms";import*as _ from"@angular/core";import*as Io from"@angular/common";import*as De from"@angular/forms";import*as Fo from"@angular/material/button";import*as Ie from"@angular/material/input";import*as Si from"@angular/material/select";import*as it from"@angular/material/table";import*as Ao from"@angular/material/card";import*as Ro from"@angular/material/chips";import*as No from"@angular/material/progress-bar";function X0(i,e){if(i&1&&(_.\u0275\u0275elementStart(0,"mat-option",33),_.\u0275\u0275text(1),_.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;_.\u0275\u0275property("value",t),_.\u0275\u0275advance(),_.\u0275\u0275textInterpolate(t)}}function tu(i,e){i&1&&(_.\u0275\u0275elementStart(0,"th",34),_.\u0275\u0275text(1,"Route"),_.\u0275\u0275elementEnd())}function eu(i,e){if(i&1&&(_.\u0275\u0275elementStart(0,"td",35)(1,"div",36),_.\u0275\u0275text(2),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(3,"div",37),_.\u0275\u0275text(4),_.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;_.\u0275\u0275advance(2),_.\u0275\u0275textInterpolate(t.routeName),_.\u0275\u0275advance(2),_.\u0275\u0275textInterpolate1("Driver: ",t.driver)}}function nu(i,e){i&1&&(_.\u0275\u0275elementStart(0,"th",34),_.\u0275\u0275text(1,"Times"),_.\u0275\u0275elementEnd())}function iu(i,e){if(i&1&&(_.\u0275\u0275elementStart(0,"td",35)(1,"div",36),_.\u0275\u0275text(2),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(3,"div",37),_.\u0275\u0275text(4),_.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;_.\u0275\u0275advance(2),_.\u0275\u0275textInterpolate1("Depart ",t.departure),_.\u0275\u0275advance(2),_.\u0275\u0275textInterpolate1("Return ",t.returnTime)}}function au(i,e){i&1&&(_.\u0275\u0275elementStart(0,"th",34),_.\u0275\u0275text(1,"Capacity"),_.\u0275\u0275elementEnd())}function ou(i,e){if(i&1&&(_.\u0275\u0275elementStart(0,"td",35)(1,"div",36),_.\u0275\u0275text(2),_.\u0275\u0275elementEnd(),_.\u0275\u0275element(3,"mat-progress-bar",38),_.\u0275\u0275elementEnd()),i&2){let t=e.$implicit,n=_.\u0275\u0275nextContext();_.\u0275\u0275advance(2),_.\u0275\u0275textInterpolate2("",t.assigned,"/",t.capacity),_.\u0275\u0275advance(),_.\u0275\u0275property("value",n.utilization(t))}}function ru(i,e){i&1&&(_.\u0275\u0275elementStart(0,"th",34),_.\u0275\u0275text(1,"Status"),_.\u0275\u0275elementEnd())}function lu(i,e){if(i&1&&(_.\u0275\u0275elementStart(0,"td",35)(1,"mat-chip",39),_.\u0275\u0275text(2),_.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit,n=_.\u0275\u0275nextContext();_.\u0275\u0275advance(),_.\u0275\u0275property("color",n.statusColor(t.status)),_.\u0275\u0275advance(),_.\u0275\u0275textInterpolate(t.status)}}function su(i,e){i&1&&(_.\u0275\u0275elementStart(0,"th",34),_.\u0275\u0275text(1,"Notes"),_.\u0275\u0275elementEnd())}function cu(i,e){if(i&1&&(_.\u0275\u0275elementStart(0,"td",35),_.\u0275\u0275text(1),_.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;_.\u0275\u0275advance(),_.\u0275\u0275textInterpolate(t.notes||"\u2014")}}function du(i,e){i&1&&_.\u0275\u0275element(0,"th",34)}function mu(i,e){if(i&1){let t=_.\u0275\u0275getCurrentView();_.\u0275\u0275elementStart(0,"td",35)(1,"button",5),_.\u0275\u0275listener("click",function(){let a=_.\u0275\u0275restoreView(t).$implicit,o=_.\u0275\u0275nextContext();return _.\u0275\u0275resetView(o.setStatus(a,"on-time"))}),_.\u0275\u0275text(2,"On time"),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(3,"button",40),_.\u0275\u0275listener("click",function(){let a=_.\u0275\u0275restoreView(t).$implicit,o=_.\u0275\u0275nextContext();return _.\u0275\u0275resetView(o.setStatus(a,"delayed"))}),_.\u0275\u0275text(4,"Delay"),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(5,"button",41),_.\u0275\u0275listener("click",function(){let a=_.\u0275\u0275restoreView(t).$implicit,o=_.\u0275\u0275nextContext();return _.\u0275\u0275resetView(o.setStatus(a,"maintenance"))}),_.\u0275\u0275text(6,"Maintenance"),_.\u0275\u0275elementEnd()()}}function pu(i,e){i&1&&_.\u0275\u0275element(0,"tr",42)}function uu(i,e){i&1&&_.\u0275\u0275element(0,"tr",43)}function gu(i,e){if(i&1&&(_.\u0275\u0275elementStart(0,"tr",44)(1,"td"),_.\u0275\u0275text(2,"No routes match your filters."),_.\u0275\u0275elementEnd()()),i&2){let t=_.\u0275\u0275nextContext();_.\u0275\u0275advance(),_.\u0275\u0275attribute("colspan",t.displayedColumns.length)}}function fu(i,e){if(i&1){let t=_.\u0275\u0275getCurrentView();_.\u0275\u0275elementStart(0,"div",45)(1,"div",46)(2,"div")(3,"div",36),_.\u0275\u0275text(4),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(5,"div",37),_.\u0275\u0275text(6),_.\u0275\u0275elementEnd()(),_.\u0275\u0275elementStart(7,"mat-chip",39),_.\u0275\u0275text(8),_.\u0275\u0275elementEnd()(),_.\u0275\u0275elementStart(9,"div",37),_.\u0275\u0275text(10),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(11,"div",37),_.\u0275\u0275text(12),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(13,"div",37),_.\u0275\u0275text(14),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(15,"div",47)(16,"button",5),_.\u0275\u0275listener("click",function(){let a=_.\u0275\u0275restoreView(t).$implicit,o=_.\u0275\u0275nextContext();return _.\u0275\u0275resetView(o.setStatus(a,"on-time"))}),_.\u0275\u0275text(17,"On time"),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(18,"button",40),_.\u0275\u0275listener("click",function(){let a=_.\u0275\u0275restoreView(t).$implicit,o=_.\u0275\u0275nextContext();return _.\u0275\u0275resetView(o.setStatus(a,"delayed"))}),_.\u0275\u0275text(19,"Delay"),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(20,"button",41),_.\u0275\u0275listener("click",function(){let a=_.\u0275\u0275restoreView(t).$implicit,o=_.\u0275\u0275nextContext();return _.\u0275\u0275resetView(o.setStatus(a,"maintenance"))}),_.\u0275\u0275text(21,"Maintenance"),_.\u0275\u0275elementEnd()()()}if(i&2){let t=e.$implicit,n=_.\u0275\u0275nextContext();_.\u0275\u0275advance(4),_.\u0275\u0275textInterpolate(t.routeName),_.\u0275\u0275advance(2),_.\u0275\u0275textInterpolate1("Driver: ",t.driver),_.\u0275\u0275advance(),_.\u0275\u0275property("color",n.statusColor(t.status)),_.\u0275\u0275advance(),_.\u0275\u0275textInterpolate(t.status),_.\u0275\u0275advance(2),_.\u0275\u0275textInterpolate2("Depart ",t.departure," \xB7 Return ",t.returnTime),_.\u0275\u0275advance(2),_.\u0275\u0275textInterpolate2("Capacity: ",t.assigned,"/",t.capacity),_.\u0275\u0275advance(2),_.\u0275\u0275textInterpolate1("Notes: ",t.notes||"\u2014")}}var xn=class i{constructor(e){this.mock=e;this.refresh()}routes=[];filtered=[];drivers=[];displayedColumns=["route","times","capacity","status","notes","actions"];search="";status="all";driver="all";refresh(){this.routes=this.mock.getTransportRoutes()||[],this.drivers=Array.from(new Set(this.routes.map(e=>e.driver).filter(Boolean))),this.applyFilters()}applyFilters(){let e=this.search.trim().toLowerCase();this.filtered=this.routes.filter(t=>{let n=!e||[t.routeName,t.driver,t.notes].some(v=>(v||"").toLowerCase().includes(e)),a=this.status==="all"||t.status===this.status,o=this.driver==="all"||t.driver===this.driver;return n&&a&&o})}utilization(e){return e.capacity?Math.min(100,Math.round(e.assigned/e.capacity*100)):0}statusColor(e){return e==="on-time"?"primary":e==="delayed"?"accent":"warn"}setStatus(e,t){this.mock.updateRouteStatus(e.id,t),this.refresh()}exportCsv(){let e=["Route","Driver","Departure","Return","Capacity","Assigned","Status","Notes"],t=this.filtered.map(I=>[I.routeName,I.driver,I.departure,I.returnTime,I.capacity,I.assigned,I.status,I.notes||""]),n=[e,...t].map(I=>I.map(j=>`"${(j??"").toString().replace(/"/g,'""')}"`).join(",")).join(`
`),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(a),v=document.createElement("a");v.href=o,v.download="transport-routes.csv",v.click(),URL.revokeObjectURL(o)}static \u0275fac=function(t){return new(t||i)(_.\u0275\u0275directiveInject(H))};static \u0275cmp=_.\u0275\u0275defineComponent({type:i,selectors:[["app-transport"]],decls:63,vars:8,consts:[[1,"transport","mat-typography"],[1,"hero","mat-elevation-z2"],[1,"eyebrow"],[1,"title"],[1,"hero-actions"],["mat-stroked-button","","color","primary",3,"click"],[1,"filters"],[1,"filter-grid"],["appearance","fill"],["matInput","","placeholder","route, driver, note",3,"ngModelChange","ngModel"],[3,"ngModelChange","selectionChange","ngModel"],["value","all"],["value","on-time"],["value","delayed"],["value","maintenance"],[3,"value",4,"ngFor","ngForOf"],[1,"table-card","desktop-only"],[1,"table-title"],[1,"table-wrap"],["mat-table","",1,"mat-elevation-z2","mat-table",3,"dataSource"],["matColumnDef","route"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","times"],["matColumnDef","capacity"],["matColumnDef","status"],["matColumnDef","notes"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[1,"mobile-only","mobile-card-list"],["class","mobile-card",4,"ngFor","ngForOf"],[3,"value"],["mat-header-cell",""],["mat-cell",""],[1,"cell-strong"],[1,"cell-sub"],["mode","determinate",3,"value"],["selected","",3,"color"],["mat-stroked-button","","color","accent",3,"click"],["mat-stroked-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],[1,"mobile-card"],[1,"card-row"],[1,"action-row"]],template:function(t,n){t&1&&(_.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div")(3,"div",2),_.\u0275\u0275text(4,"PoliticianHub"),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(5,"div",3),_.\u0275\u0275text(6,"Transport"),_.\u0275\u0275elementEnd()(),_.\u0275\u0275elementStart(7,"div",4)(8,"button",5),_.\u0275\u0275listener("click",function(){return n.exportCsv()}),_.\u0275\u0275text(9,"Export CSV"),_.\u0275\u0275elementEnd()()(),_.\u0275\u0275elementStart(10,"mat-card",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),_.\u0275\u0275text(14,"Search"),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(15,"input",9),_.\u0275\u0275twoWayListener("ngModelChange",function(o){return _.\u0275\u0275twoWayBindingSet(n.search,o)||(n.search=o),o}),_.\u0275\u0275listener("ngModelChange",function(){return n.applyFilters()}),_.\u0275\u0275elementEnd()(),_.\u0275\u0275elementStart(16,"mat-form-field",8)(17,"mat-label"),_.\u0275\u0275text(18,"Status"),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(19,"mat-select",10),_.\u0275\u0275twoWayListener("ngModelChange",function(o){return _.\u0275\u0275twoWayBindingSet(n.status,o)||(n.status=o),o}),_.\u0275\u0275listener("selectionChange",function(){return n.applyFilters()}),_.\u0275\u0275elementStart(20,"mat-option",11),_.\u0275\u0275text(21,"All"),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(22,"mat-option",12),_.\u0275\u0275text(23,"On time"),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(24,"mat-option",13),_.\u0275\u0275text(25,"Delayed"),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(26,"mat-option",14),_.\u0275\u0275text(27,"Maintenance"),_.\u0275\u0275elementEnd()()(),_.\u0275\u0275elementStart(28,"mat-form-field",8)(29,"mat-label"),_.\u0275\u0275text(30,"Driver"),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(31,"mat-select",10),_.\u0275\u0275twoWayListener("ngModelChange",function(o){return _.\u0275\u0275twoWayBindingSet(n.driver,o)||(n.driver=o),o}),_.\u0275\u0275listener("selectionChange",function(){return n.applyFilters()}),_.\u0275\u0275elementStart(32,"mat-option",11),_.\u0275\u0275text(33,"All"),_.\u0275\u0275elementEnd(),_.\u0275\u0275template(34,X0,2,2,"mat-option",15),_.\u0275\u0275elementEnd()()()(),_.\u0275\u0275elementStart(35,"mat-card",16)(36,"div",17),_.\u0275\u0275text(37,"Routes"),_.\u0275\u0275elementEnd(),_.\u0275\u0275elementStart(38,"div",18)(39,"table",19),_.\u0275\u0275elementContainerStart(40,20),_.\u0275\u0275template(41,tu,2,0,"th",21)(42,eu,5,2,"td",22),_.\u0275\u0275elementContainerEnd(),_.\u0275\u0275elementContainerStart(43,23),_.\u0275\u0275template(44,nu,2,0,"th",21)(45,iu,5,2,"td",22),_.\u0275\u0275elementContainerEnd(),_.\u0275\u0275elementContainerStart(46,24),_.\u0275\u0275template(47,au,2,0,"th",21)(48,ou,4,3,"td",22),_.\u0275\u0275elementContainerEnd(),_.\u0275\u0275elementContainerStart(49,25),_.\u0275\u0275template(50,ru,2,0,"th",21)(51,lu,3,2,"td",22),_.\u0275\u0275elementContainerEnd(),_.\u0275\u0275elementContainerStart(52,26),_.\u0275\u0275template(53,su,2,0,"th",21)(54,cu,2,1,"td",22),_.\u0275\u0275elementContainerEnd(),_.\u0275\u0275elementContainerStart(55,27),_.\u0275\u0275template(56,du,1,0,"th",21)(57,mu,7,0,"td",22),_.\u0275\u0275elementContainerEnd(),_.\u0275\u0275template(58,pu,1,0,"tr",28)(59,uu,1,0,"tr",29)(60,gu,3,1,"tr",30),_.\u0275\u0275elementEnd()()(),_.\u0275\u0275elementStart(61,"mat-card",31),_.\u0275\u0275template(62,fu,22,9,"div",32),_.\u0275\u0275elementEnd()()),t&2&&(_.\u0275\u0275advance(15),_.\u0275\u0275twoWayProperty("ngModel",n.search),_.\u0275\u0275advance(4),_.\u0275\u0275twoWayProperty("ngModel",n.status),_.\u0275\u0275advance(12),_.\u0275\u0275twoWayProperty("ngModel",n.driver),_.\u0275\u0275advance(3),_.\u0275\u0275property("ngForOf",n.drivers),_.\u0275\u0275advance(5),_.\u0275\u0275property("dataSource",n.filtered),_.\u0275\u0275advance(19),_.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),_.\u0275\u0275advance(),_.\u0275\u0275property("matRowDefColumns",n.displayedColumns),_.\u0275\u0275advance(3),_.\u0275\u0275property("ngForOf",n.filtered))},dependencies:[J0,Io.NgForOf,K0,De.DefaultValueAccessor,De.NgControlStatus,De.NgModel,L,Fo.MatButton,Ie.MatInput,Ie.MatFormField,Ie.MatLabel,Si.MatSelect,Si.MatOption,it.MatTable,it.MatHeaderCellDef,it.MatHeaderRowDef,it.MatColumnDef,it.MatCellDef,it.MatRowDef,it.MatHeaderCell,it.MatCell,it.MatHeaderRow,it.MatRow,it.MatNoDataRow,Ao.MatCard,Ro.MatChip,No.MatProgressBar],styles:[".transport[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.hero[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 1.25rem;border-radius:14px;background:linear-gradient(90deg,#2f60c6,#1a8be8);color:#fff}.eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700;letter-spacing:.08em;font-size:.8rem;opacity:.9}.title[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:700}.hero-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-wrap:wrap}.filters[_ngcontent-%COMP%]{padding:.75rem}.filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:.75rem}.table-card[_ngcontent-%COMP%]{padding:.5rem .5rem 1rem}.table-title[_ngcontent-%COMP%]{font-weight:700;padding:.5rem .75rem}.table-wrap[_ngcontent-%COMP%]{overflow:auto}table[_ngcontent-%COMP%]{width:100%}.cell-strong[_ngcontent-%COMP%]{font-weight:700}.cell-sub[_ngcontent-%COMP%]{font-size:.85rem;color:#5f6472}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:6px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}@media(max-width:768px){.transport[_ngcontent-%COMP%]{padding:.25rem}.table-wrap[_ngcontent-%COMP%]{margin:0 -12px;padding:0 12px}table[_ngcontent-%COMP%]{min-width:640px}.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}}"]})};import{CommonModule as _u}from"@angular/common";import{FormsModule as bu}from"@angular/forms";import*as D from"@angular/core";import*as zo from"@angular/common";import*as Fe from"@angular/forms";import*as Bo from"@angular/material/button";import*as Ae from"@angular/material/input";import*as Ei from"@angular/material/select";import*as Lo from"@angular/material/card";import*as Vo from"@angular/material/toolbar";import*as Ho from"@angular/material/chips";function hu(i,e){if(i&1&&(D.\u0275\u0275elementStart(0,"mat-option",19),D.\u0275\u0275text(1),D.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;D.\u0275\u0275property("value",t),D.\u0275\u0275advance(),D.\u0275\u0275textInterpolate(t)}}function Cu(i,e){if(i&1&&(D.\u0275\u0275elementStart(0,"mat-option",19),D.\u0275\u0275text(1),D.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;D.\u0275\u0275property("value",t),D.\u0275\u0275advance(),D.\u0275\u0275textInterpolate(t)}}function xu(i,e){if(i&1&&(D.\u0275\u0275elementStart(0,"mat-card",20)(1,"div",21)(2,"div")(3,"div",22),D.\u0275\u0275text(4),D.\u0275\u0275elementEnd(),D.\u0275\u0275elementStart(5,"div",23),D.\u0275\u0275text(6),D.\u0275\u0275elementEnd()(),D.\u0275\u0275elementStart(7,"mat-chip",24),D.\u0275\u0275text(8),D.\u0275\u0275elementEnd()(),D.\u0275\u0275elementStart(9,"div",25)(10,"div")(11,"strong"),D.\u0275\u0275text(12,"Advisor:"),D.\u0275\u0275elementEnd(),D.\u0275\u0275text(13),D.\u0275\u0275elementEnd(),D.\u0275\u0275elementStart(14,"div")(15,"strong"),D.\u0275\u0275text(16,"Members:"),D.\u0275\u0275elementEnd(),D.\u0275\u0275text(17),D.\u0275\u0275elementEnd(),D.\u0275\u0275elementStart(18,"div")(19,"strong"),D.\u0275\u0275text(20,"Next event:"),D.\u0275\u0275elementEnd(),D.\u0275\u0275text(21),D.\u0275\u0275elementEnd()()()),i&2){let t=e.$implicit;D.\u0275\u0275advance(4),D.\u0275\u0275textInterpolate(t.name),D.\u0275\u0275advance(2),D.\u0275\u0275textInterpolate(t.category||"General"),D.\u0275\u0275advance(2),D.\u0275\u0275textInterpolate(t.meetingDay),D.\u0275\u0275advance(5),D.\u0275\u0275textInterpolate1(" ",t.advisor),D.\u0275\u0275advance(4),D.\u0275\u0275textInterpolate1(" ",t.members),D.\u0275\u0275advance(4),D.\u0275\u0275textInterpolate1(" ",t.nextEvent||"--")}}function Mu(i,e){if(i&1&&(D.\u0275\u0275elementStart(0,"div",26)(1,"div",27)(2,"div",28),D.\u0275\u0275text(3),D.\u0275\u0275elementEnd(),D.\u0275\u0275elementStart(4,"mat-chip",24),D.\u0275\u0275text(5),D.\u0275\u0275elementEnd()(),D.\u0275\u0275elementStart(6,"div",29),D.\u0275\u0275text(7),D.\u0275\u0275elementEnd(),D.\u0275\u0275elementStart(8,"div",29),D.\u0275\u0275text(9),D.\u0275\u0275elementEnd(),D.\u0275\u0275elementStart(10,"div",29),D.\u0275\u0275text(11),D.\u0275\u0275elementEnd(),D.\u0275\u0275elementStart(12,"div",29),D.\u0275\u0275text(13),D.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;D.\u0275\u0275advance(3),D.\u0275\u0275textInterpolate(t.name),D.\u0275\u0275advance(2),D.\u0275\u0275textInterpolate(t.meetingDay),D.\u0275\u0275advance(2),D.\u0275\u0275textInterpolate(t.category||"General"),D.\u0275\u0275advance(2),D.\u0275\u0275textInterpolate1("Advisor: ",t.advisor),D.\u0275\u0275advance(2),D.\u0275\u0275textInterpolate1("Members: ",t.members),D.\u0275\u0275advance(2),D.\u0275\u0275textInterpolate1("Next: ",t.nextEvent||"--")}}var Mn=class i{constructor(e){this.mock=e;this.clubs=this.mock.getClubs(),this.categories=Array.from(new Set(this.clubs.map(t=>t.category||"").filter(Boolean))),this.applyFilters()}clubs=[];filtered=[];categories=[];days=["Mon","Tue","Wed","Thu","Fri","Sat"];search="";category="all";meetingDay="all";applyFilters(){let e=this.search.trim().toLowerCase();this.filtered=this.clubs.filter(t=>{let n=!e||[t.name,t.advisor,t.category].some(v=>(v||"").toLowerCase().includes(e)),a=this.category==="all"||t.category===this.category,o=this.meetingDay==="all"||t.meetingDay===this.meetingDay;return n&&a&&o})}addClub(){this.mock.addClub({name:"New Club",advisor:"Advisor",meetingDay:"Mon",members:0}),this.clubs=this.mock.getClubs(),this.categories=Array.from(new Set(this.clubs.map(e=>e.category||"").filter(Boolean))),this.applyFilters()}static \u0275fac=function(t){return new(t||i)(D.\u0275\u0275directiveInject(H))};static \u0275cmp=D.\u0275\u0275defineComponent({type:i,selectors:[["app-clubs"]],decls:36,vars:7,consts:[[1,"fees-page","clubs-page","mat-typography"],["color","primary",1,"fees-toolbar","mat-elevation-z2"],[1,"toolbar-left"],[1,"eyebrow"],[1,"title"],[1,"spacer"],["mat-flat-button","","color","accent",1,"record-btn",3,"click"],[1,"icon"],[1,"filters-card","mat-elevation-z2"],[1,"filter-grid"],["appearance","fill"],["matInput","","placeholder","name, advisor, category",3,"ngModelChange","ngModel"],[3,"ngModelChange","selectionChange","ngModel"],["value","all"],[3,"value",4,"ngFor","ngForOf"],[1,"grid","desktop-only"],["class","club-card mat-elevation-z2",4,"ngFor","ngForOf"],[1,"mobile-only","mobile-card-list"],["class","mobile-card",4,"ngFor","ngForOf"],[3,"value"],[1,"club-card","mat-elevation-z2"],[1,"card-head"],[1,"club-name"],[1,"club-meta"],["color","primary","selected",""],[1,"club-body"],[1,"mobile-card"],[1,"card-row"],[1,"cell-title"],[1,"cell-meta"]],template:function(t,n){t&1&&(D.\u0275\u0275elementStart(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"div",3),D.\u0275\u0275text(4,"PoliticianHub"),D.\u0275\u0275elementEnd(),D.\u0275\u0275elementStart(5,"div",4),D.\u0275\u0275text(6,"Clubs & Activities"),D.\u0275\u0275elementEnd()(),D.\u0275\u0275element(7,"span",5),D.\u0275\u0275elementStart(8,"button",6),D.\u0275\u0275listener("click",function(){return n.addClub()}),D.\u0275\u0275elementStart(9,"span",7),D.\u0275\u0275text(10,"+"),D.\u0275\u0275elementEnd(),D.\u0275\u0275text(11," Add club "),D.\u0275\u0275elementEnd()(),D.\u0275\u0275elementStart(12,"mat-card",8)(13,"div",9)(14,"mat-form-field",10)(15,"mat-label"),D.\u0275\u0275text(16,"Search"),D.\u0275\u0275elementEnd(),D.\u0275\u0275elementStart(17,"input",11),D.\u0275\u0275twoWayListener("ngModelChange",function(o){return D.\u0275\u0275twoWayBindingSet(n.search,o)||(n.search=o),o}),D.\u0275\u0275listener("ngModelChange",function(){return n.applyFilters()}),D.\u0275\u0275elementEnd()(),D.\u0275\u0275elementStart(18,"mat-form-field",10)(19,"mat-label"),D.\u0275\u0275text(20,"Category"),D.\u0275\u0275elementEnd(),D.\u0275\u0275elementStart(21,"mat-select",12),D.\u0275\u0275twoWayListener("ngModelChange",function(o){return D.\u0275\u0275twoWayBindingSet(n.category,o)||(n.category=o),o}),D.\u0275\u0275listener("selectionChange",function(){return n.applyFilters()}),D.\u0275\u0275elementStart(22,"mat-option",13),D.\u0275\u0275text(23,"All"),D.\u0275\u0275elementEnd(),D.\u0275\u0275template(24,hu,2,2,"mat-option",14),D.\u0275\u0275elementEnd()(),D.\u0275\u0275elementStart(25,"mat-form-field",10)(26,"mat-label"),D.\u0275\u0275text(27,"Meeting day"),D.\u0275\u0275elementEnd(),D.\u0275\u0275elementStart(28,"mat-select",12),D.\u0275\u0275twoWayListener("ngModelChange",function(o){return D.\u0275\u0275twoWayBindingSet(n.meetingDay,o)||(n.meetingDay=o),o}),D.\u0275\u0275listener("selectionChange",function(){return n.applyFilters()}),D.\u0275\u0275elementStart(29,"mat-option",13),D.\u0275\u0275text(30,"All"),D.\u0275\u0275elementEnd(),D.\u0275\u0275template(31,Cu,2,2,"mat-option",14),D.\u0275\u0275elementEnd()()()(),D.\u0275\u0275elementStart(32,"div",15),D.\u0275\u0275template(33,xu,22,6,"mat-card",16),D.\u0275\u0275elementEnd(),D.\u0275\u0275elementStart(34,"div",17),D.\u0275\u0275template(35,Mu,14,6,"div",18),D.\u0275\u0275elementEnd()()),t&2&&(D.\u0275\u0275advance(17),D.\u0275\u0275twoWayProperty("ngModel",n.search),D.\u0275\u0275advance(4),D.\u0275\u0275twoWayProperty("ngModel",n.category),D.\u0275\u0275advance(3),D.\u0275\u0275property("ngForOf",n.categories),D.\u0275\u0275advance(4),D.\u0275\u0275twoWayProperty("ngModel",n.meetingDay),D.\u0275\u0275advance(3),D.\u0275\u0275property("ngForOf",n.days),D.\u0275\u0275advance(2),D.\u0275\u0275property("ngForOf",n.filtered),D.\u0275\u0275advance(2),D.\u0275\u0275property("ngForOf",n.filtered))},dependencies:[_u,zo.NgForOf,bu,Fe.DefaultValueAccessor,Fe.NgControlStatus,Fe.NgModel,L,Bo.MatButton,Ae.MatInput,Ae.MatFormField,Ae.MatLabel,Ei.MatSelect,Ei.MatOption,Lo.MatCard,Vo.MatToolbar,Ho.MatChip],styles:[".fees-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:12px}.fees-toolbar[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(120deg,#3949ab,#1e88e5);color:#fff;padding:12px 16px}.toolbar-left[_ngcontent-%COMP%]   .eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.08em;font-size:12px;opacity:.9}.toolbar-left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.record-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-weight:700;margin-right:6px}.clubs-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:12px}.club-card[_ngcontent-%COMP%]{padding:12px;border-radius:12px}.card-head[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}.club-name[_ngcontent-%COMP%]{font-weight:700;font-size:1rem}.club-meta[_ngcontent-%COMP%]{color:#6b7280;font-size:.85rem}.club-body[_ngcontent-%COMP%]{margin-top:8px;display:grid;gap:4px;font-size:.95rem}.desktop-only[_ngcontent-%COMP%]{display:block!important}.mobile-only[_ngcontent-%COMP%]{display:none!important}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:6px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}.mobile-card[_ngcontent-%COMP%]   .cell-meta[_ngcontent-%COMP%]{color:#6b7280;font-size:12px}@media(max-width:768px){.desktop-only[_ngcontent-%COMP%]{display:none!important}.mobile-only[_ngcontent-%COMP%]{display:grid!important;gap:12px}.fees-page[_ngcontent-%COMP%]{padding:10px}}"]})};import{CommonModule as vu}from"@angular/common";import{FormsModule as yu}from"@angular/forms";import*as O from"@angular/core";import*as jo from"@angular/common";import*as Re from"@angular/forms";import*as Wo from"@angular/material/button";import*as Ne from"@angular/material/input";import*as ki from"@angular/material/select";import*as at from"@angular/material/table";import*as Ti from"@angular/material/card";import*as Uo from"@angular/material/toolbar";import*as $o from"@angular/material/chips";function wu(i,e){i&1&&(O.\u0275\u0275elementStart(0,"th",31),O.\u0275\u0275text(1,"Name"),O.\u0275\u0275elementEnd())}function Pu(i,e){if(i&1&&(O.\u0275\u0275elementStart(0,"td",32)(1,"div",33),O.\u0275\u0275text(2),O.\u0275\u0275elementEnd(),O.\u0275\u0275elementStart(3,"div",34),O.\u0275\u0275text(4),O.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;O.\u0275\u0275advance(2),O.\u0275\u0275textInterpolate(t.name),O.\u0275\u0275advance(2),O.\u0275\u0275textInterpolate1("Prefers: ",t.preferredChannel||"email")}}function Ou(i,e){i&1&&(O.\u0275\u0275elementStart(0,"th",31),O.\u0275\u0275text(1,"Students"),O.\u0275\u0275elementEnd())}function Su(i,e){if(i&1&&(O.\u0275\u0275elementStart(0,"div",34),O.\u0275\u0275text(1),O.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;O.\u0275\u0275advance(),O.\u0275\u0275textInterpolate(t)}}function Eu(i,e){if(i&1&&(O.\u0275\u0275elementStart(0,"td",32),O.\u0275\u0275template(1,Su,2,1,"div",35),O.\u0275\u0275elementEnd()),i&2){let t=e.$implicit,n=O.\u0275\u0275nextContext();O.\u0275\u0275advance(),O.\u0275\u0275property("ngForOf",n.studentNames(t.studentIds))}}function ku(i,e){i&1&&(O.\u0275\u0275elementStart(0,"th",31),O.\u0275\u0275text(1,"Contact"),O.\u0275\u0275elementEnd())}function Tu(i,e){if(i&1&&(O.\u0275\u0275elementStart(0,"td",32)(1,"div"),O.\u0275\u0275text(2),O.\u0275\u0275elementEnd(),O.\u0275\u0275elementStart(3,"div",34),O.\u0275\u0275text(4),O.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;O.\u0275\u0275advance(2),O.\u0275\u0275textInterpolate(t.email||"--"),O.\u0275\u0275advance(2),O.\u0275\u0275textInterpolate(t.phone||"--")}}function Du(i,e){i&1&&(O.\u0275\u0275elementStart(0,"th",31),O.\u0275\u0275text(1,"Last contact"),O.\u0275\u0275elementEnd())}function Iu(i,e){if(i&1&&(O.\u0275\u0275elementStart(0,"td",32),O.\u0275\u0275text(1),O.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;O.\u0275\u0275advance(),O.\u0275\u0275textInterpolate(t.lastContact||"--")}}function Fu(i,e){i&1&&O.\u0275\u0275element(0,"th",31)}function Au(i,e){if(i&1){let t=O.\u0275\u0275getCurrentView();O.\u0275\u0275elementStart(0,"td",32)(1,"button",36),O.\u0275\u0275listener("click",function(){let a=O.\u0275\u0275restoreView(t).$implicit,o=O.\u0275\u0275nextContext();return O.\u0275\u0275resetView(o.sendMessage(a))}),O.\u0275\u0275text(2,"Message"),O.\u0275\u0275elementEnd()()}}function Ru(i,e){i&1&&O.\u0275\u0275element(0,"tr",37)}function Nu(i,e){i&1&&O.\u0275\u0275element(0,"tr",38)}function zu(i,e){if(i&1&&(O.\u0275\u0275elementStart(0,"tr",39)(1,"td")(2,"div",40),O.\u0275\u0275text(3,"No parents match your filters."),O.\u0275\u0275elementEnd()()()),i&2){let t=O.\u0275\u0275nextContext();O.\u0275\u0275advance(),O.\u0275\u0275attribute("colspan",t.displayedColumns.length)}}function Bu(i,e){if(i&1){let t=O.\u0275\u0275getCurrentView();O.\u0275\u0275elementStart(0,"div",41)(1,"div",42)(2,"div",33),O.\u0275\u0275text(3),O.\u0275\u0275elementEnd(),O.\u0275\u0275elementStart(4,"mat-chip",43),O.\u0275\u0275text(5),O.\u0275\u0275elementEnd()(),O.\u0275\u0275elementStart(6,"div",34),O.\u0275\u0275text(7),O.\u0275\u0275elementEnd(),O.\u0275\u0275elementStart(8,"div",34),O.\u0275\u0275text(9),O.\u0275\u0275elementEnd(),O.\u0275\u0275elementStart(10,"div",34),O.\u0275\u0275text(11),O.\u0275\u0275elementEnd(),O.\u0275\u0275elementStart(12,"div",34),O.\u0275\u0275text(13),O.\u0275\u0275elementEnd(),O.\u0275\u0275elementStart(14,"div",44)(15,"button",45),O.\u0275\u0275listener("click",function(){let a=O.\u0275\u0275restoreView(t).$implicit,o=O.\u0275\u0275nextContext();return O.\u0275\u0275resetView(o.sendMessage(a))}),O.\u0275\u0275text(16,"Message"),O.\u0275\u0275elementEnd()()()}if(i&2){let t=e.$implicit,n=O.\u0275\u0275nextContext();O.\u0275\u0275advance(3),O.\u0275\u0275textInterpolate(t.name),O.\u0275\u0275advance(2),O.\u0275\u0275textInterpolate(t.preferredChannel||"email"),O.\u0275\u0275advance(2),O.\u0275\u0275textInterpolate1("Students: ",n.studentNames(t.studentIds).join(", ")||"--"),O.\u0275\u0275advance(2),O.\u0275\u0275textInterpolate1("Email: ",t.email||"--"),O.\u0275\u0275advance(2),O.\u0275\u0275textInterpolate1("Phone: ",t.phone||"--"),O.\u0275\u0275advance(2),O.\u0275\u0275textInterpolate1("Last contact: ",t.lastContact||"--")}}var vn=class i{constructor(e){this.mock=e;e.getStudents().forEach(n=>this.studentsMap.set(n.id,`${n.firstName} ${n.lastName}`)),this.parents=e.getParents(),this.applyFilters()}parents=[];filtered=[];studentsMap=new Map;search="";channel="all";displayedColumns=["name","students","contact","lastContact","actions"];studentNames(e){return(e||[]).map(t=>this.studentsMap.get(t)||`ID ${t}`)}applyFilters(){let e=this.search.trim().toLowerCase();this.filtered=this.parents.filter(t=>{let n=!e||[t.name,t.email,t.phone].some(o=>(o||"").toLowerCase().includes(e))||this.studentNames(t.studentIds).some(o=>o.toLowerCase().includes(e)),a=this.channel==="all"||t.preferredChannel===this.channel;return n&&a})}addParent(){this.mock.addParent({name:"New Parent",email:"parent@example.com",preferredChannel:"email"}),this.parents=this.mock.getParents(),this.applyFilters()}sendMessage(e){e.lastContact=new Date().toISOString().slice(0,10),this.applyFilters()}static \u0275fac=function(t){return new(t||i)(O.\u0275\u0275directiveInject(H))};static \u0275cmp=O.\u0275\u0275defineComponent({type:i,selectors:[["app-parents"]],decls:53,vars:6,consts:[[1,"fees-page","parents-page","mat-typography"],["color","primary",1,"fees-toolbar","mat-elevation-z2"],[1,"toolbar-left"],[1,"eyebrow"],[1,"title"],[1,"spacer"],["mat-flat-button","","color","accent",1,"record-btn",3,"click"],[1,"icon"],[1,"filters-card","mat-elevation-z2"],[1,"filter-grid"],["appearance","fill"],["matInput","","placeholder","name, student, email",3,"ngModelChange","ngModel"],[3,"ngModelChange","selectionChange","ngModel"],["value","all"],["value","email"],["value","sms"],[1,"table-card","mat-elevation-z2","desktop-only"],[1,"table-wrap"],["mat-table","",1,"fees-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","students"],["matColumnDef","contact"],["matColumnDef","lastContact"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","empty-state",4,"matNoDataRow"],[1,"mobile-only","mobile-card-list"],["class","mobile-card",4,"ngFor","ngForOf"],["mat-header-cell",""],["mat-cell",""],[1,"cell-title"],[1,"cell-meta"],["class","cell-meta",4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary",1,"ghost-button",3,"click"],["mat-header-row",""],["mat-row",""],[1,"empty-state"],[1,"fee-empty"],[1,"mobile-card"],[1,"card-row"],["color","primary","selected",""],[1,"action-row"],["mat-stroked-button","","color","primary",3,"click"]],template:function(t,n){t&1&&(O.\u0275\u0275elementStart(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"div",3),O.\u0275\u0275text(4,"PoliticianHub"),O.\u0275\u0275elementEnd(),O.\u0275\u0275elementStart(5,"div",4),O.\u0275\u0275text(6,"Parents & Messaging"),O.\u0275\u0275elementEnd()(),O.\u0275\u0275element(7,"span",5),O.\u0275\u0275elementStart(8,"button",6),O.\u0275\u0275listener("click",function(){return n.addParent()}),O.\u0275\u0275elementStart(9,"span",7),O.\u0275\u0275text(10,"+"),O.\u0275\u0275elementEnd(),O.\u0275\u0275text(11," Add parent "),O.\u0275\u0275elementEnd()(),O.\u0275\u0275elementStart(12,"mat-card",8)(13,"div",9)(14,"mat-form-field",10)(15,"mat-label"),O.\u0275\u0275text(16,"Search"),O.\u0275\u0275elementEnd(),O.\u0275\u0275elementStart(17,"input",11),O.\u0275\u0275twoWayListener("ngModelChange",function(o){return O.\u0275\u0275twoWayBindingSet(n.search,o)||(n.search=o),o}),O.\u0275\u0275listener("ngModelChange",function(){return n.applyFilters()}),O.\u0275\u0275elementEnd()(),O.\u0275\u0275elementStart(18,"mat-form-field",10)(19,"mat-label"),O.\u0275\u0275text(20,"Channel"),O.\u0275\u0275elementEnd(),O.\u0275\u0275elementStart(21,"mat-select",12),O.\u0275\u0275twoWayListener("ngModelChange",function(o){return O.\u0275\u0275twoWayBindingSet(n.channel,o)||(n.channel=o),o}),O.\u0275\u0275listener("selectionChange",function(){return n.applyFilters()}),O.\u0275\u0275elementStart(22,"mat-option",13),O.\u0275\u0275text(23,"All"),O.\u0275\u0275elementEnd(),O.\u0275\u0275elementStart(24,"mat-option",14),O.\u0275\u0275text(25,"Email"),O.\u0275\u0275elementEnd(),O.\u0275\u0275elementStart(26,"mat-option",15),O.\u0275\u0275text(27,"SMS"),O.\u0275\u0275elementEnd()()()()(),O.\u0275\u0275elementStart(28,"mat-card",16)(29,"mat-card-title"),O.\u0275\u0275text(30,"Parent directory"),O.\u0275\u0275elementEnd(),O.\u0275\u0275elementStart(31,"div",17)(32,"table",18),O.\u0275\u0275elementContainerStart(33,19),O.\u0275\u0275template(34,wu,2,0,"th",20)(35,Pu,5,2,"td",21),O.\u0275\u0275elementContainerEnd(),O.\u0275\u0275elementContainerStart(36,22),O.\u0275\u0275template(37,Ou,2,0,"th",20)(38,Eu,2,1,"td",21),O.\u0275\u0275elementContainerEnd(),O.\u0275\u0275elementContainerStart(39,23),O.\u0275\u0275template(40,ku,2,0,"th",20)(41,Tu,5,2,"td",21),O.\u0275\u0275elementContainerEnd(),O.\u0275\u0275elementContainerStart(42,24),O.\u0275\u0275template(43,Du,2,0,"th",20)(44,Iu,2,1,"td",21),O.\u0275\u0275elementContainerEnd(),O.\u0275\u0275elementContainerStart(45,25),O.\u0275\u0275template(46,Fu,1,0,"th",20)(47,Au,3,0,"td",21),O.\u0275\u0275elementContainerEnd(),O.\u0275\u0275template(48,Ru,1,0,"tr",26)(49,Nu,1,0,"tr",27)(50,zu,4,1,"tr",28),O.\u0275\u0275elementEnd()()(),O.\u0275\u0275elementStart(51,"mat-card",29),O.\u0275\u0275template(52,Bu,17,6,"div",30),O.\u0275\u0275elementEnd()()),t&2&&(O.\u0275\u0275advance(17),O.\u0275\u0275twoWayProperty("ngModel",n.search),O.\u0275\u0275advance(4),O.\u0275\u0275twoWayProperty("ngModel",n.channel),O.\u0275\u0275advance(11),O.\u0275\u0275property("dataSource",n.filtered),O.\u0275\u0275advance(16),O.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),O.\u0275\u0275advance(),O.\u0275\u0275property("matRowDefColumns",n.displayedColumns),O.\u0275\u0275advance(3),O.\u0275\u0275property("ngForOf",n.filtered))},dependencies:[vu,jo.NgForOf,yu,Re.DefaultValueAccessor,Re.NgControlStatus,Re.NgModel,L,Wo.MatButton,Ne.MatInput,Ne.MatFormField,Ne.MatLabel,ki.MatSelect,ki.MatOption,at.MatTable,at.MatHeaderCellDef,at.MatHeaderRowDef,at.MatColumnDef,at.MatCellDef,at.MatRowDef,at.MatHeaderCell,at.MatCell,at.MatHeaderRow,at.MatRow,at.MatNoDataRow,Ti.MatCard,Ti.MatCardTitle,Uo.MatToolbar,$o.MatChip],styles:[".fees-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:12px}.fees-toolbar[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(120deg,#3949ab,#1e88e5);color:#fff;padding:12px 16px}.toolbar-left[_ngcontent-%COMP%]   .eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.08em;font-size:12px;opacity:.9}.toolbar-left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.record-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-weight:700;margin-right:6px}.parents-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.filters-card[_ngcontent-%COMP%]{border-radius:12px}.filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px}.table-wrap[_ngcontent-%COMP%]{overflow-x:auto}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:6px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}.mobile-card[_ngcontent-%COMP%]   .cell-meta[_ngcontent-%COMP%]{color:#6b7280;font-size:12px}@media(max-width:768px){.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}}"]})};import{CommonModule as Lu}from"@angular/common";import{FormsModule as Vu}from"@angular/forms";import*as b from"@angular/core";import*as Go from"@angular/common";import*as ze from"@angular/forms";import*as qo from"@angular/material/button";import*as Be from"@angular/material/input";import*as Di from"@angular/material/select";import*as ot from"@angular/material/table";import*as Ii from"@angular/material/card";import*as Qo from"@angular/material/toolbar";import*as Yo from"@angular/material/checkbox";import*as Zo from"@angular/material/chips";function Hu(i,e){if(i&1&&(b.\u0275\u0275elementStart(0,"mat-option",36),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;b.\u0275\u0275property("value",t),b.\u0275\u0275advance(),b.\u0275\u0275textInterpolate(t)}}function ju(i,e){i&1&&(b.\u0275\u0275elementStart(0,"th",37),b.\u0275\u0275text(1,"Student"),b.\u0275\u0275elementEnd())}function Wu(i,e){if(i&1&&(b.\u0275\u0275elementStart(0,"td",38)(1,"div",39),b.\u0275\u0275text(2),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(3,"div",40),b.\u0275\u0275text(4),b.\u0275\u0275elementEnd()()),i&2){let t,n=e.$implicit,a=b.\u0275\u0275nextContext();b.\u0275\u0275advance(2),b.\u0275\u0275textInterpolate(n.studentName),b.\u0275\u0275advance(2),b.\u0275\u0275textInterpolate(((t=a.profile(n.studentId))==null?null:t.conditions)||"\u2014")}}function Uu(i,e){i&1&&(b.\u0275\u0275elementStart(0,"th",37),b.\u0275\u0275text(1,"Date"),b.\u0275\u0275elementEnd())}function $u(i,e){if(i&1&&(b.\u0275\u0275elementStart(0,"td",38),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;b.\u0275\u0275advance(),b.\u0275\u0275textInterpolate(t.date)}}function Gu(i,e){i&1&&(b.\u0275\u0275elementStart(0,"th",37),b.\u0275\u0275text(1,"Symptom"),b.\u0275\u0275elementEnd())}function qu(i,e){if(i&1&&(b.\u0275\u0275elementStart(0,"td",38),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;b.\u0275\u0275advance(),b.\u0275\u0275textInterpolate(t.symptom)}}function Qu(i,e){i&1&&(b.\u0275\u0275elementStart(0,"th",37),b.\u0275\u0275text(1,"Action"),b.\u0275\u0275elementEnd())}function Yu(i,e){if(i&1&&(b.\u0275\u0275elementStart(0,"td",38),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;b.\u0275\u0275advance(),b.\u0275\u0275textInterpolate(t.actionTaken)}}function Zu(i,e){i&1&&(b.\u0275\u0275elementStart(0,"th",37),b.\u0275\u0275text(1,"Notified"),b.\u0275\u0275elementEnd())}function Ju(i,e){if(i&1&&(b.\u0275\u0275elementStart(0,"td",38)(1,"mat-chip",41),b.\u0275\u0275text(2),b.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;b.\u0275\u0275advance(),b.\u0275\u0275property("color",t.notifiedParent?"primary":"warn"),b.\u0275\u0275advance(),b.\u0275\u0275textInterpolate1(" ",t.notifiedParent?"Yes":"No"," ")}}function Ku(i,e){i&1&&b.\u0275\u0275element(0,"tr",42)}function Xu(i,e){i&1&&b.\u0275\u0275element(0,"tr",43)}function tg(i,e){if(i&1&&(b.\u0275\u0275elementStart(0,"tr",44)(1,"td"),b.\u0275\u0275text(2,"No incidents match your filters."),b.\u0275\u0275elementEnd()()),i&2){let t=b.\u0275\u0275nextContext();b.\u0275\u0275advance(),b.\u0275\u0275attribute("colspan",t.displayedColumns.length)}}function eg(i,e){if(i&1&&(b.\u0275\u0275elementStart(0,"div",45)(1,"div",46)(2,"div",39),b.\u0275\u0275text(3),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(4,"mat-chip",41),b.\u0275\u0275text(5),b.\u0275\u0275elementEnd()(),b.\u0275\u0275elementStart(6,"div",40),b.\u0275\u0275text(7),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(8,"div",40),b.\u0275\u0275text(9),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(10,"div",40),b.\u0275\u0275text(11),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(12,"div",40),b.\u0275\u0275text(13),b.\u0275\u0275elementEnd()()),i&2){let t,n=e.$implicit,a=b.\u0275\u0275nextContext();b.\u0275\u0275advance(3),b.\u0275\u0275textInterpolate(n.studentName),b.\u0275\u0275advance(),b.\u0275\u0275property("color",n.notifiedParent?"primary":"warn"),b.\u0275\u0275advance(),b.\u0275\u0275textInterpolate1(" ",n.notifiedParent?"Notified":"Pending"," "),b.\u0275\u0275advance(2),b.\u0275\u0275textInterpolate(((t=a.profile(n.studentId))==null?null:t.conditions)||"\u2014"),b.\u0275\u0275advance(2),b.\u0275\u0275textInterpolate1("Symptom: ",n.symptom),b.\u0275\u0275advance(2),b.\u0275\u0275textInterpolate1("Action: ",n.actionTaken),b.\u0275\u0275advance(2),b.\u0275\u0275textInterpolate1("Date: ",n.date)}}function ng(i,e){i&1&&(b.\u0275\u0275elementStart(0,"th",37),b.\u0275\u0275text(1,"Student"),b.\u0275\u0275elementEnd())}function ig(i,e){if(i&1&&(b.\u0275\u0275elementStart(0,"td",38),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),i&2){let t=e.$implicit,n=b.\u0275\u0275nextContext();b.\u0275\u0275advance(),b.\u0275\u0275textInterpolate(n.studentName(t.studentId))}}function ag(i,e){i&1&&(b.\u0275\u0275elementStart(0,"th",37),b.\u0275\u0275text(1,"Conditions"),b.\u0275\u0275elementEnd())}function og(i,e){if(i&1&&(b.\u0275\u0275elementStart(0,"td",38),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;b.\u0275\u0275advance(),b.\u0275\u0275textInterpolate(t.conditions||"\u2014")}}function rg(i,e){i&1&&(b.\u0275\u0275elementStart(0,"th",37),b.\u0275\u0275text(1,"Allergies"),b.\u0275\u0275elementEnd())}function lg(i,e){if(i&1&&(b.\u0275\u0275elementStart(0,"td",38),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;b.\u0275\u0275advance(),b.\u0275\u0275textInterpolate(t.allergies||"\u2014")}}function sg(i,e){i&1&&(b.\u0275\u0275elementStart(0,"th",37),b.\u0275\u0275text(1,"Medications"),b.\u0275\u0275elementEnd())}function cg(i,e){if(i&1&&(b.\u0275\u0275elementStart(0,"td",38),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;b.\u0275\u0275advance(),b.\u0275\u0275textInterpolate(t.medications||"\u2014")}}function dg(i,e){i&1&&(b.\u0275\u0275elementStart(0,"th",37),b.\u0275\u0275text(1,"Emergency contact"),b.\u0275\u0275elementEnd())}function mg(i,e){if(i&1&&(b.\u0275\u0275elementStart(0,"td",38),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;b.\u0275\u0275advance(),b.\u0275\u0275textInterpolate(t.emergencyContact||"\u2014")}}function pg(i,e){i&1&&b.\u0275\u0275element(0,"tr",42)}function ug(i,e){i&1&&b.\u0275\u0275element(0,"tr",43)}var yn=class i{constructor(e){this.mock=e;this.students=this.mock.getStudents(),this.incidents=e.getHealthIncidents(),this.profiles=e.getHealthProfiles(),this.conditions=Array.from(new Set(this.profiles.map(t=>t.conditions||"").filter(Boolean))),this.applyFilters()}incidents=[];filtered=[];profiles=[];students=[];conditions=[];search="";condition="all";notifiedOnly=!1;displayedColumns=["student","date","symptom","action","notified"];profileCols=["student","conditions","allergies","meds","emergency"];studentName(e){let t=this.students.find(n=>n.id===e);return t?`${t.firstName} ${t.lastName}`:`ID ${e}`}profile(e){return this.profiles.find(t=>t.studentId===e)}applyFilters(){let e=this.search.trim().toLowerCase();this.filtered=this.incidents.filter(t=>{let n=!e||[t.studentName,t.symptom,t.actionTaken,this.profile(t.studentId)?.conditions||""].some(v=>(v||"").toLowerCase().includes(e)),a=this.condition==="all"||(this.profile(t.studentId)?.conditions||"")===this.condition,o=!this.notifiedOnly||t.notifiedParent;return n&&a&&o})}addIncident(){this.mock.addHealthIncident({studentName:"New Student",studentId:0,symptom:"Symptom",actionTaken:"Logged",notifiedParent:!1}),this.incidents=this.mock.getHealthIncidents(),this.applyFilters()}static \u0275fac=function(t){return new(t||i)(b.\u0275\u0275directiveInject(H))};static \u0275cmp=b.\u0275\u0275defineComponent({type:i,selectors:[["app-health"]],decls:74,vars:11,consts:[[1,"fees-page","health-page","mat-typography"],["color","primary",1,"fees-toolbar","mat-elevation-z2"],[1,"toolbar-left"],[1,"eyebrow"],[1,"title"],[1,"spacer"],["mat-flat-button","","color","accent",1,"record-btn",3,"click"],[1,"icon"],[1,"filters-card","mat-elevation-z2"],[1,"filter-grid"],["appearance","fill"],["matInput","","placeholder","student, symptom, condition",3,"ngModelChange","ngModel"],[3,"ngModelChange","selectionChange","ngModel"],["value","all"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModelChange","change","ngModel"],[1,"table-card","mat-elevation-z2","desktop-only"],[1,"table-wrap"],["mat-table","",1,"mat-elevation-z2","mat-table",3,"dataSource"],["matColumnDef","student"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","date"],["matColumnDef","symptom"],["matColumnDef","action"],["matColumnDef","notified"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[1,"mobile-only","mobile-card-list"],["class","mobile-card",4,"ngFor","ngForOf"],["mat-table","",1,"mat-table",3,"dataSource"],["matColumnDef","conditions"],["matColumnDef","allergies"],["matColumnDef","meds"],["matColumnDef","emergency"],[3,"value"],["mat-header-cell",""],["mat-cell",""],[1,"cell-strong"],[1,"cell-sub"],["selected","",3,"color"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],[1,"mobile-card"],[1,"card-row"]],template:function(t,n){t&1&&(b.\u0275\u0275elementStart(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"div",3),b.\u0275\u0275text(4,"PoliticianHub"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(5,"div",4),b.\u0275\u0275text(6,"Health & Medical"),b.\u0275\u0275elementEnd()(),b.\u0275\u0275element(7,"span",5),b.\u0275\u0275elementStart(8,"button",6),b.\u0275\u0275listener("click",function(){return n.addIncident()}),b.\u0275\u0275elementStart(9,"span",7),b.\u0275\u0275text(10,"+"),b.\u0275\u0275elementEnd(),b.\u0275\u0275text(11," Log incident "),b.\u0275\u0275elementEnd()(),b.\u0275\u0275elementStart(12,"mat-card",8)(13,"div",9)(14,"mat-form-field",10)(15,"mat-label"),b.\u0275\u0275text(16,"Search"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(17,"input",11),b.\u0275\u0275twoWayListener("ngModelChange",function(o){return b.\u0275\u0275twoWayBindingSet(n.search,o)||(n.search=o),o}),b.\u0275\u0275listener("ngModelChange",function(){return n.applyFilters()}),b.\u0275\u0275elementEnd()(),b.\u0275\u0275elementStart(18,"mat-form-field",10)(19,"mat-label"),b.\u0275\u0275text(20,"Condition"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(21,"mat-select",12),b.\u0275\u0275twoWayListener("ngModelChange",function(o){return b.\u0275\u0275twoWayBindingSet(n.condition,o)||(n.condition=o),o}),b.\u0275\u0275listener("selectionChange",function(){return n.applyFilters()}),b.\u0275\u0275elementStart(22,"mat-option",13),b.\u0275\u0275text(23,"All"),b.\u0275\u0275elementEnd(),b.\u0275\u0275template(24,Hu,2,2,"mat-option",14),b.\u0275\u0275elementEnd()(),b.\u0275\u0275elementStart(25,"mat-checkbox",15),b.\u0275\u0275twoWayListener("ngModelChange",function(o){return b.\u0275\u0275twoWayBindingSet(n.notifiedOnly,o)||(n.notifiedOnly=o),o}),b.\u0275\u0275listener("change",function(){return n.applyFilters()}),b.\u0275\u0275text(26,"Parent notified"),b.\u0275\u0275elementEnd()()(),b.\u0275\u0275elementStart(27,"mat-card",16)(28,"mat-card-title"),b.\u0275\u0275text(29,"Health incidents"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(30,"div",17)(31,"table",18),b.\u0275\u0275elementContainerStart(32,19),b.\u0275\u0275template(33,ju,2,0,"th",20)(34,Wu,5,2,"td",21),b.\u0275\u0275elementContainerEnd(),b.\u0275\u0275elementContainerStart(35,22),b.\u0275\u0275template(36,Uu,2,0,"th",20)(37,$u,2,1,"td",21),b.\u0275\u0275elementContainerEnd(),b.\u0275\u0275elementContainerStart(38,23),b.\u0275\u0275template(39,Gu,2,0,"th",20)(40,qu,2,1,"td",21),b.\u0275\u0275elementContainerEnd(),b.\u0275\u0275elementContainerStart(41,24),b.\u0275\u0275template(42,Qu,2,0,"th",20)(43,Yu,2,1,"td",21),b.\u0275\u0275elementContainerEnd(),b.\u0275\u0275elementContainerStart(44,25),b.\u0275\u0275template(45,Zu,2,0,"th",20)(46,Ju,3,2,"td",21),b.\u0275\u0275elementContainerEnd(),b.\u0275\u0275template(47,Ku,1,0,"tr",26)(48,Xu,1,0,"tr",27)(49,tg,3,1,"tr",28),b.\u0275\u0275elementEnd()()(),b.\u0275\u0275elementStart(50,"mat-card",29),b.\u0275\u0275template(51,eg,14,7,"div",30),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(52,"mat-card",16)(53,"mat-card-title"),b.\u0275\u0275text(54,"Health profiles"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(55,"div",17)(56,"table",31),b.\u0275\u0275elementContainerStart(57,19),b.\u0275\u0275template(58,ng,2,0,"th",20)(59,ig,2,1,"td",21),b.\u0275\u0275elementContainerEnd(),b.\u0275\u0275elementContainerStart(60,32),b.\u0275\u0275template(61,ag,2,0,"th",20)(62,og,2,1,"td",21),b.\u0275\u0275elementContainerEnd(),b.\u0275\u0275elementContainerStart(63,33),b.\u0275\u0275template(64,rg,2,0,"th",20)(65,lg,2,1,"td",21),b.\u0275\u0275elementContainerEnd(),b.\u0275\u0275elementContainerStart(66,34),b.\u0275\u0275template(67,sg,2,0,"th",20)(68,cg,2,1,"td",21),b.\u0275\u0275elementContainerEnd(),b.\u0275\u0275elementContainerStart(69,35),b.\u0275\u0275template(70,dg,2,0,"th",20)(71,mg,2,1,"td",21),b.\u0275\u0275elementContainerEnd(),b.\u0275\u0275template(72,pg,1,0,"tr",26)(73,ug,1,0,"tr",27),b.\u0275\u0275elementEnd()()()()),t&2&&(b.\u0275\u0275advance(17),b.\u0275\u0275twoWayProperty("ngModel",n.search),b.\u0275\u0275advance(4),b.\u0275\u0275twoWayProperty("ngModel",n.condition),b.\u0275\u0275advance(3),b.\u0275\u0275property("ngForOf",n.conditions),b.\u0275\u0275advance(),b.\u0275\u0275twoWayProperty("ngModel",n.notifiedOnly),b.\u0275\u0275advance(6),b.\u0275\u0275property("dataSource",n.filtered),b.\u0275\u0275advance(16),b.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),b.\u0275\u0275advance(),b.\u0275\u0275property("matRowDefColumns",n.displayedColumns),b.\u0275\u0275advance(3),b.\u0275\u0275property("ngForOf",n.filtered),b.\u0275\u0275advance(5),b.\u0275\u0275property("dataSource",n.profiles),b.\u0275\u0275advance(16),b.\u0275\u0275property("matHeaderRowDef",n.profileCols),b.\u0275\u0275advance(),b.\u0275\u0275property("matRowDefColumns",n.profileCols))},dependencies:[Lu,Go.NgForOf,Vu,ze.DefaultValueAccessor,ze.NgControlStatus,ze.NgModel,L,qo.MatButton,Be.MatInput,Be.MatFormField,Be.MatLabel,Di.MatSelect,Di.MatOption,ot.MatTable,ot.MatHeaderCellDef,ot.MatHeaderRowDef,ot.MatColumnDef,ot.MatCellDef,ot.MatRowDef,ot.MatHeaderCell,ot.MatCell,ot.MatHeaderRow,ot.MatRow,ot.MatNoDataRow,Ii.MatCard,Ii.MatCardTitle,Qo.MatToolbar,Yo.MatCheckbox,Zo.MatChip],styles:[".health-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:12px}.fees-toolbar[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(120deg,#3949ab,#1e88e5);color:#fff;padding:12px 16px}.toolbar-left[_ngcontent-%COMP%]   .eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.08em;font-size:12px;opacity:.9}.toolbar-left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px}.table-wrap[_ngcontent-%COMP%]{overflow-x:auto}.cell-strong[_ngcontent-%COMP%]{font-weight:700}.cell-sub[_ngcontent-%COMP%]{font-size:.85rem;color:#6b7280}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:6px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}.mobile-card[_ngcontent-%COMP%]   .cell-sub[_ngcontent-%COMP%]{color:#6b7280;font-size:12px}@media(max-width:768px){.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}}"]})};import{CommonModule as gg}from"@angular/common";import{FormsModule as fg}from"@angular/forms";import*as x from"@angular/core";import*as Jo from"@angular/common";import*as Le from"@angular/forms";import*as Ko from"@angular/material/button";import*as Ve from"@angular/material/input";import*as Fi from"@angular/material/select";import*as rt from"@angular/material/table";import*as Ai from"@angular/material/card";import*as Xo from"@angular/material/toolbar";import*as tr from"@angular/material/chips";function _g(i,e){if(i&1&&(x.\u0275\u0275elementStart(0,"mat-option",35),x.\u0275\u0275text(1),x.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;x.\u0275\u0275property("value",t),x.\u0275\u0275advance(),x.\u0275\u0275textInterpolate(t)}}function bg(i,e){i&1&&(x.\u0275\u0275elementStart(0,"th",36),x.\u0275\u0275text(1,"ID"),x.\u0275\u0275elementEnd())}function hg(i,e){if(i&1&&(x.\u0275\u0275elementStart(0,"td",37),x.\u0275\u0275text(1),x.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;x.\u0275\u0275advance(),x.\u0275\u0275textInterpolate(t.id)}}function Cg(i,e){i&1&&(x.\u0275\u0275elementStart(0,"th",36),x.\u0275\u0275text(1,"Name"),x.\u0275\u0275elementEnd())}function xg(i,e){if(i&1&&(x.\u0275\u0275elementStart(0,"td",37)(1,"div",38),x.\u0275\u0275text(2),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(3,"div",39),x.\u0275\u0275text(4),x.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;x.\u0275\u0275advance(2),x.\u0275\u0275textInterpolate(t.name),x.\u0275\u0275advance(2),x.\u0275\u0275textInterpolate(t.category)}}function Mg(i,e){i&1&&(x.\u0275\u0275elementStart(0,"th",36),x.\u0275\u0275text(1,"Status"),x.\u0275\u0275elementEnd())}function vg(i,e){if(i&1&&(x.\u0275\u0275elementStart(0,"td",37)(1,"mat-chip",40),x.\u0275\u0275text(2),x.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit,n=x.\u0275\u0275nextContext();x.\u0275\u0275advance(),x.\u0275\u0275property("color",n.statusColor(t.status)),x.\u0275\u0275advance(),x.\u0275\u0275textInterpolate(t.status)}}function yg(i,e){i&1&&(x.\u0275\u0275elementStart(0,"th",36),x.\u0275\u0275text(1,"Assigned"),x.\u0275\u0275elementEnd())}function wg(i,e){if(i&1&&(x.\u0275\u0275elementStart(0,"td",37)(1,"div",38),x.\u0275\u0275text(2),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(3,"div",39),x.\u0275\u0275text(4),x.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;x.\u0275\u0275advance(2),x.\u0275\u0275textInterpolate(t.assignedTo||"\u2014"),x.\u0275\u0275advance(2),x.\u0275\u0275textInterpolate(t.assignedType||"")}}function Pg(i,e){i&1&&(x.\u0275\u0275elementStart(0,"th",36),x.\u0275\u0275text(1,"Location"),x.\u0275\u0275elementEnd())}function Og(i,e){if(i&1&&(x.\u0275\u0275elementStart(0,"td",37),x.\u0275\u0275text(1),x.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;x.\u0275\u0275advance(),x.\u0275\u0275textInterpolate(t.location||"\u2014")}}function Sg(i,e){i&1&&(x.\u0275\u0275elementStart(0,"th",36),x.\u0275\u0275text(1,"Due"),x.\u0275\u0275elementEnd())}function Eg(i,e){if(i&1&&(x.\u0275\u0275elementStart(0,"td",37),x.\u0275\u0275text(1),x.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;x.\u0275\u0275advance(),x.\u0275\u0275textInterpolate(t.dueDate||"\u2014")}}function kg(i,e){i&1&&x.\u0275\u0275element(0,"th",36)}function Tg(i,e){if(i&1){let t=x.\u0275\u0275getCurrentView();x.\u0275\u0275elementStart(0,"td",37)(1,"button",41),x.\u0275\u0275listener("click",function(){let a=x.\u0275\u0275restoreView(t).$implicit,o=x.\u0275\u0275nextContext();return x.\u0275\u0275resetView(o.toggleAssign(a))}),x.\u0275\u0275text(2,"Toggle assign"),x.\u0275\u0275elementEnd()()}}function Dg(i,e){i&1&&x.\u0275\u0275element(0,"tr",42)}function Ig(i,e){i&1&&x.\u0275\u0275element(0,"tr",43)}function Fg(i,e){if(i&1&&(x.\u0275\u0275elementStart(0,"tr",44)(1,"td"),x.\u0275\u0275text(2,"No assets match your filters."),x.\u0275\u0275elementEnd()()),i&2){let t=x.\u0275\u0275nextContext();x.\u0275\u0275advance(),x.\u0275\u0275attribute("colspan",t.displayedColumns.length)}}function Ag(i,e){if(i&1){let t=x.\u0275\u0275getCurrentView();x.\u0275\u0275elementStart(0,"div",45)(1,"div",46)(2,"div",38),x.\u0275\u0275text(3),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(4,"mat-chip",40),x.\u0275\u0275text(5),x.\u0275\u0275elementEnd()(),x.\u0275\u0275elementStart(6,"div",39),x.\u0275\u0275text(7),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(8,"div",39),x.\u0275\u0275text(9),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(10,"div",39),x.\u0275\u0275text(11),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(12,"div",39),x.\u0275\u0275text(13),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(14,"div",47)(15,"button",41),x.\u0275\u0275listener("click",function(){let a=x.\u0275\u0275restoreView(t).$implicit,o=x.\u0275\u0275nextContext();return x.\u0275\u0275resetView(o.toggleAssign(a))}),x.\u0275\u0275text(16,"Toggle assign"),x.\u0275\u0275elementEnd()()()}if(i&2){let t=e.$implicit,n=x.\u0275\u0275nextContext();x.\u0275\u0275advance(3),x.\u0275\u0275textInterpolate(t.name),x.\u0275\u0275advance(),x.\u0275\u0275property("color",n.statusColor(t.status)),x.\u0275\u0275advance(),x.\u0275\u0275textInterpolate(t.status),x.\u0275\u0275advance(2),x.\u0275\u0275textInterpolate2("",t.id," \xB7 ",t.category),x.\u0275\u0275advance(2),x.\u0275\u0275textInterpolate2("Assigned: ",t.assignedTo||"\u2014"," ",t.assignedType?"("+t.assignedType+")":""),x.\u0275\u0275advance(2),x.\u0275\u0275textInterpolate1("Location: ",t.location||"\u2014"),x.\u0275\u0275advance(2),x.\u0275\u0275textInterpolate1("Due: ",t.dueDate||"\u2014")}}var wn=class i{constructor(e){this.mock=e;this.assets=this.mock.getAssets(),this.categories=Array.from(new Set(this.assets.map(t=>t.category))),this.applyFilters()}assets=[];filtered=[];categories=[];search="";category="all";status="all";displayedColumns=["id","name","status","assigned","location","due","actions"];statusColor(e){return e==="maintenance"?"warn":e==="assigned"?"accent":"primary"}applyFilters(){let e=this.search.trim().toLowerCase();this.filtered=this.assets.filter(t=>{let n=!e||[t.name,t.id,t.assignedTo,t.location,t.category].some(v=>(v||"").toLowerCase().includes(e)),a=this.category==="all"||t.category===this.category,o=this.status==="all"||t.status===this.status;return n&&a&&o})}toggleAssign(e){e.status==="assigned"?this.mock.updateAsset(e.id,{status:"available",assignedTo:void 0,assignedType:void 0,dueDate:void 0}):this.mock.updateAsset(e.id,{status:"assigned",assignedTo:"Student",assignedType:"student",dueDate:new Date(Date.now()+10080*60*1e3).toISOString().slice(0,10)}),this.assets=this.mock.getAssets(),this.applyFilters()}addAsset(){this.mock.addAsset({name:"New Asset",category:"General",status:"available",location:"Store"}),this.assets=this.mock.getAssets(),this.categories=Array.from(new Set(this.assets.map(e=>e.category))),this.applyFilters()}static \u0275fac=function(t){return new(t||i)(x.\u0275\u0275directiveInject(H))};static \u0275cmp=x.\u0275\u0275defineComponent({type:i,selectors:[["app-assets"]],decls:68,vars:8,consts:[[1,"fees-page","assets-page","mat-typography"],["color","primary",1,"fees-toolbar","mat-elevation-z2"],[1,"toolbar-left"],[1,"eyebrow"],[1,"title"],[1,"spacer"],["mat-flat-button","","color","accent",1,"record-btn",3,"click"],[1,"icon"],[1,"filters-card","mat-elevation-z2"],[1,"filter-grid"],["appearance","fill"],["matInput","","placeholder","name, id, assigned",3,"ngModelChange","ngModel"],[3,"ngModelChange","selectionChange","ngModel"],["value","all"],[3,"value",4,"ngFor","ngForOf"],["value","available"],["value","assigned"],["value","maintenance"],[1,"table-card","mat-elevation-z2","desktop-only"],[1,"table-wrap"],["mat-table","",1,"mat-elevation-z2","mat-table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","status"],["matColumnDef","assigned"],["matColumnDef","location"],["matColumnDef","due"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[1,"mobile-only","mobile-card-list"],["class","mobile-card",4,"ngFor","ngForOf"],[3,"value"],["mat-header-cell",""],["mat-cell",""],[1,"cell-strong"],[1,"cell-sub"],["selected","",3,"color"],["mat-stroked-button","","color","accent",1,"ghost-button",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],[1,"mobile-card"],[1,"card-row"],[1,"action-row"]],template:function(t,n){t&1&&(x.\u0275\u0275elementStart(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"div",3),x.\u0275\u0275text(4,"PoliticianHub"),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(5,"div",4),x.\u0275\u0275text(6,"Assets & Inventory"),x.\u0275\u0275elementEnd()(),x.\u0275\u0275element(7,"span",5),x.\u0275\u0275elementStart(8,"button",6),x.\u0275\u0275listener("click",function(){return n.addAsset()}),x.\u0275\u0275elementStart(9,"span",7),x.\u0275\u0275text(10,"+"),x.\u0275\u0275elementEnd(),x.\u0275\u0275text(11," Add asset "),x.\u0275\u0275elementEnd()(),x.\u0275\u0275elementStart(12,"mat-card",8)(13,"div",9)(14,"mat-form-field",10)(15,"mat-label"),x.\u0275\u0275text(16,"Search"),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(17,"input",11),x.\u0275\u0275twoWayListener("ngModelChange",function(o){return x.\u0275\u0275twoWayBindingSet(n.search,o)||(n.search=o),o}),x.\u0275\u0275listener("ngModelChange",function(){return n.applyFilters()}),x.\u0275\u0275elementEnd()(),x.\u0275\u0275elementStart(18,"mat-form-field",10)(19,"mat-label"),x.\u0275\u0275text(20,"Category"),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(21,"mat-select",12),x.\u0275\u0275twoWayListener("ngModelChange",function(o){return x.\u0275\u0275twoWayBindingSet(n.category,o)||(n.category=o),o}),x.\u0275\u0275listener("selectionChange",function(){return n.applyFilters()}),x.\u0275\u0275elementStart(22,"mat-option",13),x.\u0275\u0275text(23,"All"),x.\u0275\u0275elementEnd(),x.\u0275\u0275template(24,_g,2,2,"mat-option",14),x.\u0275\u0275elementEnd()(),x.\u0275\u0275elementStart(25,"mat-form-field",10)(26,"mat-label"),x.\u0275\u0275text(27,"Status"),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(28,"mat-select",12),x.\u0275\u0275twoWayListener("ngModelChange",function(o){return x.\u0275\u0275twoWayBindingSet(n.status,o)||(n.status=o),o}),x.\u0275\u0275listener("selectionChange",function(){return n.applyFilters()}),x.\u0275\u0275elementStart(29,"mat-option",13),x.\u0275\u0275text(30,"All"),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(31,"mat-option",15),x.\u0275\u0275text(32,"Available"),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(33,"mat-option",16),x.\u0275\u0275text(34,"Assigned"),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(35,"mat-option",17),x.\u0275\u0275text(36,"Maintenance"),x.\u0275\u0275elementEnd()()()()(),x.\u0275\u0275elementStart(37,"mat-card",18)(38,"mat-card-title"),x.\u0275\u0275text(39,"Asset catalog"),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(40,"div",19)(41,"table",20),x.\u0275\u0275elementContainerStart(42,21),x.\u0275\u0275template(43,bg,2,0,"th",22)(44,hg,2,1,"td",23),x.\u0275\u0275elementContainerEnd(),x.\u0275\u0275elementContainerStart(45,24),x.\u0275\u0275template(46,Cg,2,0,"th",22)(47,xg,5,2,"td",23),x.\u0275\u0275elementContainerEnd(),x.\u0275\u0275elementContainerStart(48,25),x.\u0275\u0275template(49,Mg,2,0,"th",22)(50,vg,3,2,"td",23),x.\u0275\u0275elementContainerEnd(),x.\u0275\u0275elementContainerStart(51,26),x.\u0275\u0275template(52,yg,2,0,"th",22)(53,wg,5,2,"td",23),x.\u0275\u0275elementContainerEnd(),x.\u0275\u0275elementContainerStart(54,27),x.\u0275\u0275template(55,Pg,2,0,"th",22)(56,Og,2,1,"td",23),x.\u0275\u0275elementContainerEnd(),x.\u0275\u0275elementContainerStart(57,28),x.\u0275\u0275template(58,Sg,2,0,"th",22)(59,Eg,2,1,"td",23),x.\u0275\u0275elementContainerEnd(),x.\u0275\u0275elementContainerStart(60,29),x.\u0275\u0275template(61,kg,1,0,"th",22)(62,Tg,3,0,"td",23),x.\u0275\u0275elementContainerEnd(),x.\u0275\u0275template(63,Dg,1,0,"tr",30)(64,Ig,1,0,"tr",31)(65,Fg,3,1,"tr",32),x.\u0275\u0275elementEnd()()(),x.\u0275\u0275elementStart(66,"mat-card",33),x.\u0275\u0275template(67,Ag,17,9,"div",34),x.\u0275\u0275elementEnd()()),t&2&&(x.\u0275\u0275advance(17),x.\u0275\u0275twoWayProperty("ngModel",n.search),x.\u0275\u0275advance(4),x.\u0275\u0275twoWayProperty("ngModel",n.category),x.\u0275\u0275advance(3),x.\u0275\u0275property("ngForOf",n.categories),x.\u0275\u0275advance(4),x.\u0275\u0275twoWayProperty("ngModel",n.status),x.\u0275\u0275advance(13),x.\u0275\u0275property("dataSource",n.filtered),x.\u0275\u0275advance(22),x.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),x.\u0275\u0275advance(),x.\u0275\u0275property("matRowDefColumns",n.displayedColumns),x.\u0275\u0275advance(3),x.\u0275\u0275property("ngForOf",n.filtered))},dependencies:[gg,Jo.NgForOf,fg,Le.DefaultValueAccessor,Le.NgControlStatus,Le.NgModel,L,Ko.MatButton,Ve.MatInput,Ve.MatFormField,Ve.MatLabel,Fi.MatSelect,Fi.MatOption,rt.MatTable,rt.MatHeaderCellDef,rt.MatHeaderRowDef,rt.MatColumnDef,rt.MatCellDef,rt.MatRowDef,rt.MatHeaderCell,rt.MatCell,rt.MatHeaderRow,rt.MatRow,rt.MatNoDataRow,Ai.MatCard,Ai.MatCardTitle,Xo.MatToolbar,tr.MatChip],styles:[".assets-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:12px}.fees-toolbar[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(120deg,#3949ab,#1e88e5);color:#fff;padding:12px 16px}.toolbar-left[_ngcontent-%COMP%]   .eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.08em;font-size:12px;opacity:.9}.toolbar-left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px}.table-wrap[_ngcontent-%COMP%]{overflow-x:auto}.cell-strong[_ngcontent-%COMP%]{font-weight:700}.cell-sub[_ngcontent-%COMP%]{color:#6b7280;font-size:.85rem}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:6px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}.mobile-card[_ngcontent-%COMP%]   .cell-sub[_ngcontent-%COMP%]{color:#6b7280;font-size:12px}@media(max-width:768px){.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}}"]})};import{CommonModule as Rg}from"@angular/common";import{FormsModule as Ng}from"@angular/forms";import*as w from"@angular/core";import*as er from"@angular/common";import*as He from"@angular/forms";import*as nr from"@angular/material/button";import*as je from"@angular/material/input";import*as Ri from"@angular/material/select";import*as lt from"@angular/material/table";import*as Ni from"@angular/material/card";import*as ir from"@angular/material/toolbar";import*as ar from"@angular/material/chips";var or=()=>[];function zg(i,e){i&1&&(w.\u0275\u0275elementStart(0,"th",35),w.\u0275\u0275text(1,"Title"),w.\u0275\u0275elementEnd())}function Bg(i,e){if(i&1&&(w.\u0275\u0275elementStart(0,"td",36)(1,"div",37),w.\u0275\u0275text(2),w.\u0275\u0275elementEnd(),w.\u0275\u0275elementStart(3,"div",38),w.\u0275\u0275text(4),w.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;w.\u0275\u0275advance(2),w.\u0275\u0275textInterpolate(t.title),w.\u0275\u0275advance(2),w.\u0275\u0275textInterpolate(t.category||"General")}}function Lg(i,e){i&1&&(w.\u0275\u0275elementStart(0,"th",35),w.\u0275\u0275text(1,"Date"),w.\u0275\u0275elementEnd())}function Vg(i,e){if(i&1&&(w.\u0275\u0275elementStart(0,"td",36),w.\u0275\u0275text(1),w.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;w.\u0275\u0275advance(),w.\u0275\u0275textInterpolate2("",t.date," ",t.time||"")}}function Hg(i,e){i&1&&(w.\u0275\u0275elementStart(0,"th",35),w.\u0275\u0275text(1,"Location"),w.\u0275\u0275elementEnd())}function jg(i,e){if(i&1&&(w.\u0275\u0275elementStart(0,"td",36),w.\u0275\u0275text(1),w.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;w.\u0275\u0275advance(),w.\u0275\u0275textInterpolate(t.location||"\u2014")}}function Wg(i,e){i&1&&(w.\u0275\u0275elementStart(0,"th",35),w.\u0275\u0275text(1,"Audience"),w.\u0275\u0275elementEnd())}function Ug(i,e){if(i&1&&(w.\u0275\u0275elementStart(0,"td",36),w.\u0275\u0275text(1),w.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;w.\u0275\u0275advance(),w.\u0275\u0275textInterpolate(t.audience)}}function $g(i,e){i&1&&(w.\u0275\u0275elementStart(0,"th",35),w.\u0275\u0275text(1,"Status"),w.\u0275\u0275elementEnd())}function Gg(i,e){if(i&1&&(w.\u0275\u0275elementStart(0,"td",36)(1,"mat-chip",39),w.\u0275\u0275text(2),w.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;w.\u0275\u0275advance(),w.\u0275\u0275property("color",t.status==="completed"?"accent":"primary"),w.\u0275\u0275advance(),w.\u0275\u0275textInterpolate(t.status)}}function qg(i,e){i&1&&(w.\u0275\u0275elementStart(0,"th",35),w.\u0275\u0275text(1,"RSVPs"),w.\u0275\u0275elementEnd())}function Qg(i,e){if(i&1&&(w.\u0275\u0275elementStart(0,"td",36),w.\u0275\u0275text(1),w.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;w.\u0275\u0275advance(),w.\u0275\u0275textInterpolate((t.rsvps||w.\u0275\u0275pureFunction0(1,or)).length)}}function Yg(i,e){i&1&&w.\u0275\u0275element(0,"tr",40)}function Zg(i,e){i&1&&w.\u0275\u0275element(0,"tr",41)}function Jg(i,e){if(i&1&&(w.\u0275\u0275elementStart(0,"tr",42)(1,"td"),w.\u0275\u0275text(2,"No events match your filters."),w.\u0275\u0275elementEnd()()),i&2){let t=w.\u0275\u0275nextContext();w.\u0275\u0275advance(),w.\u0275\u0275attribute("colspan",t.displayedColumns.length)}}function Kg(i,e){if(i&1&&(w.\u0275\u0275elementStart(0,"div",43)(1,"div",44)(2,"div",37),w.\u0275\u0275text(3),w.\u0275\u0275elementEnd(),w.\u0275\u0275elementStart(4,"mat-chip",45),w.\u0275\u0275text(5),w.\u0275\u0275elementEnd()(),w.\u0275\u0275elementStart(6,"div",38),w.\u0275\u0275text(7),w.\u0275\u0275elementEnd(),w.\u0275\u0275elementStart(8,"div",38),w.\u0275\u0275text(9),w.\u0275\u0275elementEnd(),w.\u0275\u0275elementStart(10,"div",38),w.\u0275\u0275text(11),w.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;w.\u0275\u0275advance(3),w.\u0275\u0275textInterpolate(t.title),w.\u0275\u0275advance(2),w.\u0275\u0275textInterpolate(t.status||"upcoming"),w.\u0275\u0275advance(2),w.\u0275\u0275textInterpolate3("",t.date," ",t.time||""," \xB7 ",t.location||"\u2014"),w.\u0275\u0275advance(2),w.\u0275\u0275textInterpolate2("",t.category||"General"," \xB7 ",t.audience),w.\u0275\u0275advance(2),w.\u0275\u0275textInterpolate1("RSVPs: ",(t.rsvps||w.\u0275\u0275pureFunction0(8,or)).length)}}var Pn=class i{constructor(e){this.mock=e;this.events=e.getEvents(),this.categories=Array.from(new Set(this.events.map(t=>t.category||"").filter(Boolean))),this.applyFilters()}events=[];filtered=[];categories=[];search="";audience="all";status="all";displayedColumns=["title","date","location","audience","status","rsvps"];applyFilters(){let e=this.search.trim().toLowerCase();this.filtered=this.events.filter(t=>{let n=!e||[t.title,t.location,t.category,t.audience].some(v=>(v||"").toLowerCase().includes(e)),a=this.audience==="all"||t.audience===this.audience,o=this.status==="all"||t.status===this.status;return n&&a&&o})}addEvent(){this.mock.addEvent({title:"New Event",date:new Date().toISOString().slice(0,10),audience:"all",status:"upcoming"}),this.events=this.mock.getEvents(),this.categories=Array.from(new Set(this.events.map(e=>e.category||"").filter(Boolean))),this.applyFilters()}static \u0275fac=function(t){return new(t||i)(w.\u0275\u0275directiveInject(H))};static \u0275cmp=w.\u0275\u0275defineComponent({type:i,selectors:[["app-events"]],decls:68,vars:7,consts:[[1,"fees-page","events-page","mat-typography"],["color","primary",1,"fees-toolbar","mat-elevation-z2"],[1,"toolbar-left"],[1,"eyebrow"],[1,"title"],[1,"spacer"],["mat-flat-button","","color","accent",1,"record-btn",3,"click"],[1,"icon"],[1,"filters-card","mat-elevation-z2"],[1,"filter-grid"],["appearance","fill"],["matInput","","placeholder","title, location, audience",3,"ngModelChange","ngModel"],[3,"ngModelChange","selectionChange","ngModel"],["value","all"],["value","students"],["value","teachers"],["value","parents"],["value","upcoming"],["value","completed"],[1,"table-card","mat-elevation-z2","desktop-only"],[1,"table-wrap"],["mat-table","",1,"mat-elevation-z2","mat-table",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","date"],["matColumnDef","location"],["matColumnDef","audience"],["matColumnDef","status"],["matColumnDef","rsvps"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[1,"mobile-only","mobile-card-list"],["class","mobile-card",4,"ngFor","ngForOf"],["mat-header-cell",""],["mat-cell",""],[1,"cell-strong"],[1,"cell-sub"],["selected","",3,"color"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],[1,"mobile-card"],[1,"card-row"],["color","primary","selected",""]],template:function(t,n){t&1&&(w.\u0275\u0275elementStart(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"div",3),w.\u0275\u0275text(4,"PoliticianHub"),w.\u0275\u0275elementEnd(),w.\u0275\u0275elementStart(5,"div",4),w.\u0275\u0275text(6,"Events & Calendar"),w.\u0275\u0275elementEnd()(),w.\u0275\u0275element(7,"span",5),w.\u0275\u0275elementStart(8,"button",6),w.\u0275\u0275listener("click",function(){return n.addEvent()}),w.\u0275\u0275elementStart(9,"span",7),w.\u0275\u0275text(10,"+"),w.\u0275\u0275elementEnd(),w.\u0275\u0275text(11," Add event "),w.\u0275\u0275elementEnd()(),w.\u0275\u0275elementStart(12,"mat-card",8)(13,"div",9)(14,"mat-form-field",10)(15,"mat-label"),w.\u0275\u0275text(16,"Search"),w.\u0275\u0275elementEnd(),w.\u0275\u0275elementStart(17,"input",11),w.\u0275\u0275twoWayListener("ngModelChange",function(o){return w.\u0275\u0275twoWayBindingSet(n.search,o)||(n.search=o),o}),w.\u0275\u0275listener("ngModelChange",function(){return n.applyFilters()}),w.\u0275\u0275elementEnd()(),w.\u0275\u0275elementStart(18,"mat-form-field",10)(19,"mat-label"),w.\u0275\u0275text(20,"Audience"),w.\u0275\u0275elementEnd(),w.\u0275\u0275elementStart(21,"mat-select",12),w.\u0275\u0275twoWayListener("ngModelChange",function(o){return w.\u0275\u0275twoWayBindingSet(n.audience,o)||(n.audience=o),o}),w.\u0275\u0275listener("selectionChange",function(){return n.applyFilters()}),w.\u0275\u0275elementStart(22,"mat-option",13),w.\u0275\u0275text(23,"All"),w.\u0275\u0275elementEnd(),w.\u0275\u0275elementStart(24,"mat-option",14),w.\u0275\u0275text(25,"Students"),w.\u0275\u0275elementEnd(),w.\u0275\u0275elementStart(26,"mat-option",15),w.\u0275\u0275text(27,"Teachers"),w.\u0275\u0275elementEnd(),w.\u0275\u0275elementStart(28,"mat-option",16),w.\u0275\u0275text(29,"Parents"),w.\u0275\u0275elementEnd()()(),w.\u0275\u0275elementStart(30,"mat-form-field",10)(31,"mat-label"),w.\u0275\u0275text(32,"Status"),w.\u0275\u0275elementEnd(),w.\u0275\u0275elementStart(33,"mat-select",12),w.\u0275\u0275twoWayListener("ngModelChange",function(o){return w.\u0275\u0275twoWayBindingSet(n.status,o)||(n.status=o),o}),w.\u0275\u0275listener("selectionChange",function(){return n.applyFilters()}),w.\u0275\u0275elementStart(34,"mat-option",13),w.\u0275\u0275text(35,"All"),w.\u0275\u0275elementEnd(),w.\u0275\u0275elementStart(36,"mat-option",17),w.\u0275\u0275text(37,"Upcoming"),w.\u0275\u0275elementEnd(),w.\u0275\u0275elementStart(38,"mat-option",18),w.\u0275\u0275text(39,"Completed"),w.\u0275\u0275elementEnd()()()()(),w.\u0275\u0275elementStart(40,"mat-card",19)(41,"mat-card-title"),w.\u0275\u0275text(42,"Events"),w.\u0275\u0275elementEnd(),w.\u0275\u0275elementStart(43,"div",20)(44,"table",21),w.\u0275\u0275elementContainerStart(45,22),w.\u0275\u0275template(46,zg,2,0,"th",23)(47,Bg,5,2,"td",24),w.\u0275\u0275elementContainerEnd(),w.\u0275\u0275elementContainerStart(48,25),w.\u0275\u0275template(49,Lg,2,0,"th",23)(50,Vg,2,2,"td",24),w.\u0275\u0275elementContainerEnd(),w.\u0275\u0275elementContainerStart(51,26),w.\u0275\u0275template(52,Hg,2,0,"th",23)(53,jg,2,1,"td",24),w.\u0275\u0275elementContainerEnd(),w.\u0275\u0275elementContainerStart(54,27),w.\u0275\u0275template(55,Wg,2,0,"th",23)(56,Ug,2,1,"td",24),w.\u0275\u0275elementContainerEnd(),w.\u0275\u0275elementContainerStart(57,28),w.\u0275\u0275template(58,$g,2,0,"th",23)(59,Gg,3,2,"td",24),w.\u0275\u0275elementContainerEnd(),w.\u0275\u0275elementContainerStart(60,29),w.\u0275\u0275template(61,qg,2,0,"th",23)(62,Qg,2,2,"td",24),w.\u0275\u0275elementContainerEnd(),w.\u0275\u0275template(63,Yg,1,0,"tr",30)(64,Zg,1,0,"tr",31)(65,Jg,3,1,"tr",32),w.\u0275\u0275elementEnd()()(),w.\u0275\u0275elementStart(66,"mat-card",33),w.\u0275\u0275template(67,Kg,12,9,"div",34),w.\u0275\u0275elementEnd()()),t&2&&(w.\u0275\u0275advance(17),w.\u0275\u0275twoWayProperty("ngModel",n.search),w.\u0275\u0275advance(4),w.\u0275\u0275twoWayProperty("ngModel",n.audience),w.\u0275\u0275advance(12),w.\u0275\u0275twoWayProperty("ngModel",n.status),w.\u0275\u0275advance(11),w.\u0275\u0275property("dataSource",n.filtered),w.\u0275\u0275advance(19),w.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),w.\u0275\u0275advance(),w.\u0275\u0275property("matRowDefColumns",n.displayedColumns),w.\u0275\u0275advance(3),w.\u0275\u0275property("ngForOf",n.filtered))},dependencies:[Rg,er.NgForOf,Ng,He.DefaultValueAccessor,He.NgControlStatus,He.NgModel,L,nr.MatButton,je.MatInput,je.MatFormField,je.MatLabel,Ri.MatSelect,Ri.MatOption,lt.MatTable,lt.MatHeaderCellDef,lt.MatHeaderRowDef,lt.MatColumnDef,lt.MatCellDef,lt.MatRowDef,lt.MatHeaderCell,lt.MatCell,lt.MatHeaderRow,lt.MatRow,lt.MatNoDataRow,Ni.MatCard,Ni.MatCardTitle,ir.MatToolbar,ar.MatChip],styles:[".events-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:12px}.fees-toolbar[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(120deg,#3949ab,#1e88e5);color:#fff;padding:12px 16px}.toolbar-left[_ngcontent-%COMP%]   .eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.08em;font-size:12px;opacity:.9}.toolbar-left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px}.table-wrap[_ngcontent-%COMP%]{overflow-x:auto}.cell-strong[_ngcontent-%COMP%]{font-weight:700}.cell-sub[_ngcontent-%COMP%]{color:#6b7280;font-size:.85rem}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:6px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}.mobile-card[_ngcontent-%COMP%]   .cell-sub[_ngcontent-%COMP%]{color:#6b7280;font-size:12px}@media(max-width:768px){.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}}"]})};import{CommonModule as Xg}from"@angular/common";import{FormsModule as tf}from"@angular/forms";import*as y from"@angular/core";import*as rr from"@angular/common";import*as We from"@angular/forms";import*as lr from"@angular/material/button";import*as Ue from"@angular/material/input";import*as zi from"@angular/material/select";import*as st from"@angular/material/table";import*as Bi from"@angular/material/card";import*as sr from"@angular/material/toolbar";import*as cr from"@angular/material/chips";function ef(i,e){i&1&&(y.\u0275\u0275elementStart(0,"th",35),y.\u0275\u0275text(1,"Resource"),y.\u0275\u0275elementEnd())}function nf(i,e){if(i&1&&(y.\u0275\u0275elementStart(0,"td",36)(1,"div",37),y.\u0275\u0275text(2),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(3,"div",38),y.\u0275\u0275text(4),y.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit,n=y.\u0275\u0275nextContext();y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(t.resourceName),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(n.resourceType(t.resourceId))}}function af(i,e){i&1&&(y.\u0275\u0275elementStart(0,"th",35),y.\u0275\u0275text(1,"Date"),y.\u0275\u0275elementEnd())}function of(i,e){if(i&1&&(y.\u0275\u0275elementStart(0,"td",36),y.\u0275\u0275text(1),y.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;y.\u0275\u0275advance(),y.\u0275\u0275textInterpolate3("",t.date," ",t.start,"-",t.end)}}function rf(i,e){i&1&&(y.\u0275\u0275elementStart(0,"th",35),y.\u0275\u0275text(1,"Requester"),y.\u0275\u0275elementEnd())}function lf(i,e){if(i&1&&(y.\u0275\u0275elementStart(0,"td",36),y.\u0275\u0275text(1),y.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;y.\u0275\u0275advance(),y.\u0275\u0275textInterpolate(t.requester)}}function sf(i,e){i&1&&(y.\u0275\u0275elementStart(0,"th",35),y.\u0275\u0275text(1,"Purpose"),y.\u0275\u0275elementEnd())}function cf(i,e){if(i&1&&(y.\u0275\u0275elementStart(0,"td",36),y.\u0275\u0275text(1),y.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;y.\u0275\u0275advance(),y.\u0275\u0275textInterpolate(t.purpose)}}function df(i,e){i&1&&(y.\u0275\u0275elementStart(0,"th",35),y.\u0275\u0275text(1,"Status"),y.\u0275\u0275elementEnd())}function mf(i,e){if(i&1&&(y.\u0275\u0275elementStart(0,"td",36)(1,"mat-chip",39),y.\u0275\u0275text(2),y.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;y.\u0275\u0275advance(),y.\u0275\u0275property("color",t.conflict?"warn":t.status==="approved"?"primary":"accent"),y.\u0275\u0275advance(),y.\u0275\u0275textInterpolate1(" ",t.conflict?"Conflict":t.status," ")}}function pf(i,e){i&1&&y.\u0275\u0275element(0,"th",35)}function uf(i,e){if(i&1){let t=y.\u0275\u0275getCurrentView();y.\u0275\u0275elementStart(0,"td",36)(1,"button",40),y.\u0275\u0275listener("click",function(){let a=y.\u0275\u0275restoreView(t).$implicit,o=y.\u0275\u0275nextContext();return y.\u0275\u0275resetView(o.approve(a))}),y.\u0275\u0275text(2,"Approve"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(3,"button",41),y.\u0275\u0275listener("click",function(){let a=y.\u0275\u0275restoreView(t).$implicit,o=y.\u0275\u0275nextContext();return y.\u0275\u0275resetView(o.toggleConflict(a))}),y.\u0275\u0275text(4,"Toggle conflict"),y.\u0275\u0275elementEnd()()}}function gf(i,e){i&1&&y.\u0275\u0275element(0,"tr",42)}function ff(i,e){i&1&&y.\u0275\u0275element(0,"tr",43)}function _f(i,e){if(i&1&&(y.\u0275\u0275elementStart(0,"tr",44)(1,"td"),y.\u0275\u0275text(2,"No bookings match your filters."),y.\u0275\u0275elementEnd()()),i&2){let t=y.\u0275\u0275nextContext();y.\u0275\u0275advance(),y.\u0275\u0275attribute("colspan",t.displayedColumns.length)}}function bf(i,e){if(i&1&&(y.\u0275\u0275elementStart(0,"div",45)(1,"div",46)(2,"div",37),y.\u0275\u0275text(3),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(4,"mat-chip",39),y.\u0275\u0275text(5),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(6,"div",38),y.\u0275\u0275text(7),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(8,"div",38),y.\u0275\u0275text(9),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(10,"div",38),y.\u0275\u0275text(11),y.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(t.resourceName),y.\u0275\u0275advance(),y.\u0275\u0275property("color",t.conflict?"warn":t.status==="approved"?"primary":"accent"),y.\u0275\u0275advance(),y.\u0275\u0275textInterpolate1(" ",t.conflict?"Conflict":t.status," "),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate3("",t.date," ",t.start,"-",t.end),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate1("Requester: ",t.requester),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate1("Purpose: ",t.purpose)}}var On=class i{constructor(e){this.mock=e;this.resources=e.getResources(),this.bookings=e.getBookings(),this.applyFilters()}resources=[];bookings=[];filtered=[];search="";type="all";status="all";displayedColumns=["resource","date","requester","purpose","status","actions"];resourceType(e){let t=this.resources.find(n=>n.id===e);return t?t.type:""}applyFilters(){let e=this.search.trim().toLowerCase();this.filtered=this.bookings.filter(t=>{let n=!e||[t.resourceName,t.requester,t.purpose].some(v=>(v||"").toLowerCase().includes(e)),a=this.type==="all"||this.resourceType(t.resourceId)===this.type,o=this.status==="all"||t.status===this.status;return n&&a&&o})}approve(e){this.mock.updateBooking(e.id,{status:"approved",conflict:!1}),this.bookings=this.mock.getBookings(),this.applyFilters()}toggleConflict(e){this.mock.updateBooking(e.id,{conflict:!e.conflict}),this.bookings=this.mock.getBookings(),this.applyFilters()}addBooking(){this.mock.addBooking({resourceId:this.resources[0]?.id||0,resourceName:this.resources[0]?.name||"Room",requester:"Requester",purpose:"Meeting"}),this.bookings=this.mock.getBookings(),this.applyFilters()}static \u0275fac=function(t){return new(t||i)(y.\u0275\u0275directiveInject(H))};static \u0275cmp=y.\u0275\u0275defineComponent({type:i,selectors:[["app-resources"]],decls:68,vars:7,consts:[[1,"fees-page","resources-page","mat-typography"],["color","primary",1,"fees-toolbar","mat-elevation-z2"],[1,"toolbar-left"],[1,"eyebrow"],[1,"title"],[1,"spacer"],["mat-flat-button","","color","accent",1,"record-btn",3,"click"],[1,"icon"],[1,"filters-card","mat-elevation-z2"],[1,"filter-grid"],["appearance","fill"],["matInput","","placeholder","resource or requester",3,"ngModelChange","ngModel"],[3,"ngModelChange","selectionChange","ngModel"],["value","all"],["value","room"],["value","lab"],["value","ground"],["value","approved"],["value","pending"],[1,"table-card","mat-elevation-z2","desktop-only"],[1,"table-wrap"],["mat-table","",1,"mat-elevation-z2","mat-table",3,"dataSource"],["matColumnDef","resource"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","date"],["matColumnDef","requester"],["matColumnDef","purpose"],["matColumnDef","status"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[1,"mobile-only","mobile-card-list"],["class","mobile-card",4,"ngFor","ngForOf"],["mat-header-cell",""],["mat-cell",""],[1,"cell-strong"],[1,"cell-sub"],["selected","",3,"color"],["mat-stroked-button","","color","primary",1,"ghost-button",3,"click"],["mat-stroked-button","","color","warn",1,"ghost-button",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],[1,"mobile-card"],[1,"card-row"]],template:function(t,n){t&1&&(y.\u0275\u0275elementStart(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"div",3),y.\u0275\u0275text(4,"PoliticianHub"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(5,"div",4),y.\u0275\u0275text(6,"Resources & Bookings"),y.\u0275\u0275elementEnd()(),y.\u0275\u0275element(7,"span",5),y.\u0275\u0275elementStart(8,"button",6),y.\u0275\u0275listener("click",function(){return n.addBooking()}),y.\u0275\u0275elementStart(9,"span",7),y.\u0275\u0275text(10,"+"),y.\u0275\u0275elementEnd(),y.\u0275\u0275text(11," New booking "),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(12,"mat-card",8)(13,"div",9)(14,"mat-form-field",10)(15,"mat-label"),y.\u0275\u0275text(16,"Search"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(17,"input",11),y.\u0275\u0275twoWayListener("ngModelChange",function(o){return y.\u0275\u0275twoWayBindingSet(n.search,o)||(n.search=o),o}),y.\u0275\u0275listener("ngModelChange",function(){return n.applyFilters()}),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(18,"mat-form-field",10)(19,"mat-label"),y.\u0275\u0275text(20,"Type"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(21,"mat-select",12),y.\u0275\u0275twoWayListener("ngModelChange",function(o){return y.\u0275\u0275twoWayBindingSet(n.type,o)||(n.type=o),o}),y.\u0275\u0275listener("selectionChange",function(){return n.applyFilters()}),y.\u0275\u0275elementStart(22,"mat-option",13),y.\u0275\u0275text(23,"All"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(24,"mat-option",14),y.\u0275\u0275text(25,"Room"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(26,"mat-option",15),y.\u0275\u0275text(27,"Lab"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(28,"mat-option",16),y.\u0275\u0275text(29,"Ground"),y.\u0275\u0275elementEnd()()(),y.\u0275\u0275elementStart(30,"mat-form-field",10)(31,"mat-label"),y.\u0275\u0275text(32,"Status"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(33,"mat-select",12),y.\u0275\u0275twoWayListener("ngModelChange",function(o){return y.\u0275\u0275twoWayBindingSet(n.status,o)||(n.status=o),o}),y.\u0275\u0275listener("selectionChange",function(){return n.applyFilters()}),y.\u0275\u0275elementStart(34,"mat-option",13),y.\u0275\u0275text(35,"All"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(36,"mat-option",17),y.\u0275\u0275text(37,"Approved"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(38,"mat-option",18),y.\u0275\u0275text(39,"Pending"),y.\u0275\u0275elementEnd()()()()(),y.\u0275\u0275elementStart(40,"mat-card",19)(41,"mat-card-title"),y.\u0275\u0275text(42,"Bookings"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(43,"div",20)(44,"table",21),y.\u0275\u0275elementContainerStart(45,22),y.\u0275\u0275template(46,ef,2,0,"th",23)(47,nf,5,2,"td",24),y.\u0275\u0275elementContainerEnd(),y.\u0275\u0275elementContainerStart(48,25),y.\u0275\u0275template(49,af,2,0,"th",23)(50,of,2,3,"td",24),y.\u0275\u0275elementContainerEnd(),y.\u0275\u0275elementContainerStart(51,26),y.\u0275\u0275template(52,rf,2,0,"th",23)(53,lf,2,1,"td",24),y.\u0275\u0275elementContainerEnd(),y.\u0275\u0275elementContainerStart(54,27),y.\u0275\u0275template(55,sf,2,0,"th",23)(56,cf,2,1,"td",24),y.\u0275\u0275elementContainerEnd(),y.\u0275\u0275elementContainerStart(57,28),y.\u0275\u0275template(58,df,2,0,"th",23)(59,mf,3,2,"td",24),y.\u0275\u0275elementContainerEnd(),y.\u0275\u0275elementContainerStart(60,29),y.\u0275\u0275template(61,pf,1,0,"th",23)(62,uf,5,0,"td",24),y.\u0275\u0275elementContainerEnd(),y.\u0275\u0275template(63,gf,1,0,"tr",30)(64,ff,1,0,"tr",31)(65,_f,3,1,"tr",32),y.\u0275\u0275elementEnd()()(),y.\u0275\u0275elementStart(66,"mat-card",33),y.\u0275\u0275template(67,bf,12,8,"div",34),y.\u0275\u0275elementEnd()()),t&2&&(y.\u0275\u0275advance(17),y.\u0275\u0275twoWayProperty("ngModel",n.search),y.\u0275\u0275advance(4),y.\u0275\u0275twoWayProperty("ngModel",n.type),y.\u0275\u0275advance(12),y.\u0275\u0275twoWayProperty("ngModel",n.status),y.\u0275\u0275advance(11),y.\u0275\u0275property("dataSource",n.filtered),y.\u0275\u0275advance(19),y.\u0275\u0275property("matHeaderRowDef",n.displayedColumns),y.\u0275\u0275advance(),y.\u0275\u0275property("matRowDefColumns",n.displayedColumns),y.\u0275\u0275advance(3),y.\u0275\u0275property("ngForOf",n.filtered))},dependencies:[Xg,rr.NgForOf,tf,We.DefaultValueAccessor,We.NgControlStatus,We.NgModel,L,lr.MatButton,Ue.MatInput,Ue.MatFormField,Ue.MatLabel,zi.MatSelect,zi.MatOption,st.MatTable,st.MatHeaderCellDef,st.MatHeaderRowDef,st.MatColumnDef,st.MatCellDef,st.MatRowDef,st.MatHeaderCell,st.MatCell,st.MatHeaderRow,st.MatRow,st.MatNoDataRow,Bi.MatCard,Bi.MatCardTitle,sr.MatToolbar,cr.MatChip],styles:[".resources-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:12px}.fees-toolbar[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(120deg,#3949ab,#1e88e5);color:#fff;padding:12px 16px}.toolbar-left[_ngcontent-%COMP%]   .eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.08em;font-size:12px;opacity:.9}.toolbar-left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px}.table-wrap[_ngcontent-%COMP%]{overflow-x:auto}.cell-strong[_ngcontent-%COMP%]{font-weight:700}.cell-sub[_ngcontent-%COMP%]{color:#6b7280;font-size:.85rem}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:6px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}.mobile-card[_ngcontent-%COMP%]   .cell-sub[_ngcontent-%COMP%]{color:#6b7280;font-size:12px}@media(max-width:768px){.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}}"]})};import{CommonModule as hf}from"@angular/common";import{FormsModule as Cf}from"@angular/forms";import*as g from"@angular/core";import*as dr from"@angular/common";import*as $e from"@angular/forms";import*as Ge from"@angular/material/input";import*as Li from"@angular/material/select";import*as ct from"@angular/material/table";import*as Vi from"@angular/material/card";import*as mr from"@angular/material/toolbar";import*as pr from"@angular/material/chips";function xf(i,e){i&1&&(g.\u0275\u0275elementStart(0,"th",33),g.\u0275\u0275text(1,"Teacher"),g.\u0275\u0275elementEnd())}function Mf(i,e){if(i&1&&(g.\u0275\u0275elementStart(0,"td",34),g.\u0275\u0275text(1),g.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;g.\u0275\u0275advance(),g.\u0275\u0275textInterpolate(t.teacherName)}}function vf(i,e){i&1&&(g.\u0275\u0275elementStart(0,"th",33),g.\u0275\u0275text(1,"Goal"),g.\u0275\u0275elementEnd())}function yf(i,e){if(i&1&&(g.\u0275\u0275elementStart(0,"td",34),g.\u0275\u0275text(1),g.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;g.\u0275\u0275advance(),g.\u0275\u0275textInterpolate(t.title)}}function wf(i,e){i&1&&(g.\u0275\u0275elementStart(0,"th",33),g.\u0275\u0275text(1,"Due"),g.\u0275\u0275elementEnd())}function Pf(i,e){if(i&1&&(g.\u0275\u0275elementStart(0,"td",34),g.\u0275\u0275text(1),g.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;g.\u0275\u0275advance(),g.\u0275\u0275textInterpolate(t.dueDate)}}function Of(i,e){i&1&&(g.\u0275\u0275elementStart(0,"th",33),g.\u0275\u0275text(1,"Status"),g.\u0275\u0275elementEnd())}function Sf(i,e){if(i&1&&(g.\u0275\u0275elementStart(0,"td",34)(1,"mat-chip",35),g.\u0275\u0275text(2),g.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit,n=g.\u0275\u0275nextContext();g.\u0275\u0275advance(),g.\u0275\u0275property("color",n.statusColor(t.status)),g.\u0275\u0275advance(),g.\u0275\u0275textInterpolate(t.status)}}function Ef(i,e){i&1&&g.\u0275\u0275element(0,"tr",36)}function kf(i,e){i&1&&g.\u0275\u0275element(0,"tr",37)}function Tf(i,e){if(i&1&&(g.\u0275\u0275elementStart(0,"tr",38)(1,"td"),g.\u0275\u0275text(2,"No goals match your filters."),g.\u0275\u0275elementEnd()()),i&2){let t=g.\u0275\u0275nextContext();g.\u0275\u0275advance(),g.\u0275\u0275attribute("colspan",t.goalCols.length)}}function Df(i,e){i&1&&(g.\u0275\u0275elementStart(0,"th",33),g.\u0275\u0275text(1,"Teacher"),g.\u0275\u0275elementEnd())}function If(i,e){if(i&1&&(g.\u0275\u0275elementStart(0,"td",34),g.\u0275\u0275text(1),g.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;g.\u0275\u0275advance(),g.\u0275\u0275textInterpolate(t.teacherName)}}function Ff(i,e){i&1&&(g.\u0275\u0275elementStart(0,"th",33),g.\u0275\u0275text(1,"Date"),g.\u0275\u0275elementEnd())}function Af(i,e){if(i&1&&(g.\u0275\u0275elementStart(0,"td",34),g.\u0275\u0275text(1),g.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;g.\u0275\u0275advance(),g.\u0275\u0275textInterpolate(t.date)}}function Rf(i,e){i&1&&(g.\u0275\u0275elementStart(0,"th",33),g.\u0275\u0275text(1,"Observer"),g.\u0275\u0275elementEnd())}function Nf(i,e){if(i&1&&(g.\u0275\u0275elementStart(0,"td",34),g.\u0275\u0275text(1),g.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;g.\u0275\u0275advance(),g.\u0275\u0275textInterpolate(t.observer)}}function zf(i,e){i&1&&(g.\u0275\u0275elementStart(0,"th",33),g.\u0275\u0275text(1,"Summary"),g.\u0275\u0275elementEnd())}function Bf(i,e){if(i&1&&(g.\u0275\u0275elementStart(0,"td",34),g.\u0275\u0275text(1),g.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;g.\u0275\u0275advance(),g.\u0275\u0275textInterpolate(t.summary)}}function Lf(i,e){i&1&&g.\u0275\u0275element(0,"tr",36)}function Vf(i,e){i&1&&g.\u0275\u0275element(0,"tr",37)}function Hf(i,e){if(i&1&&(g.\u0275\u0275elementStart(0,"tr",38)(1,"td"),g.\u0275\u0275text(2,"No feedback logged."),g.\u0275\u0275elementEnd()()),i&2){let t=g.\u0275\u0275nextContext();g.\u0275\u0275advance(),g.\u0275\u0275attribute("colspan",t.feedbackCols.length)}}function jf(i,e){i&1&&(g.\u0275\u0275elementStart(0,"th",33),g.\u0275\u0275text(1,"Teacher"),g.\u0275\u0275elementEnd())}function Wf(i,e){if(i&1&&(g.\u0275\u0275elementStart(0,"td",34),g.\u0275\u0275text(1),g.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;g.\u0275\u0275advance(),g.\u0275\u0275textInterpolate(t.teacherName)}}function Uf(i,e){i&1&&(g.\u0275\u0275elementStart(0,"th",33),g.\u0275\u0275text(1,"Course"),g.\u0275\u0275elementEnd())}function $f(i,e){if(i&1&&(g.\u0275\u0275elementStart(0,"td",34),g.\u0275\u0275text(1),g.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;g.\u0275\u0275advance(),g.\u0275\u0275textInterpolate(t.title)}}function Gf(i,e){i&1&&(g.\u0275\u0275elementStart(0,"th",33),g.\u0275\u0275text(1,"Hours"),g.\u0275\u0275elementEnd())}function qf(i,e){if(i&1&&(g.\u0275\u0275elementStart(0,"td",34),g.\u0275\u0275text(1),g.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;g.\u0275\u0275advance(),g.\u0275\u0275textInterpolate(t.hours)}}function Qf(i,e){i&1&&(g.\u0275\u0275elementStart(0,"th",33),g.\u0275\u0275text(1,"Status"),g.\u0275\u0275elementEnd())}function Yf(i,e){if(i&1&&(g.\u0275\u0275elementStart(0,"td",34)(1,"mat-chip",35),g.\u0275\u0275text(2),g.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit,n=g.\u0275\u0275nextContext();g.\u0275\u0275advance(),g.\u0275\u0275property("color",n.pdColor(t.status)),g.\u0275\u0275advance(),g.\u0275\u0275textInterpolate(t.status)}}function Zf(i,e){i&1&&g.\u0275\u0275element(0,"tr",36)}function Jf(i,e){i&1&&g.\u0275\u0275element(0,"tr",37)}function Kf(i,e){if(i&1&&(g.\u0275\u0275elementStart(0,"tr",38)(1,"td"),g.\u0275\u0275text(2,"No professional development records."),g.\u0275\u0275elementEnd()()),i&2){let t=g.\u0275\u0275nextContext();g.\u0275\u0275advance(),g.\u0275\u0275attribute("colspan",t.pdCols.length)}}function Xf(i,e){if(i&1&&(g.\u0275\u0275elementStart(0,"div",39)(1,"div",40)(2,"div",41),g.\u0275\u0275text(3),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(4,"mat-chip",35),g.\u0275\u0275text(5),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(6,"div",42),g.\u0275\u0275text(7),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(8,"div",42),g.\u0275\u0275text(9),g.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit,n=g.\u0275\u0275nextContext();g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(t.teacherName),g.\u0275\u0275advance(),g.\u0275\u0275property("color",n.statusColor(t.status)),g.\u0275\u0275advance(),g.\u0275\u0275textInterpolate(t.status),g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate(t.title),g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate1("Due: ",t.dueDate)}}var Sn=class i{constructor(e){this.mock=e;this.goals=e.getTeacherGoals(),this.feedback=e.getTeacherFeedback(),this.pd=e.getTeacherPd(),this.applyFilters()}goals=[];filteredGoals=[];feedback=[];pd=[];search="";status="all";goalCols=["teacher","title","due","status"];feedbackCols=["teacher","date","observer","summary"];pdCols=["teacher","title","hours","status"];statusColor(e){return e==="at-risk"?"warn":e==="completed"?"accent":"primary"}pdColor(e){return e==="completed"?"primary":e==="in-progress"?"accent":"warn"}applyFilters(){let e=this.search.trim().toLowerCase();this.filteredGoals=this.goals.filter(t=>{let n=!e||[t.teacherName,t.title].some(o=>(o||"").toLowerCase().includes(e)),a=this.status==="all"||t.status===this.status;return n&&a})}static \u0275fac=function(t){return new(t||i)(g.\u0275\u0275directiveInject(H))};static \u0275cmp=g.\u0275\u0275defineComponent({type:i,selectors:[["app-performance"]],decls:87,vars:12,consts:[[1,"fees-page","performance-page","mat-typography"],["color","primary",1,"fees-toolbar","mat-elevation-z2"],[1,"toolbar-left"],[1,"eyebrow"],[1,"title"],[1,"filters-card","mat-elevation-z2"],[1,"filter-grid"],["appearance","fill"],["matInput","","placeholder","teacher or goal",3,"ngModelChange","ngModel"],[3,"ngModelChange","selectionChange","ngModel"],["value","all"],["value","on-track"],["value","at-risk"],["value","completed"],[1,"table-card","mat-elevation-z2","desktop-only"],[1,"table-wrap"],["mat-table","",1,"mat-elevation-z2","mat-table",3,"dataSource"],["matColumnDef","teacher"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","due"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["mat-table","",1,"mat-table",3,"dataSource"],["matColumnDef","date"],["matColumnDef","observer"],["matColumnDef","summary"],["matColumnDef","hours"],[1,"mobile-only","mobile-card-list"],["class","mobile-card",4,"ngFor","ngForOf"],["mat-header-cell",""],["mat-cell",""],["selected","",3,"color"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],[1,"mobile-card"],[1,"card-row"],[1,"cell-strong"],[1,"cell-sub"]],template:function(t,n){t&1&&(g.\u0275\u0275elementStart(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"div",3),g.\u0275\u0275text(4,"PoliticianHub"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(5,"div",4),g.\u0275\u0275text(6,"Staff Performance & Goals"),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275elementStart(7,"mat-card",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),g.\u0275\u0275text(11,"Search"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(12,"input",8),g.\u0275\u0275twoWayListener("ngModelChange",function(o){return g.\u0275\u0275twoWayBindingSet(n.search,o)||(n.search=o),o}),g.\u0275\u0275listener("ngModelChange",function(){return n.applyFilters()}),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(13,"mat-form-field",7)(14,"mat-label"),g.\u0275\u0275text(15,"Status"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(16,"mat-select",9),g.\u0275\u0275twoWayListener("ngModelChange",function(o){return g.\u0275\u0275twoWayBindingSet(n.status,o)||(n.status=o),o}),g.\u0275\u0275listener("selectionChange",function(){return n.applyFilters()}),g.\u0275\u0275elementStart(17,"mat-option",10),g.\u0275\u0275text(18,"All"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(19,"mat-option",11),g.\u0275\u0275text(20,"On track"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(21,"mat-option",12),g.\u0275\u0275text(22,"At risk"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(23,"mat-option",13),g.\u0275\u0275text(24,"Completed"),g.\u0275\u0275elementEnd()()()()(),g.\u0275\u0275elementStart(25,"mat-card",14)(26,"mat-card-title"),g.\u0275\u0275text(27,"Goals"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(28,"div",15)(29,"table",16),g.\u0275\u0275elementContainerStart(30,17),g.\u0275\u0275template(31,xf,2,0,"th",18)(32,Mf,2,1,"td",19),g.\u0275\u0275elementContainerEnd(),g.\u0275\u0275elementContainerStart(33,20),g.\u0275\u0275template(34,vf,2,0,"th",18)(35,yf,2,1,"td",19),g.\u0275\u0275elementContainerEnd(),g.\u0275\u0275elementContainerStart(36,21),g.\u0275\u0275template(37,wf,2,0,"th",18)(38,Pf,2,1,"td",19),g.\u0275\u0275elementContainerEnd(),g.\u0275\u0275elementContainerStart(39,22),g.\u0275\u0275template(40,Of,2,0,"th",18)(41,Sf,3,2,"td",19),g.\u0275\u0275elementContainerEnd(),g.\u0275\u0275template(42,Ef,1,0,"tr",23)(43,kf,1,0,"tr",24)(44,Tf,3,1,"tr",25),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275elementStart(45,"mat-card",14)(46,"mat-card-title"),g.\u0275\u0275text(47,"Feedback"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(48,"div",15)(49,"table",26),g.\u0275\u0275elementContainerStart(50,17),g.\u0275\u0275template(51,Df,2,0,"th",18)(52,If,2,1,"td",19),g.\u0275\u0275elementContainerEnd(),g.\u0275\u0275elementContainerStart(53,27),g.\u0275\u0275template(54,Ff,2,0,"th",18)(55,Af,2,1,"td",19),g.\u0275\u0275elementContainerEnd(),g.\u0275\u0275elementContainerStart(56,28),g.\u0275\u0275template(57,Rf,2,0,"th",18)(58,Nf,2,1,"td",19),g.\u0275\u0275elementContainerEnd(),g.\u0275\u0275elementContainerStart(59,29),g.\u0275\u0275template(60,zf,2,0,"th",18)(61,Bf,2,1,"td",19),g.\u0275\u0275elementContainerEnd(),g.\u0275\u0275template(62,Lf,1,0,"tr",23)(63,Vf,1,0,"tr",24)(64,Hf,3,1,"tr",25),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275elementStart(65,"mat-card",14)(66,"mat-card-title"),g.\u0275\u0275text(67,"Professional Development"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(68,"div",15)(69,"table",26),g.\u0275\u0275elementContainerStart(70,17),g.\u0275\u0275template(71,jf,2,0,"th",18)(72,Wf,2,1,"td",19),g.\u0275\u0275elementContainerEnd(),g.\u0275\u0275elementContainerStart(73,20),g.\u0275\u0275template(74,Uf,2,0,"th",18)(75,$f,2,1,"td",19),g.\u0275\u0275elementContainerEnd(),g.\u0275\u0275elementContainerStart(76,30),g.\u0275\u0275template(77,Gf,2,0,"th",18)(78,qf,2,1,"td",19),g.\u0275\u0275elementContainerEnd(),g.\u0275\u0275elementContainerStart(79,22),g.\u0275\u0275template(80,Qf,2,0,"th",18)(81,Yf,3,2,"td",19),g.\u0275\u0275elementContainerEnd(),g.\u0275\u0275template(82,Zf,1,0,"tr",23)(83,Jf,1,0,"tr",24)(84,Kf,3,1,"tr",25),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275elementStart(85,"mat-card",31),g.\u0275\u0275template(86,Xf,10,5,"div",32),g.\u0275\u0275elementEnd()()),t&2&&(g.\u0275\u0275advance(12),g.\u0275\u0275twoWayProperty("ngModel",n.search),g.\u0275\u0275advance(4),g.\u0275\u0275twoWayProperty("ngModel",n.status),g.\u0275\u0275advance(13),g.\u0275\u0275property("dataSource",n.filteredGoals),g.\u0275\u0275advance(13),g.\u0275\u0275property("matHeaderRowDef",n.goalCols),g.\u0275\u0275advance(),g.\u0275\u0275property("matRowDefColumns",n.goalCols),g.\u0275\u0275advance(6),g.\u0275\u0275property("dataSource",n.feedback),g.\u0275\u0275advance(13),g.\u0275\u0275property("matHeaderRowDef",n.feedbackCols),g.\u0275\u0275advance(),g.\u0275\u0275property("matRowDefColumns",n.feedbackCols),g.\u0275\u0275advance(6),g.\u0275\u0275property("dataSource",n.pd),g.\u0275\u0275advance(13),g.\u0275\u0275property("matHeaderRowDef",n.pdCols),g.\u0275\u0275advance(),g.\u0275\u0275property("matRowDefColumns",n.pdCols),g.\u0275\u0275advance(3),g.\u0275\u0275property("ngForOf",n.filteredGoals))},dependencies:[hf,dr.NgForOf,Cf,$e.DefaultValueAccessor,$e.NgControlStatus,$e.NgModel,L,Ge.MatInput,Ge.MatFormField,Ge.MatLabel,Li.MatSelect,Li.MatOption,ct.MatTable,ct.MatHeaderCellDef,ct.MatHeaderRowDef,ct.MatColumnDef,ct.MatCellDef,ct.MatRowDef,ct.MatHeaderCell,ct.MatCell,ct.MatHeaderRow,ct.MatRow,ct.MatNoDataRow,Vi.MatCard,Vi.MatCardTitle,mr.MatToolbar,pr.MatChip],styles:[".performance-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:12px}.fees-toolbar[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(120deg,#3949ab,#1e88e5);color:#fff;padding:12px 16px}.toolbar-left[_ngcontent-%COMP%]   .eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.08em;font-size:12px;opacity:.9}.toolbar-left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px}.table-wrap[_ngcontent-%COMP%]{overflow-x:auto}.cell-strong[_ngcontent-%COMP%]{font-weight:700}.cell-sub[_ngcontent-%COMP%]{color:#6b7280;font-size:.85rem}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:6px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}.mobile-card[_ngcontent-%COMP%]   .cell-sub[_ngcontent-%COMP%]{color:#6b7280;font-size:12px}@media(max-width:768px){.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}}"]})};import{CommonModule as t1}from"@angular/common";import*as M from"@angular/core";import*as Hi from"@angular/common";import*as ji from"@angular/material/card";import*as ur from"@angular/material/toolbar";import*as Wi from"@angular/material/chips";function e1(i,e){if(i&1&&(M.\u0275\u0275elementStart(0,"div",26)(1,"span",27),M.\u0275\u0275text(2),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"span",28),M.\u0275\u0275text(4),M.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;M.\u0275\u0275styleProp("height",t.value,"%")("background",t.color),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(t.label),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1("",t.value,"%")}}function n1(i,e){if(i&1&&(M.\u0275\u0275namespaceSVG(),M.\u0275\u0275elementContainerStart(0),M.\u0275\u0275element(1,"circle",29),M.\u0275\u0275elementContainerEnd()),i&2){let t=e.$implicit;M.\u0275\u0275advance(),M.\u0275\u0275attribute("stroke-dasharray",t.dash)("stroke-dashoffset",t.offset)("stroke",t.color)}}function i1(i,e){if(i&1&&(M.\u0275\u0275elementStart(0,"div",30),M.\u0275\u0275element(1,"span",31),M.\u0275\u0275elementStart(2,"span"),M.\u0275\u0275text(3),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(4,"span",32),M.\u0275\u0275text(5),M.\u0275\u0275pipe(6,"currency"),M.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;M.\u0275\u0275advance(),M.\u0275\u0275styleProp("background",t.color),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(t.label),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(M.\u0275\u0275pipeBind1(6,4,t.value))}}function a1(i,e){if(i&1&&(M.\u0275\u0275elementStart(0,"div",33)(1,"div",34)(2,"span",27),M.\u0275\u0275text(3),M.\u0275\u0275elementEnd()(),M.\u0275\u0275elementStart(4,"span",35),M.\u0275\u0275text(5),M.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;M.\u0275\u0275advance(),M.\u0275\u0275styleProp("width",t.value,"%")("background",t.color),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(t.label),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(t.value)}}function o1(i,e){if(i&1&&(M.\u0275\u0275elementStart(0,"div",26)(1,"span",27),M.\u0275\u0275text(2),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(3,"span",28),M.\u0275\u0275text(4),M.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;M.\u0275\u0275styleProp("height",t.value,"%")("background",t.color),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(t.label),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1("",t.value,"%")}}function r1(i,e){if(i&1&&(M.\u0275\u0275elementStart(0,"div",33)(1,"div",34)(2,"span",27),M.\u0275\u0275text(3),M.\u0275\u0275elementEnd()(),M.\u0275\u0275elementStart(4,"span",35),M.\u0275\u0275text(5),M.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;M.\u0275\u0275advance(),M.\u0275\u0275styleProp("width",t.value,"%")("background",t.color),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(t.label),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1("",t.value,"h")}}function l1(i,e){if(i&1&&(M.\u0275\u0275elementStart(0,"div",33)(1,"div",34)(2,"span",27),M.\u0275\u0275text(3),M.\u0275\u0275elementEnd()(),M.\u0275\u0275elementStart(4,"span",35),M.\u0275\u0275text(5),M.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;M.\u0275\u0275advance(),M.\u0275\u0275styleProp("width",t.value,"%")("background",t.color),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(t.label),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(t.count)}}function s1(i,e){if(i&1&&(M.\u0275\u0275elementStart(0,"div",33)(1,"div",34)(2,"span",27),M.\u0275\u0275text(3),M.\u0275\u0275elementEnd()(),M.\u0275\u0275elementStart(4,"span",35),M.\u0275\u0275text(5),M.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;M.\u0275\u0275advance(),M.\u0275\u0275styleProp("width",t.value,"%")("background",t.color),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(t.label),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(t.count)}}function c1(i,e){if(i&1&&(M.\u0275\u0275elementStart(0,"div",33)(1,"div",34)(2,"span",27),M.\u0275\u0275text(3),M.\u0275\u0275elementEnd()(),M.\u0275\u0275elementStart(4,"span",35),M.\u0275\u0275text(5),M.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;M.\u0275\u0275advance(),M.\u0275\u0275styleProp("width",t.value,"%")("background",t.color),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(t.label),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate(t.count)}}var En=class i{constructor(e){this.mock=e;this.computeStudentStatus(),this.computeFees(),this.computeAttendance(),this.computeIncidents(),this.computeExams(),this.computePd(),this.computeResources(),this.computeConflicts(),this.computeAdmissions(),this.computeStats(),this.buildGauge()}studentStatus=[];feeSlices=[];feeLegend=[];attendanceRate=0;incidentTypes=[];examAverages=[];gaugePath="";pdHours=[];resourceStatus=[];conflicts=[];admissions=[];stats={totalStudents:0,activeStudents:0,outstanding:0,upcomingEvents:0};computeStudentStatus(){let e=this.mock.getStudents(),t=e.length||1,n=e.filter(o=>(o.status||"").toLowerCase()==="active").length,a=t-n;this.studentStatus=[{label:"Active",value:Math.round(n/t*100),color:"#4ade80"},{label:"Inactive",value:Math.round(a/t*100),color:"#f97316"}]}computeFees(){let e=this.mock.getFees(),t=e.reduce((I,j)=>I+(Number(j.balance)||0),0),n=e.filter(I=>(I.balance||0)===0).length,a=e.length-n;this.feeLegend=[{label:"Outstanding",value:t,color:"#6366f1"},{label:"Cleared",value:n,color:"#22c55e"},{label:"Due count",value:a,color:"#f97316"}];let o=this.feeLegend.reduce((I,j)=>I+(Number(j.value)||0),0)||1,v=25;this.feeSlices=this.feeLegend.map(I=>{let j=Math.max(1,Math.round((Number(I.value)||0)/o*100)),dt={dash:`${j} ${100-j}`,offset:`${v}`,color:I.color};return v-=j,dt})}computeAttendance(){let e=this.mock.getAttendance(),t=new Date().toISOString().slice(0,10),n=e.filter(v=>v.date===t),a=n.filter(v=>v.status==="present").length,o=n.length||1;this.attendanceRate=Math.round(a/o*100)}computeIncidents(){let e=this.mock.getBehaviorIncidents?.()||[],t={};e.forEach(n=>{t[n.type]=(t[n.type]||0)+1}),this.incidentTypes=Object.entries(t).map(([n,a],o)=>({label:n,value:a,color:["#f97316","#22c55e","#6366f1","#eab308"][o%4]}))}computeExams(){let e=this.mock.getExams();this.examAverages=e.map((t,n)=>{let a=t.studentMarks||[],o=a.length?Math.round(a.reduce((v,I)=>v+(I.marks||0),0)/a.length):0;return{label:t.title||`Exam ${n+1}`,value:o,color:["#6366f1","#22c55e","#f97316"][n%3]}})}computePd(){let e=this.mock.getTeacherPd?.()||[];this.pdHours=e.map((t,n)=>({label:t.teacherName||`Teacher ${n+1}`,value:t.hours||0,color:["#10b981","#3b82f6","#a855f7","#f97316"][n%4]}))}computeResources(){let e=this.mock.getResources?.()||[],t={};e.forEach(o=>{t[o.status||"available"]=(t[o.status||"available"]||0)+1});let n=e.length||1,a={available:"#22c55e","in-use":"#3b82f6",maintenance:"#f97316"};this.resourceStatus=Object.entries(t).map(([o,v])=>({label:o,count:v,value:Math.round(v/n*100),color:a[o]||"#6b7280"}))}computeConflicts(){let e=this.mock.getTimetable?.()||[],t=e.filter(o=>o.conflict).length,n=e.length-t,a=e.length||1;this.conflicts=[{label:"Conflicts",count:t,value:Math.round(t/a*100),color:"#f97316"},{label:"OK",count:n,value:Math.round(n/a*100),color:"#22c55e"}]}computeAdmissions(){let e=this.mock.getAdmissions?.()||[],t={};e.forEach(v=>{t[v.status||"new"]=(t[v.status||"new"]||0)+1});let n=e.length||1,a=["#6366f1","#22c55e","#f97316","#0ea5e9"],o=0;this.admissions=Object.entries(t).map(([v,I])=>({label:v,count:I,value:Math.round(I/n*100),color:a[o++%a.length]}))}computeStats(){let e=this.mock.getStudents()||[],t=this.mock.getFees()||[],n=this.mock.getEvents?.()||[];this.stats.totalStudents=e.length,this.stats.activeStudents=e.filter(a=>(a.status||"").toLowerCase()==="active").length,this.stats.outstanding=t.reduce((a,o)=>a+(Number(o.balance)||0),0),this.stats.upcomingEvents=n.length}buildGauge(){let e=Math.min(100,Math.max(0,this.attendanceRate)),t=e/100*Math.PI,n=18+16*Math.cos(Math.PI-t),a=18-16*Math.sin(Math.PI-t),o=e>50?1:0;this.gaugePath=`M2 18 A16 16 0 ${o} 1 ${n.toFixed(2)} ${a.toFixed(2)}`}static \u0275fac=function(t){return new(t||i)(M.\u0275\u0275directiveInject(H))};static \u0275cmp=M.\u0275\u0275defineComponent({type:i,selectors:[["app-analytics"]],decls:72,vars:17,consts:[[1,"fees-page","analytics-page","mat-typography"],["color","primary",1,"fees-toolbar","mat-elevation-z2"],[1,"toolbar-left"],[1,"eyebrow"],[1,"title"],[1,"stats-row","mat-elevation-z2"],["color","primary","selected",""],["color","accent","selected",""],["color","warn","selected",""],[1,"charts-grid"],[1,"chart-card","mat-elevation-z2"],[1,"bar-chart"],["class","bar",3,"height","background",4,"ngFor","ngForOf"],[1,"donut"],["viewBox","0 0 36 36"],["cx","18","cy","18","r","15.9155",1,"bg"],[4,"ngFor","ngForOf"],[1,"donut-legend"],["class","legend-row",4,"ngFor","ngForOf"],[1,"gauge"],["viewBox","0 0 36 18"],["d","M2 18 A16 16 0 0 1 34 18",1,"gauge-bg"],["stroke-linecap","round",1,"gauge-fill"],[1,"gauge-value"],[1,"bar-chart","horizontal"],["class","bar-row",4,"ngFor","ngForOf"],[1,"bar"],[1,"bar-label"],[1,"bar-value"],["cx","18","cy","18","r","15.9155",1,"slice"],[1,"legend-row"],[1,"legend-dot"],[1,"legend-value"],[1,"bar-row"],[1,"bar","horizontal"],[1,"bar-val"]],template:function(t,n){t&1&&(M.\u0275\u0275elementStart(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"div",3),M.\u0275\u0275text(4,"PoliticianHub"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(5,"div",4),M.\u0275\u0275text(6,"Visual Analytics"),M.\u0275\u0275elementEnd()()(),M.\u0275\u0275elementStart(7,"mat-card",5)(8,"mat-chip-set")(9,"mat-chip",6),M.\u0275\u0275text(10),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(11,"mat-chip",7),M.\u0275\u0275text(12),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(13,"mat-chip",8),M.\u0275\u0275text(14),M.\u0275\u0275pipe(15,"currency"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(16,"mat-chip",6),M.\u0275\u0275text(17),M.\u0275\u0275elementEnd()()(),M.\u0275\u0275elementStart(18,"div",9)(19,"mat-card",10)(20,"mat-card-title"),M.\u0275\u0275text(21,"Students status"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(22,"div",11),M.\u0275\u0275template(23,e1,5,6,"div",12),M.\u0275\u0275elementEnd()(),M.\u0275\u0275elementStart(24,"mat-card",10)(25,"mat-card-title"),M.\u0275\u0275text(26,"Fees breakdown"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(27,"div",13),M.\u0275\u0275namespaceSVG(),M.\u0275\u0275elementStart(28,"svg",14),M.\u0275\u0275element(29,"circle",15),M.\u0275\u0275template(30,n1,2,3,"ng-container",16),M.\u0275\u0275elementEnd(),M.\u0275\u0275namespaceHTML(),M.\u0275\u0275elementStart(31,"div",17),M.\u0275\u0275template(32,i1,7,6,"div",18),M.\u0275\u0275elementEnd()()(),M.\u0275\u0275elementStart(33,"mat-card",10)(34,"mat-card-title"),M.\u0275\u0275text(35,"Attendance today"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(36,"div",19),M.\u0275\u0275namespaceSVG(),M.\u0275\u0275elementStart(37,"svg",20),M.\u0275\u0275element(38,"path",21)(39,"path",22),M.\u0275\u0275elementEnd(),M.\u0275\u0275namespaceHTML(),M.\u0275\u0275elementStart(40,"div",23),M.\u0275\u0275text(41),M.\u0275\u0275elementEnd()()(),M.\u0275\u0275elementStart(42,"mat-card",10)(43,"mat-card-title"),M.\u0275\u0275text(44,"Incidents by type"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(45,"div",24),M.\u0275\u0275template(46,a1,6,6,"div",25),M.\u0275\u0275elementEnd()(),M.\u0275\u0275elementStart(47,"mat-card",10)(48,"mat-card-title"),M.\u0275\u0275text(49,"Exam averages"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(50,"div",11),M.\u0275\u0275template(51,o1,5,6,"div",12),M.\u0275\u0275elementEnd()(),M.\u0275\u0275elementStart(52,"mat-card",10)(53,"mat-card-title"),M.\u0275\u0275text(54,"PD hours by teacher"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(55,"div",24),M.\u0275\u0275template(56,r1,6,6,"div",25),M.\u0275\u0275elementEnd()(),M.\u0275\u0275elementStart(57,"mat-card",10)(58,"mat-card-title"),M.\u0275\u0275text(59,"Resource status"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(60,"div",24),M.\u0275\u0275template(61,l1,6,6,"div",25),M.\u0275\u0275elementEnd()(),M.\u0275\u0275elementStart(62,"mat-card",10)(63,"mat-card-title"),M.\u0275\u0275text(64,"Timetable conflicts"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(65,"div",24),M.\u0275\u0275template(66,s1,6,6,"div",25),M.\u0275\u0275elementEnd()(),M.\u0275\u0275elementStart(67,"mat-card",10)(68,"mat-card-title"),M.\u0275\u0275text(69,"Admissions status"),M.\u0275\u0275elementEnd(),M.\u0275\u0275elementStart(70,"div",24),M.\u0275\u0275template(71,c1,6,6,"div",25),M.\u0275\u0275elementEnd()()()()),t&2&&(M.\u0275\u0275advance(10),M.\u0275\u0275textInterpolate1("Students: ",n.stats.totalStudents),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1("Active: ",n.stats.activeStudents),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1("Outstanding: ",M.\u0275\u0275pipeBind1(15,15,n.stats.outstanding)),M.\u0275\u0275advance(3),M.\u0275\u0275textInterpolate1("Events: ",n.stats.upcomingEvents),M.\u0275\u0275advance(6),M.\u0275\u0275property("ngForOf",n.studentStatus),M.\u0275\u0275advance(7),M.\u0275\u0275property("ngForOf",n.feeSlices),M.\u0275\u0275advance(2),M.\u0275\u0275property("ngForOf",n.feeLegend),M.\u0275\u0275advance(7),M.\u0275\u0275attribute("d",n.gaugePath),M.\u0275\u0275advance(2),M.\u0275\u0275textInterpolate1("",n.attendanceRate,"%"),M.\u0275\u0275advance(5),M.\u0275\u0275property("ngForOf",n.incidentTypes),M.\u0275\u0275advance(5),M.\u0275\u0275property("ngForOf",n.examAverages),M.\u0275\u0275advance(5),M.\u0275\u0275property("ngForOf",n.pdHours),M.\u0275\u0275advance(5),M.\u0275\u0275property("ngForOf",n.resourceStatus),M.\u0275\u0275advance(5),M.\u0275\u0275property("ngForOf",n.conflicts),M.\u0275\u0275advance(5),M.\u0275\u0275property("ngForOf",n.admissions))},dependencies:[t1,Hi.NgForOf,L,ji.MatCard,ji.MatCardTitle,ur.MatToolbar,Wi.MatChip,Wi.MatChipSet,Hi.CurrencyPipe],styles:['.analytics-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:12px}.fees-toolbar[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(120deg,#3949ab,#1e88e5);color:#fff;padding:12px 16px}.toolbar-left[_ngcontent-%COMP%]   .eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.08em;font-size:12px;opacity:.9}.toolbar-left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.charts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:12px}.stats-row[_ngcontent-%COMP%]{padding:8px 12px;border-radius:12px}.chart-card[_ngcontent-%COMP%]{padding:12px;border-radius:12px}.bar-chart[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:flex-end;height:180px}.bar[_ngcontent-%COMP%]{flex:1;min-width:50px;border-radius:8px 8px 0 0;background:#6366f1;position:relative;display:grid;place-items:center;padding-top:8px}.bar-label[_ngcontent-%COMP%]{position:absolute;bottom:-22px;font-size:12px;color:#475569}.bar-value[_ngcontent-%COMP%]{font-weight:700;color:#fff}.bar-chart.horizontal[_ngcontent-%COMP%]{flex-direction:column;height:auto}.bar.horizontal[_ngcontent-%COMP%]{height:32px;border-radius:8px;justify-content:flex-start;padding-left:12px;min-width:40%}.bar-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin:6px 0;width:100%}.bar-row[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]{position:static;font-size:12px;color:#475569}.bar-val[_ngcontent-%COMP%]{min-width:40px;font-weight:700;color:#0f172a;text-align:right}.bar-row[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{position:relative}.bar-row[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;border-radius:8px;opacity:.08;background:#0f172a;pointer-events:none}.donut[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}.donut[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:120px;height:120px}.donut[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{fill:none;stroke:#e2e8f0;stroke-width:3.8}.donut[_ngcontent-%COMP%]   .slice[_ngcontent-%COMP%]{fill:none;stroke-width:3.8;stroke-linecap:round;transform:rotate(-90deg);transform-origin:center}.donut-legend[_ngcontent-%COMP%]{display:grid;gap:4px}.legend-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr auto;gap:6px;align-items:center}.legend-dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;display:inline-block}.legend-value[_ngcontent-%COMP%]{font-weight:600}.gauge[_ngcontent-%COMP%]{display:grid;place-items:center;gap:8px}.gauge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:140px;height:70px}.gauge-bg[_ngcontent-%COMP%]{fill:none;stroke:#e2e8f0;stroke-width:3}.gauge-fill[_ngcontent-%COMP%]{fill:none;stroke:#22c55e;stroke-width:3}.gauge-value[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:6px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}.mobile-card[_ngcontent-%COMP%]   .cell-sub[_ngcontent-%COMP%]{color:#6b7280;font-size:12px}@media(max-width:768px){.charts-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})};import{CommonModule as d1}from"@angular/common";import{FormsModule as m1}from"@angular/forms";import*as P from"@angular/core";import*as gr from"@angular/common";import*as qe from"@angular/forms";import*as fr from"@angular/material/button";import*as Qe from"@angular/material/input";import*as Ui from"@angular/material/select";import*as gt from"@angular/material/table";import*as $i from"@angular/material/card";import*as _r from"@angular/material/toolbar";import*as br from"@angular/material/chips";function p1(i,e){if(i&1&&(P.\u0275\u0275elementStart(0,"mat-card",31)(1,"div",32)(2,"div")(3,"div",33),P.\u0275\u0275text(4),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementStart(5,"div",34),P.\u0275\u0275text(6),P.\u0275\u0275elementEnd()(),P.\u0275\u0275elementStart(7,"mat-chip",35),P.\u0275\u0275text(8),P.\u0275\u0275elementEnd()(),P.\u0275\u0275elementStart(9,"div",36),P.\u0275\u0275text(10),P.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit;P.\u0275\u0275classProp("fade-in",!0),P.\u0275\u0275advance(4),P.\u0275\u0275textInterpolate(t.name),P.\u0275\u0275advance(2),P.\u0275\u0275textInterpolate(t.role),P.\u0275\u0275advance(2),P.\u0275\u0275textInterpolate(t.email||"\u2014"),P.\u0275\u0275advance(2),P.\u0275\u0275textInterpolate1("Phone: ",t.phone||"\u2014")}}function u1(i,e){i&1&&(P.\u0275\u0275elementStart(0,"th",37),P.\u0275\u0275text(1,"Date"),P.\u0275\u0275elementEnd())}function g1(i,e){if(i&1&&(P.\u0275\u0275elementStart(0,"td",38),P.\u0275\u0275text(1),P.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;P.\u0275\u0275advance(),P.\u0275\u0275textInterpolate(t.date)}}function f1(i,e){i&1&&(P.\u0275\u0275elementStart(0,"th",37),P.\u0275\u0275text(1,"Class"),P.\u0275\u0275elementEnd())}function _1(i,e){if(i&1&&(P.\u0275\u0275elementStart(0,"td",38),P.\u0275\u0275text(1),P.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;P.\u0275\u0275advance(),P.\u0275\u0275textInterpolate(t.classId)}}function b1(i,e){i&1&&(P.\u0275\u0275elementStart(0,"th",37),P.\u0275\u0275text(1,"Subject"),P.\u0275\u0275elementEnd())}function h1(i,e){if(i&1&&(P.\u0275\u0275elementStart(0,"td",38),P.\u0275\u0275text(1),P.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;P.\u0275\u0275advance(),P.\u0275\u0275textInterpolate(t.subject)}}function C1(i,e){i&1&&(P.\u0275\u0275elementStart(0,"th",37),P.\u0275\u0275text(1,"Requester"),P.\u0275\u0275elementEnd())}function x1(i,e){if(i&1&&(P.\u0275\u0275elementStart(0,"td",38),P.\u0275\u0275text(1),P.\u0275\u0275elementEnd()),i&2){let t=e.$implicit;P.\u0275\u0275advance(),P.\u0275\u0275textInterpolate(t.requester)}}function M1(i,e){i&1&&(P.\u0275\u0275elementStart(0,"th",37),P.\u0275\u0275text(1,"Status"),P.\u0275\u0275elementEnd())}function v1(i,e){if(i&1&&(P.\u0275\u0275elementStart(0,"td",38)(1,"mat-chip",39),P.\u0275\u0275text(2),P.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit,n=P.\u0275\u0275nextContext();P.\u0275\u0275advance(),P.\u0275\u0275property("color",n.statusColor(t.status)),P.\u0275\u0275advance(),P.\u0275\u0275textInterpolate(t.status)}}function y1(i,e){i&1&&P.\u0275\u0275element(0,"th",37)}function w1(i,e){if(i&1){let t=P.\u0275\u0275getCurrentView();P.\u0275\u0275elementStart(0,"td",38)(1,"button",40),P.\u0275\u0275listener("click",function(){let a=P.\u0275\u0275restoreView(t).$implicit,o=P.\u0275\u0275nextContext();return P.\u0275\u0275resetView(o.assign(a))}),P.\u0275\u0275text(2,"Assign"),P.\u0275\u0275elementEnd()()}}function P1(i,e){i&1&&P.\u0275\u0275element(0,"tr",41)}function O1(i,e){i&1&&P.\u0275\u0275element(0,"tr",42)}function S1(i,e){if(i&1&&(P.\u0275\u0275elementStart(0,"div",43)(1,"div",32)(2,"div",44),P.\u0275\u0275text(3),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementStart(4,"mat-chip",39),P.\u0275\u0275text(5),P.\u0275\u0275elementEnd()(),P.\u0275\u0275elementStart(6,"div",45),P.\u0275\u0275text(7),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementStart(8,"div",45),P.\u0275\u0275text(9),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementStart(10,"div",45),P.\u0275\u0275text(11),P.\u0275\u0275elementEnd()()),i&2){let t=e.$implicit,n=P.\u0275\u0275nextContext();P.\u0275\u0275advance(3),P.\u0275\u0275textInterpolate2("",t.classId," \xB7 ",t.subject),P.\u0275\u0275advance(),P.\u0275\u0275property("color",n.statusColor(t.status)),P.\u0275\u0275advance(),P.\u0275\u0275textInterpolate(t.status),P.\u0275\u0275advance(2),P.\u0275\u0275textInterpolate2("",t.date," \xB7 ",t.period),P.\u0275\u0275advance(2),P.\u0275\u0275textInterpolate1("Requester: ",t.requester),P.\u0275\u0275advance(2),P.\u0275\u0275textInterpolate1("Sub: ",t.substitute||"Unassigned")}}var kn=class i{constructor(e){this.mock=e;this.staff=e.getStaff(),this.coverage=e.getCoverageRequests(),this.filterStaff(),this.filterCoverage()}staff=[];filteredStaff=[];coverage=[];filteredCoverage=[];coverageCols=["date","class","subject","requester","status","actions"];staffSearch="";coverageStatus="all";filterStaff(){let e=this.staffSearch.trim().toLowerCase();this.filteredStaff=this.staff.filter(t=>!e||[t.name,t.role,t.email,t.phone].some(n=>(n||"").toLowerCase().includes(e)))}filterCoverage(){this.filteredCoverage=this.coverage.filter(e=>this.coverageStatus==="all"||e.status===this.coverageStatus)}statusColor(e){return e==="open"?"warn":e==="assigned"?"accent":"primary"}assign(e){this.mock.updateCoverage(e.id,{status:"assigned",substitute:"Available staff"}),this.coverage=this.mock.getCoverageRequests(),this.filterCoverage()}static \u0275fac=function(t){return new(t||i)(P.\u0275\u0275directiveInject(H))};static \u0275cmp=P.\u0275\u0275defineComponent({type:i,selectors:[["app-staffing"]],decls:54,vars:7,consts:[[1,"fees-page","staffing-page","mat-typography"],["color","primary",1,"fees-toolbar","mat-elevation-z2"],[1,"toolbar-left"],[1,"eyebrow"],[1,"title"],[1,"filters-card","mat-elevation-z2"],[1,"filter-grid"],["appearance","fill"],["matInput","","placeholder","name or role",3,"ngModelChange","ngModel"],[3,"ngModelChange","selectionChange","ngModel"],["value","all"],["value","open"],["value","assigned"],["value","closed"],[1,"cards-grid"],["class","staff-card mat-elevation-z2",3,"fade-in",4,"ngFor","ngForOf"],[1,"table-card","mat-elevation-z2","desktop-only"],[1,"table-wrap"],["mat-table","",1,"mat-elevation-z2","mat-table",3,"dataSource"],["matColumnDef","date"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","class"],["matColumnDef","subject"],["matColumnDef","requester"],["matColumnDef","status"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"mobile-only","mobile-card-list"],["class","mobile-card fade-in",4,"ngFor","ngForOf"],[1,"staff-card","mat-elevation-z2"],[1,"card-row"],[1,"staff-name"],[1,"staff-role"],["color","primary","selected",""],[1,"card-meta"],["mat-header-cell",""],["mat-cell",""],["selected","",3,"color"],["mat-stroked-button","","color","primary",1,"ghost-button",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mobile-card","fade-in"],[1,"cell-strong"],[1,"cell-sub"]],template:function(t,n){t&1&&(P.\u0275\u0275elementStart(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"div",3),P.\u0275\u0275text(4,"School Management"),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementStart(5,"div",4),P.\u0275\u0275text(6,"Staff Directory & Coverage"),P.\u0275\u0275elementEnd()()(),P.\u0275\u0275elementStart(7,"mat-card",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),P.\u0275\u0275text(11,"Search staff"),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementStart(12,"input",8),P.\u0275\u0275twoWayListener("ngModelChange",function(o){return P.\u0275\u0275twoWayBindingSet(n.staffSearch,o)||(n.staffSearch=o),o}),P.\u0275\u0275listener("ngModelChange",function(){return n.filterStaff()}),P.\u0275\u0275elementEnd()(),P.\u0275\u0275elementStart(13,"mat-form-field",7)(14,"mat-label"),P.\u0275\u0275text(15,"Coverage status"),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementStart(16,"mat-select",9),P.\u0275\u0275twoWayListener("ngModelChange",function(o){return P.\u0275\u0275twoWayBindingSet(n.coverageStatus,o)||(n.coverageStatus=o),o}),P.\u0275\u0275listener("selectionChange",function(){return n.filterCoverage()}),P.\u0275\u0275elementStart(17,"mat-option",10),P.\u0275\u0275text(18,"All"),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementStart(19,"mat-option",11),P.\u0275\u0275text(20,"Open"),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementStart(21,"mat-option",12),P.\u0275\u0275text(22,"Assigned"),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementStart(23,"mat-option",13),P.\u0275\u0275text(24,"Closed"),P.\u0275\u0275elementEnd()()()()(),P.\u0275\u0275elementStart(25,"div",14),P.\u0275\u0275template(26,p1,11,6,"mat-card",15),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementStart(27,"mat-card",16)(28,"mat-card-title"),P.\u0275\u0275text(29,"Coverage requests"),P.\u0275\u0275elementEnd(),P.\u0275\u0275elementStart(30,"div",17)(31,"table",18),P.\u0275\u0275elementContainerStart(32,19),P.\u0275\u0275template(33,u1,2,0,"th",20)(34,g1,2,1,"td",21),P.\u0275\u0275elementContainerEnd(),P.\u0275\u0275elementContainerStart(35,22),P.\u0275\u0275template(36,f1,2,0,"th",20)(37,_1,2,1,"td",21),P.\u0275\u0275elementContainerEnd(),P.\u0275\u0275elementContainerStart(38,23),P.\u0275\u0275template(39,b1,2,0,"th",20)(40,h1,2,1,"td",21),P.\u0275\u0275elementContainerEnd(),P.\u0275\u0275elementContainerStart(41,24),P.\u0275\u0275template(42,C1,2,0,"th",20)(43,x1,2,1,"td",21),P.\u0275\u0275elementContainerEnd(),P.\u0275\u0275elementContainerStart(44,25),P.\u0275\u0275template(45,M1,2,0,"th",20)(46,v1,3,2,"td",21),P.\u0275\u0275elementContainerEnd(),P.\u0275\u0275elementContainerStart(47,26),P.\u0275\u0275template(48,y1,1,0,"th",20)(49,w1,3,0,"td",21),P.\u0275\u0275elementContainerEnd(),P.\u0275\u0275template(50,P1,1,0,"tr",27)(51,O1,1,0,"tr",28),P.\u0275\u0275elementEnd()()(),P.\u0275\u0275elementStart(52,"mat-card",29),P.\u0275\u0275template(53,S1,12,8,"div",30),P.\u0275\u0275elementEnd()()),t&2&&(P.\u0275\u0275advance(12),P.\u0275\u0275twoWayProperty("ngModel",n.staffSearch),P.\u0275\u0275advance(4),P.\u0275\u0275twoWayProperty("ngModel",n.coverageStatus),P.\u0275\u0275advance(10),P.\u0275\u0275property("ngForOf",n.filteredStaff),P.\u0275\u0275advance(5),P.\u0275\u0275property("dataSource",n.filteredCoverage),P.\u0275\u0275advance(19),P.\u0275\u0275property("matHeaderRowDef",n.coverageCols),P.\u0275\u0275advance(),P.\u0275\u0275property("matRowDefColumns",n.coverageCols),P.\u0275\u0275advance(2),P.\u0275\u0275property("ngForOf",n.filteredCoverage))},dependencies:[d1,gr.NgForOf,m1,qe.DefaultValueAccessor,qe.NgControlStatus,qe.NgModel,L,fr.MatButton,Qe.MatInput,Qe.MatFormField,Qe.MatLabel,Ui.MatSelect,Ui.MatOption,gt.MatTable,gt.MatHeaderCellDef,gt.MatHeaderRowDef,gt.MatColumnDef,gt.MatCellDef,gt.MatRowDef,gt.MatHeaderCell,gt.MatCell,gt.MatHeaderRow,gt.MatRow,$i.MatCard,$i.MatCardTitle,_r.MatToolbar,br.MatChip],styles:[".staffing-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:12px}.fees-toolbar[_ngcontent-%COMP%]{border-radius:12px;background:linear-gradient(120deg,#3949ab,#1e88e5);color:#fff;padding:12px 16px}.toolbar-left[_ngcontent-%COMP%]   .eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.08em;font-size:12px;opacity:.9}.toolbar-left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:22px;font-weight:700}.cards-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}.staff-card[_ngcontent-%COMP%]{padding:12px;border-radius:12px;overflow:hidden;position:relative}.staff-card.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .4s ease}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.staff-name[_ngcontent-%COMP%]{font-weight:700;font-size:1rem}.staff-role[_ngcontent-%COMP%]{color:#6b7280;font-size:.9rem}.card-meta[_ngcontent-%COMP%]{color:#475569;font-size:.9rem;margin-top:6px}.table-wrap[_ngcontent-%COMP%]{overflow-x:auto}.cell-strong[_ngcontent-%COMP%]{font-weight:700}.cell-sub[_ngcontent-%COMP%]{font-size:.85rem;color:#6b7280}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}.mobile-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff;box-shadow:0 1px 4px #0000000d;display:grid;gap:6px}.mobile-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}.mobile-card[_ngcontent-%COMP%]   .cell-sub[_ngcontent-%COMP%]{color:#6b7280;font-size:12px}@media(max-width:768px){.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:grid;gap:12px}}"]})};import{CommonModule as E1}from"@angular/common";import{FormsModule as k1}from"@angular/forms";import{RouterLink as T1}from"@angular/router";import*as A from"@angular/core";import*as Ye from"@angular/common";import*as Gi from"@angular/forms";import*as hr from"@angular/material/button";import*as qi from"@angular/material/input";import*as Qi from"@angular/material/select";import*as Cr from"@angular/material/card";import*as xr from"@angular/material/checkbox";import*as Mr from"@angular/material/chips";var D1=i=>({"pill-unread":i});function I1(i,e){if(i&1&&(A.\u0275\u0275elementStart(0,"a",31),A.\u0275\u0275text(1,"Open"),A.\u0275\u0275elementEnd()),i&2){let t=A.\u0275\u0275nextContext().$implicit;A.\u0275\u0275property("routerLink",t.link)}}function F1(i,e){if(i&1){let t=A.\u0275\u0275getCurrentView();A.\u0275\u0275elementStart(0,"mat-card",21)(1,"div",22)(2,"mat-chip",23),A.\u0275\u0275text(3),A.\u0275\u0275elementEnd(),A.\u0275\u0275elementStart(4,"div",24),A.\u0275\u0275text(5),A.\u0275\u0275elementEnd()(),A.\u0275\u0275elementStart(6,"div",25),A.\u0275\u0275text(7),A.\u0275\u0275elementEnd(),A.\u0275\u0275elementStart(8,"div",26),A.\u0275\u0275text(9),A.\u0275\u0275elementEnd(),A.\u0275\u0275elementStart(10,"div",27),A.\u0275\u0275text(11),A.\u0275\u0275elementEnd(),A.\u0275\u0275elementStart(12,"div",28)(13,"button",29),A.\u0275\u0275listener("click",function(){let a=A.\u0275\u0275restoreView(t).$implicit,o=A.\u0275\u0275nextContext();return A.\u0275\u0275resetView(o.markRead(a))}),A.\u0275\u0275text(14,"Mark read"),A.\u0275\u0275elementEnd(),A.\u0275\u0275template(15,I1,2,1,"a",30),A.\u0275\u0275elementEnd()()}if(i&2){let t=e.$implicit,n=A.\u0275\u0275nextContext();A.\u0275\u0275advance(2),A.\u0275\u0275property("color",n.chipColor(t.priority)),A.\u0275\u0275advance(),A.\u0275\u0275textInterpolate(t.type),A.\u0275\u0275advance(),A.\u0275\u0275property("ngClass",A.\u0275\u0275pureFunction1(8,D1,t.unread)),A.\u0275\u0275advance(),A.\u0275\u0275textInterpolate(t.unread?"Unread":"Read"),A.\u0275\u0275advance(2),A.\u0275\u0275textInterpolate(t.title),A.\u0275\u0275advance(2),A.\u0275\u0275textInterpolate(t.message),A.\u0275\u0275advance(2),A.\u0275\u0275textInterpolate1("Date: ",t.date),A.\u0275\u0275advance(4),A.\u0275\u0275property("ngIf",t.link)}}var Tn=class i{constructor(e){this.mock=e;this.notifications=e.getNotifications(),this.applyFilters()}notifications=[];filtered=[];typeFilter="all";unreadOnly=!1;chipColor(e){return e==="high"?"warn":e==="low"?"accent":"primary"}applyFilters(){this.filtered=this.notifications.filter(e=>{let t=this.typeFilter==="all"||e.type===this.typeFilter,n=!this.unreadOnly||!!e.unread;return t&&n})}markRead(e){this.mock.updateNotification(e.id,{unread:!1}),this.notifications=this.mock.getNotifications(),this.applyFilters()}markAllRead(){this.notifications.forEach(e=>this.mock.updateNotification(e.id,{unread:!1})),this.notifications=this.mock.getNotifications(),this.applyFilters()}static \u0275fac=function(t){return new(t||i)(A.\u0275\u0275directiveInject(H))};static \u0275cmp=A.\u0275\u0275defineComponent({type:i,selectors:[["app-notifications"]],decls:34,vars:3,consts:[[1,"notifications-page","mat-typography"],[1,"hero","mat-elevation-z2"],[1,"hero-text"],[1,"eyebrow"],[1,"title"],[1,"subtitle"],[1,"hero-actions"],["mat-flat-button","","color","primary",3,"click"],[1,"filters-card","mat-elevation-z2"],[1,"filter-grid"],["appearance","fill"],[3,"ngModelChange","selectionChange","ngModel"],["value","all"],["value","fee"],["value","attendance"],["value","behavior"],["value","coverage"],["value","event"],[3,"ngModelChange","change","ngModel"],[1,"cards-grid"],["class","notif-card mat-elevation-z2 fade-in",4,"ngFor","ngForOf"],[1,"notif-card","mat-elevation-z2","fade-in"],[1,"card-row"],["selected","",3,"color"],[1,"pill",3,"ngClass"],[1,"notif-title"],[1,"notif-body"],[1,"notif-meta"],[1,"action-row"],["mat-stroked-button","","color","primary",1,"ghost-button",3,"click"],["class","ghost-link",3,"routerLink",4,"ngIf"],[1,"ghost-link",3,"routerLink"]],template:function(t,n){t&1&&(A.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),A.\u0275\u0275text(4,"PoliticianHub"),A.\u0275\u0275elementEnd(),A.\u0275\u0275elementStart(5,"div",4),A.\u0275\u0275text(6,"Notifications Center"),A.\u0275\u0275elementEnd(),A.\u0275\u0275elementStart(7,"div",5),A.\u0275\u0275text(8,"Stay on top of fees, attendance, behavior, and events"),A.\u0275\u0275elementEnd()(),A.\u0275\u0275elementStart(9,"div",6)(10,"button",7),A.\u0275\u0275listener("click",function(){return n.markAllRead()}),A.\u0275\u0275text(11,"Mark all read"),A.\u0275\u0275elementEnd()()(),A.\u0275\u0275elementStart(12,"mat-card",8)(13,"div",9)(14,"mat-form-field",10)(15,"mat-label"),A.\u0275\u0275text(16,"Filter by type"),A.\u0275\u0275elementEnd(),A.\u0275\u0275elementStart(17,"mat-select",11),A.\u0275\u0275twoWayListener("ngModelChange",function(o){return A.\u0275\u0275twoWayBindingSet(n.typeFilter,o)||(n.typeFilter=o),o}),A.\u0275\u0275listener("selectionChange",function(){return n.applyFilters()}),A.\u0275\u0275elementStart(18,"mat-option",12),A.\u0275\u0275text(19,"All"),A.\u0275\u0275elementEnd(),A.\u0275\u0275elementStart(20,"mat-option",13),A.\u0275\u0275text(21,"Fees"),A.\u0275\u0275elementEnd(),A.\u0275\u0275elementStart(22,"mat-option",14),A.\u0275\u0275text(23,"Attendance"),A.\u0275\u0275elementEnd(),A.\u0275\u0275elementStart(24,"mat-option",15),A.\u0275\u0275text(25,"Behavior"),A.\u0275\u0275elementEnd(),A.\u0275\u0275elementStart(26,"mat-option",16),A.\u0275\u0275text(27,"Coverage"),A.\u0275\u0275elementEnd(),A.\u0275\u0275elementStart(28,"mat-option",17),A.\u0275\u0275text(29,"Events"),A.\u0275\u0275elementEnd()()(),A.\u0275\u0275elementStart(30,"mat-checkbox",18),A.\u0275\u0275twoWayListener("ngModelChange",function(o){return A.\u0275\u0275twoWayBindingSet(n.unreadOnly,o)||(n.unreadOnly=o),o}),A.\u0275\u0275listener("change",function(){return n.applyFilters()}),A.\u0275\u0275text(31,"Unread only"),A.\u0275\u0275elementEnd()()(),A.\u0275\u0275elementStart(32,"div",19),A.\u0275\u0275template(33,F1,16,10,"mat-card",20),A.\u0275\u0275elementEnd()()),t&2&&(A.\u0275\u0275advance(17),A.\u0275\u0275twoWayProperty("ngModel",n.typeFilter),A.\u0275\u0275advance(13),A.\u0275\u0275twoWayProperty("ngModel",n.unreadOnly),A.\u0275\u0275advance(3),A.\u0275\u0275property("ngForOf",n.filtered))},dependencies:[E1,Ye.NgClass,Ye.NgForOf,Ye.NgIf,k1,Gi.NgControlStatus,Gi.NgModel,L,hr.MatButton,qi.MatFormField,qi.MatLabel,Qi.MatSelect,Qi.MatOption,Cr.MatCard,xr.MatCheckbox,Mr.MatChip,T1],styles:['.notifications-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:16px;background:radial-gradient(circle at 10% 10%,rgba(26,115,232,.05),transparent 35%),#f7f9fb}.hero[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:12px;padding:14px 18px;border-radius:16px;background:linear-gradient(90deg,#3650c2,#2185e7);color:#fff}.hero-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.08em;font-weight:700;font-size:12px;opacity:.9}.title[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.subtitle[_ngcontent-%COMP%]{opacity:.9}.hero-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.filters-card[_ngcontent-%COMP%]{padding:12px;border:1px solid #e3e8f0;border-radius:12px}.filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;align-items:center}.cards-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px}.notif-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;border:1px solid #e3e8f0;border-left:4px solid #1e88e5;background:#fff;border-radius:12px;padding:10px 12px;box-shadow:0 6px 18px #11269214;transition:transform .12s ease,box-shadow .12s ease;position:relative;overflow:hidden}.notif-card[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#2188e50f,#fff0);pointer-events:none}.notif-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 22px #1126921f}.card-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:8px;padding-bottom:6px;border-bottom:1px solid #eef1f6}.pill[_ngcontent-%COMP%]{padding:4px 10px;border-radius:999px;background:#e6edf7;color:#1b3556;font-weight:600;font-size:12px}.pill-unread[_ngcontent-%COMP%]{background:#ffe8e6;color:#b71c1c}.notif-title[_ngcontent-%COMP%]{font-weight:700;font-size:16px}.notif-body[_ngcontent-%COMP%]{color:#42526e;line-height:1.4}.notif-meta[_ngcontent-%COMP%]{font-size:12px;color:#607089;font-weight:600}.action-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:10px}.ghost-link[_ngcontent-%COMP%]{color:#1e88e5;font-weight:700;text-decoration:none}.ghost-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in .22s ease-in}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}@media(max-width:640px){.hero[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.action-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}}']})};import*as Yi from"@angular/core";var z1=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"students",component:Je},{path:"teachers",component:Ke},{path:"classes",component:tn},{path:"attendance",component:an},{path:"fees",component:on,children:[{path:"",component:ue},{path:"collect",component:ue},{path:"categories",component:ln},{path:"structure",component:sn},{path:"history",component:cn},{path:"discounts",component:mn},{path:"receipts",component:pn},{path:"reminders",component:un},{path:"my-fees",component:dn}]},{path:"admissions",component:_n},{path:"announcements",component:hn},{path:"behavior",component:bn},{path:"library",component:Cn},{path:"transport",component:xn},{path:"clubs",component:Mn},{path:"parents",component:vn},{path:"health",component:yn},{path:"assets",component:wn},{path:"events",component:Pn},{path:"resources",component:On},{path:"performance",component:Sn},{path:"analytics",component:En},{path:"staffing",component:kn},{path:"notifications",component:Tn},{path:"timetable",component:gn},{path:"exams",component:fn}],vr=class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Yi.\u0275\u0275defineNgModule({type:i});static \u0275inj=Yi.\u0275\u0275defineInjector({providers:[N1()],imports:[A1,R1.forChild(z1),Je,Ke,tn,an,on,ln,sn,ue,cn,dn,mn,pn,un,_n,hn,bn,Cn,xn,Mn,vn,yn,wn,Pn,On,Sn,En,kn,Tn,gn,fn]})};export{vr as SchoolsModule};
